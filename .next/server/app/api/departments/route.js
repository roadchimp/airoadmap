"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/departments/route";
exports.ids = ["app/api/departments/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = import("pg");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdepartments%2Froute&page=%2Fapi%2Fdepartments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdepartments%2Froute.ts&appDir=%2FUsers%2Fsamsena%2FDocuments%2FRepos%2Fairoadmap%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamsena%2FDocuments%2FRepos%2Fairoadmap&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdepartments%2Froute&page=%2Fapi%2Fdepartments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdepartments%2Froute.ts&appDir=%2FUsers%2Fsamsena%2FDocuments%2FRepos%2Fairoadmap%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamsena%2FDocuments%2FRepos%2Fairoadmap&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_samsena_Documents_Repos_airoadmap_app_api_departments_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/departments/route.ts */ \"(rsc)/./app/api/departments/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_Users_samsena_Documents_Repos_airoadmap_app_api_departments_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_Users_samsena_Documents_Repos_airoadmap_app_api_departments_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/departments/route\",\n        pathname: \"/api/departments\",\n        filename: \"route\",\n        bundlePath: \"app/api/departments/route\"\n    },\n    resolvedPagePath: \"/Users/samsena/Documents/Repos/airoadmap/app/api/departments/route.ts\",\n    nextConfigOutput,\n    userland: _Users_samsena_Documents_Repos_airoadmap_app_api_departments_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/departments/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkZXBhcnRtZW50cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZGVwYXJ0bWVudHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZkZXBhcnRtZW50cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnNhbXNlbmElMkZEb2N1bWVudHMlMkZSZXBvcyUyRmFpcm9hZG1hcCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZzYW1zZW5hJTJGRG9jdW1lbnRzJTJGUmVwb3MlMkZhaXJvYWRtYXAmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3FCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZILHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdC1leHByZXNzLz8wMzlkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9zYW1zZW5hL0RvY3VtZW50cy9SZXBvcy9haXJvYWRtYXAvYXBwL2FwaS9kZXBhcnRtZW50cy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZGVwYXJ0bWVudHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9kZXBhcnRtZW50c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZGVwYXJ0bWVudHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvc2Ftc2VuYS9Eb2N1bWVudHMvUmVwb3MvYWlyb2FkbWFwL2FwcC9hcGkvZGVwYXJ0bWVudHMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2RlcGFydG1lbnRzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdepartments%2Froute&page=%2Fapi%2Fdepartments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdepartments%2Froute.ts&appDir=%2FUsers%2Fsamsena%2FDocuments%2FRepos%2Fairoadmap%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamsena%2FDocuments%2FRepos%2Fairoadmap&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/departments/route.ts":
/*!**************************************!*\
  !*** ./app/api/departments/route.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _server_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/server/storage */ \"(rsc)/./server/storage.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_server_storage__WEBPACK_IMPORTED_MODULE_1__]);\n_server_storage__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n // Assuming @/server alias points to server/\nasync function GET() {\n    try {\n        const departments = await _server_storage__WEBPACK_IMPORTED_MODULE_1__.storage.listDepartments();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(departments);\n    } catch (error) {\n        console.error(\"Error fetching departments:\", error);\n        // Determine the type of error and respond accordingly\n        let errorMessage = \"Internal Server Error\";\n        let statusCode = 500;\n        // Example: Check if it's a specific storage error if applicable\n        // if (error instanceof SpecificStorageError) { \n        //   errorMessage = error.message;\n        //   statusCode = error.statusCode || 500; \n        // } else if (error instanceof Error) {\n        //   errorMessage = error.message; // Generic error message\n        // }\n        // For now, using a generic error response\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: errorMessage\n        }, {\n            status: statusCode\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2RlcGFydG1lbnRzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyQztBQUNBLENBQUMsNENBQTRDO0FBRWpGLGVBQWVFO0lBQ3BCLElBQUk7UUFDRixNQUFNQyxjQUFjLE1BQU1GLG9EQUFPQSxDQUFDRyxlQUFlO1FBQ2pELE9BQU9KLHFEQUFZQSxDQUFDSyxJQUFJLENBQUNGO0lBQzNCLEVBQUUsT0FBT0csT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsK0JBQStCQTtRQUM3QyxzREFBc0Q7UUFDdEQsSUFBSUUsZUFBZTtRQUNuQixJQUFJQyxhQUFhO1FBRWpCLGdFQUFnRTtRQUNoRSxnREFBZ0Q7UUFDaEQsa0NBQWtDO1FBQ2xDLDJDQUEyQztRQUMzQyx1Q0FBdUM7UUFDdkMsMkRBQTJEO1FBQzNELElBQUk7UUFFSiwwQ0FBMEM7UUFDMUMsSUFBSUgsaUJBQWlCSSxPQUFPO1lBQzFCRixlQUFlRixNQUFNSyxPQUFPO1FBQzlCO1FBRUEsT0FBT1gscURBQVlBLENBQUNLLElBQUksQ0FBQztZQUFFTSxTQUFTSDtRQUFhLEdBQUc7WUFBRUksUUFBUUg7UUFBVztJQUMzRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdC1leHByZXNzLy4vYXBwL2FwaS9kZXBhcnRtZW50cy9yb3V0ZS50cz9mZDk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHN0b3JhZ2UgfSBmcm9tICdAL3NlcnZlci9zdG9yYWdlJzsgLy8gQXNzdW1pbmcgQC9zZXJ2ZXIgYWxpYXMgcG9pbnRzIHRvIHNlcnZlci9cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkZXBhcnRtZW50cyA9IGF3YWl0IHN0b3JhZ2UubGlzdERlcGFydG1lbnRzKCk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGRlcGFydG1lbnRzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkZXBhcnRtZW50czonLCBlcnJvcik7XG4gICAgLy8gRGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGVycm9yIGFuZCByZXNwb25kIGFjY29yZGluZ2x5XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9ICdJbnRlcm5hbCBTZXJ2ZXIgRXJyb3InO1xuICAgIGxldCBzdGF0dXNDb2RlID0gNTAwO1xuXG4gICAgLy8gRXhhbXBsZTogQ2hlY2sgaWYgaXQncyBhIHNwZWNpZmljIHN0b3JhZ2UgZXJyb3IgaWYgYXBwbGljYWJsZVxuICAgIC8vIGlmIChlcnJvciBpbnN0YW5jZW9mIFNwZWNpZmljU3RvcmFnZUVycm9yKSB7IFxuICAgIC8vICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAvLyAgIHN0YXR1c0NvZGUgPSBlcnJvci5zdGF0dXNDb2RlIHx8IDUwMDsgXG4gICAgLy8gfSBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgLy8gICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOyAvLyBHZW5lcmljIGVycm9yIG1lc3NhZ2VcbiAgICAvLyB9XG5cbiAgICAvLyBGb3Igbm93LCB1c2luZyBhIGdlbmVyaWMgZXJyb3IgcmVzcG9uc2VcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiBlcnJvck1lc3NhZ2UgfSwgeyBzdGF0dXM6IHN0YXR1c0NvZGUgfSk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInN0b3JhZ2UiLCJHRVQiLCJkZXBhcnRtZW50cyIsImxpc3REZXBhcnRtZW50cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJlcnJvck1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiRXJyb3IiLCJtZXNzYWdlIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/departments/route.ts\n");

/***/ }),

/***/ "(rsc)/./server/pg-storage.ts":
/*!******************************!*\
  !*** ./server/pg-storage.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PgStorage: () => (/* binding */ PgStorage)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_node_postgres__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/node-postgres */ \"(rsc)/./node_modules/drizzle-orm/node-postgres/driver.js\");\n/* harmony import */ var drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/neon-http */ \"(rsc)/./node_modules/drizzle-orm/neon-http/driver.js\");\n/* harmony import */ var _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @neondatabase/serverless */ \"(rsc)/./node_modules/@neondatabase/serverless/index.mjs\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/select.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/sql.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ \"(rsc)/./node_modules/dotenv/lib/main.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared/schema.ts */ \"(rsc)/./shared/schema.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([drizzle_orm_node_postgres__WEBPACK_IMPORTED_MODULE_4__]);\ndrizzle_orm_node_postgres__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n// Import the schema\n\n// Load root .env file for local development\nif (true) {\n    // Ensure dotenv is only loaded if not on Vercel\n    if (!process.env.VERCEL_ENV) {\n        dotenv__WEBPACK_IMPORTED_MODULE_1___default().config({\n            path: \".env\"\n        });\n    }\n}\nclass PgStorage {\n    constructor(){\n        this.isInitialized = false;\n        this.initPromise = this.initializeAsync();\n    }\n    async initializeAsync() {\n        try {\n            let connectionString;\n            // Use Neon connection string on Vercel\n            if (process.env.VERCEL_ENV === \"production\" || process.env.VERCEL_ENV === \"preview\") {\n                console.log(\"Initializing Neon HTTP database connection for Vercel\");\n                connectionString = process.env.DATABASE_POSTGRES_URL;\n                if (!connectionString) {\n                    throw new Error(\"DATABASE_POSTGRES_URL environment variable not set for Vercel environment\");\n                }\n                const sql = (0,_neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.neon)(connectionString);\n                this.db = (0,drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_3__.drizzle)(sql);\n                this.isInitialized = true;\n                console.log(\"Neon HTTP database connection established\");\n            } else {\n                // Use local DATABASE_URL for local development\n                console.log(\"Initializing standard PostgreSQL connection for local development\");\n                connectionString = process.env.DATABASE_URL;\n                if (!connectionString) {\n                    throw new Error(\"DATABASE_URL environment variable not set for local development (check .env file)\");\n                }\n                const pg = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! pg */ \"pg\"));\n                this.pool = new pg.Pool({\n                    connectionString\n                });\n                this.db = (0,drizzle_orm_node_postgres__WEBPACK_IMPORTED_MODULE_4__.drizzle)(this.pool);\n                this.isInitialized = true;\n                console.log(\"Standard PostgreSQL database connection established\");\n            }\n        } catch (error) {\n            console.error(\"Error initializing database connection:\", error);\n            throw error;\n        }\n    }\n    // Helper method to ensure DB is initialized before any operation\n    async ensureInitialized() {\n        if (!this.isInitialized) {\n            await this.initPromise;\n        }\n    }\n    async disconnect() {\n        // Only need to disconnect the pool for local pg connections\n        if (this.pool) {\n            await this.pool.end();\n            console.log(\"Standard PostgreSQL database connection closed\");\n        }\n        this.isInitialized = false;\n    }\n    // User methods\n    async getUser(id) {\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.users.id, id));\n        return result[0];\n    }\n    async getUserByUsername(username) {\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.users.username, username));\n        return result[0];\n    }\n    async createUser(user) {\n        const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.users).values(user).returning();\n        return result[0];\n    }\n    // Organization methods\n    async getOrganization(id) {\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.organizations).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.organizations.id, id));\n        return result[0];\n    }\n    async listOrganizations() {\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.organizations);\n    }\n    async createOrganization(org) {\n        const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.organizations).values(org).returning();\n        return result[0];\n    }\n    // Department methods\n    async getDepartment(id) {\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.departments).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.departments.id, id));\n        return result[0];\n    }\n    async listDepartments() {\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.departments);\n    }\n    async createDepartment(dept) {\n        const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.departments).values(dept).returning();\n        return result[0];\n    }\n    // JobRole methods\n    async getJobRole(id) {\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles.id, id));\n        return result[0];\n    }\n    async listJobRoles() {\n        // Join jobRoles with departments and select department name\n        return await this.db.select({\n            ..._shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles,\n            departmentName: _shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.departments.name // Select department name as departmentName\n        }).from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles).leftJoin(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.departments, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles.departmentId, _shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.departments.id)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.asc)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles.title)); // Optional: order by title\n    }\n    async listJobRolesByDepartment(departmentId) {\n        // Join jobRoles with departments and select department name, filtered by departmentId\n        return await this.db.select({\n            ..._shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles,\n            departmentName: _shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.departments.name // Select department name as departmentName\n        }).from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles).leftJoin(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.departments, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles.departmentId, _shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.departments.id)).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles.departmentId, departmentId)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.asc)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles.title)); // Optional: order by title\n    }\n    async createJobRole(role) {\n        const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobRoles).values(role).returning();\n        return result[0];\n    }\n    // AICapability methods\n    async getAICapability(id) {\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiCapabilities).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiCapabilities.id, id));\n        return result[0];\n    }\n    async listAICapabilities() {\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiCapabilities);\n    }\n    async createAICapability(capability) {\n        const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiCapabilities).values(capability).returning();\n        return result[0];\n    }\n    // Assessment methods\n    async getAssessment(id) {\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessments).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessments.id, id));\n        return result[0];\n    }\n    async listAssessments() {\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessments);\n    }\n    async listAssessmentsByUser(userId) {\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessments).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessments.userId, userId));\n    }\n    async createAssessment(assessment) {\n        const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessments).values({\n            ...assessment,\n            status: assessment.status || \"draft\",\n            stepData: assessment.stepData || null\n        }).returning();\n        return result[0];\n    }\n    async updateAssessmentStep(id, stepData) {\n        // Get current assessment\n        const current = await this.getAssessment(id);\n        if (!current) {\n            throw new Error(`Assessment with ID ${id} not found`);\n        }\n        // Merge stepData with existing data safely\n        let updatedStepData = {};\n        // Only spread if there's existing data and it's an object\n        if (current.stepData && typeof current.stepData === \"object\") {\n            updatedStepData = {\n                ...current.stepData\n            };\n        }\n        // Add the new step data\n        updatedStepData = {\n            ...updatedStepData,\n            ...stepData\n        };\n        // Update assessment\n        const result = await this.db.update(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessments).set({\n            stepData: updatedStepData\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessments.id, id)).returning();\n        return result[0];\n    }\n    async updateAssessmentStatus(id, status) {\n        const result = await this.db.update(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessments).set({\n            status\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessments.id, id)).returning();\n        return result[0];\n    }\n    // Report methods\n    async getReport(id) {\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.reports).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.reports.id, id));\n        return result[0];\n    }\n    async getReportByAssessment(assessmentId) {\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.reports).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.reports.assessmentId, assessmentId));\n        return result[0];\n    }\n    async listReports() {\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.reports);\n    }\n    async createReport(report) {\n        const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.reports).values(report).returning();\n        return result[0];\n    }\n    async updateReportCommentary(id, commentary) {\n        const result = await this.db.update(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.reports).set({\n            commentary\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.reports.id, id)).returning();\n        return result[0];\n    }\n    // Job Description methods\n    async getJobDescription(id) {\n        await this.ensureInitialized();\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobDescriptions).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobDescriptions.id, id));\n        return result[0];\n    }\n    async listJobDescriptions(limit = 100, offset = 0) {\n        await this.ensureInitialized();\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobDescriptions).limit(limit).offset(offset);\n    }\n    async listJobDescriptionsByStatus(status, limit = 100, offset = 0) {\n        await this.ensureInitialized();\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobDescriptions).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobDescriptions.status, status)).limit(limit).offset(offset);\n    }\n    async createJobDescription(jobDescription) {\n        await this.ensureInitialized();\n        console.log(\"PgStorage: Creating job description:\", jobDescription.title);\n        try {\n            const now = new Date();\n            // Ensure keywords is properly formatted as an array of strings\n            const keywords = jobDescription.keywords ? Array.isArray(jobDescription.keywords) ? jobDescription.keywords : [\n                String(jobDescription.keywords)\n            ] : null;\n            // Create a sanitized object to insert\n            const sanitizedJobDescription = {\n                ...jobDescription,\n                status: jobDescription.status || \"raw\",\n                company: jobDescription.company || null,\n                location: jobDescription.location || null,\n                processedContent: null,\n                keywords: keywords,\n                dateScraped: now,\n                dateProcessed: null,\n                error: null\n            };\n            // Log the data we're trying to insert for debugging\n            console.log(\"PgStorage: Inserting with data:\", JSON.stringify({\n                title: sanitizedJobDescription.title,\n                company: sanitizedJobDescription.company,\n                jobBoard: sanitizedJobDescription.jobBoard,\n                keywords: sanitizedJobDescription.keywords\n            }));\n            const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobDescriptions).values(sanitizedJobDescription).returning();\n            console.log(\"PgStorage: Successfully created job description with ID:\", result[0].id);\n            return result[0];\n        } catch (error) {\n            console.error(\"PgStorage: Error creating job description:\", error);\n            // Add more detailed error reporting\n            if (error instanceof Error) {\n                console.error(\"Error details:\", error.message);\n                if (\"stack\" in error) {\n                    console.error(\"Stack trace:\", error.stack);\n                }\n            }\n            throw error;\n        }\n    }\n    async updateJobDescriptionProcessedContent(id, processedContent) {\n        await this.ensureInitialized();\n        const now = new Date();\n        const result = await this.db.update(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobDescriptions).set({\n            processedContent,\n            status: \"processed\",\n            dateProcessed: now\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobDescriptions.id, id)).returning();\n        return result[0];\n    }\n    async updateJobDescriptionStatus(id, status, error) {\n        await this.ensureInitialized();\n        const result = await this.db.update(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobDescriptions).set({\n            status,\n            error: error || null\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobDescriptions.id, id)).returning();\n        return result[0];\n    }\n    // Job Scraper Config methods\n    async getJobScraperConfig(id) {\n        await this.ensureInitialized();\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobScraperConfigs).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobScraperConfigs.id, id));\n        return result[0];\n    }\n    async listJobScraperConfigs() {\n        await this.ensureInitialized();\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobScraperConfigs);\n    }\n    async listActiveJobScraperConfigs() {\n        await this.ensureInitialized();\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobScraperConfigs).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobScraperConfigs.isActive, true));\n    }\n    async createJobScraperConfig(config) {\n        await this.ensureInitialized();\n        const now = new Date();\n        const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobScraperConfigs).values({\n            ...config,\n            location: config.location || null,\n            keywords: config.keywords || null,\n            isActive: config.isActive ?? true,\n            cronSchedule: config.cronSchedule || \"0 0 * * *\",\n            createdAt: now,\n            lastRun: null\n        }).returning();\n        return result[0];\n    }\n    async updateJobScraperConfigLastRun(id) {\n        await this.ensureInitialized();\n        const now = new Date();\n        const result = await this.db.update(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobScraperConfigs).set({\n            lastRun: now\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobScraperConfigs.id, id)).returning();\n        return result[0];\n    }\n    async updateJobScraperConfigStatus(id, isActive) {\n        await this.ensureInitialized();\n        const result = await this.db.update(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobScraperConfigs).set({\n            isActive\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.jobScraperConfigs.id, id)).returning();\n        return result[0];\n    }\n    // AITool methods (Reverted to use snake_case AiTool type)\n    /**\n   * Retrieves a single AI tool by its ID.\n   * @param id The numeric ID of the AI tool.\n   * @returns A promise that resolves to the AiTool object or undefined if not found.\n   */ async getAITool(id) {\n        await this.ensureInitialized();\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools.tool_id, id));\n        return result[0];\n    }\n    /**\n   * Lists AI tools, optionally filtering by search term, category, and license type.\n   * @param search Optional search term to filter by tool name or description.\n   * @param category Optional category to filter by.\n   * @param licenseType Optional license type to filter by.\n   * @returns A promise that resolves to an array of AiTool objects.\n   */ async listAITools(search, category, licenseType) {\n        await this.ensureInitialized();\n        let query = this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools).$dynamic();\n        const conditions = [];\n        if (search) {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`(${_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools.tool_name} ilike ${`%${search}%`} or ${_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools.description} ilike ${`%${search}%`})`);\n        }\n        if (category) {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools.primary_category, category));\n        }\n        if (licenseType) {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools.license_type, licenseType));\n        }\n        if (conditions.length > 0) {\n            query = query.where(drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql.join(conditions, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)` and `));\n        }\n        return await query.orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.asc)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools.tool_name));\n    }\n    /**\n   * Creates a new AI tool in the database.\n   * @param tool An object conforming to InsertAiTool (snake_case, excluding db-generated fields like created_at, updated_at).\n   * @returns A promise that resolves to the newly created AiTool object (including db-generated fields).\n   */ async createAITool(tool) {\n        await this.ensureInitialized();\n        const dbInsertData = {\n            ...tool,\n            tool_name: tool.tool_name\n        };\n        const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools).values(dbInsertData).returning();\n        const newDbTool = result[0];\n        if (!newDbTool) {\n            throw new Error(\"Failed to create AI tool, database did not return the created record.\");\n        }\n        return newDbTool;\n    }\n    /**\n   * Updates an existing AI tool by its ID.\n   * @param id The numeric ID of the AI tool to update.\n   * @param toolUpdate A partial object conforming to InsertAiTool (snake_case) containing the fields to update.\n   * @returns A promise that resolves to the updated AiTool object.\n   * @throws Error if the tool is not found or if no fields are provided for update.\n   */ async updateAITool(id, toolUpdate) {\n        await this.ensureInitialized();\n        const dbUpdateData = toolUpdate;\n        if (\"tool_id\" in dbUpdateData) delete dbUpdateData.tool_id;\n        if (\"created_at\" in dbUpdateData) delete dbUpdateData.created_at;\n        const finalUpdateData = {\n            ...dbUpdateData,\n            updated_at: new Date()\n        };\n        if (Object.keys(dbUpdateData).length === 0) {\n            // Throw error if only timestamp would be updated (as no other fields were in toolUpdate)\n            throw new Error(\"No fields provided to update for AI Tool.\");\n        }\n        const result = await this.db.update(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools).set(finalUpdateData).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools.tool_id, id)).returning();\n        const updatedDbTool = result[0];\n        if (!updatedDbTool) {\n            throw new Error(`Failed to update AI tool with ID ${id}, record not found or update failed.`);\n        }\n        return updatedDbTool;\n    }\n    /**\n   * Deletes an AI tool by its ID.\n   * @param id The numeric ID of the AI tool to delete.\n   * @returns A promise that resolves when the deletion is attempted. Logs a warning if the tool was not found.\n   */ async deleteAITool(id) {\n        await this.ensureInitialized();\n        const result = await this.db.delete(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools.tool_id, id)).returning({\n            deletedId: _shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.aiTools.tool_id\n        });\n        if (result.length === 0) {\n            console.warn(`Attempted to delete AI Tool with ID ${id}, but it was not found.`);\n        }\n    }\n    // CapabilityToolMapping methods\n    // These seem okay as they use the specific InsertCapabilityToolMapping type\n    async getCapabilityToolMappings(capabilityId) {\n        await this.ensureInitialized();\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.capabilityToolMapping).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.capabilityToolMapping.capabilityId, capabilityId));\n    }\n    async getToolCapabilityMappings(toolId) {\n        await this.ensureInitialized();\n        return await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.capabilityToolMapping).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.capabilityToolMapping.toolId, toolId));\n    }\n    async createCapabilityToolMapping(mapping) {\n        await this.ensureInitialized();\n        const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.capabilityToolMapping).values({\n            ...mapping,\n            notes: mapping.notes || null\n        }).returning();\n        return result[0];\n    }\n    async deleteCapabilityToolMapping(mappingId) {\n        await this.ensureInitialized();\n        await this.db.delete(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.capabilityToolMapping).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.capabilityToolMapping.mappingId, mappingId));\n    }\n    // Assessment Score methods\n    async upsertAssessmentScore(score) {\n        await this.ensureInitialized();\n        const result = await this.db.insert(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessmentScores).values({\n            ...score,\n            updatedAt: new Date()\n        }).onConflictDoUpdate({\n            target: _shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessmentScores.wizardStepId,\n            set: {\n                ...score,\n                updatedAt: new Date()\n            }\n        }).returning();\n        return result[0];\n    }\n    async getAssessmentScore(wizardStepId) {\n        await this.ensureInitialized();\n        const result = await this.db.select().from(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessmentScores).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_shared_schema_ts__WEBPACK_IMPORTED_MODULE_2__.assessmentScores.wizardStepId, wizardStepId));\n        return result[0];\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFvQixFQUE0QztRQUN2RixNQUFNLElBQUksQ0FBQ2hKLGlCQUFpQjtRQUU1QixNQUFNSyxTQUFTLE1BQU0sSUFBSSxDQUFDWCxFQUFFLENBQUNZLE1BQU0sR0FDaENDLElBQUksQ0FBQzdCLCtEQUFnQkEsRUFDckI4QixLQUFLLENBQUM3QywrQ0FBRUEsQ0FBQ2UsK0RBQWdCQSxDQUFDc0ssWUFBWSxFQUFFQTtRQUUzQyxPQUFPM0ksTUFBTSxDQUFDLEVBQUU7SUFDbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Jlc3QtZXhwcmVzcy8uL3NlcnZlci9wZy1zdG9yYWdlLnRzPzdjMmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZHJpenpsZSBhcyBkcml6emxlTm9kZVBvc3RncmVzIH0gZnJvbSAnZHJpenpsZS1vcm0vbm9kZS1wb3N0Z3Jlcyc7XG5pbXBvcnQgeyBkcml6emxlIGFzIGRyaXp6bGVOZW9uSHR0cCB9IGZyb20gJ2RyaXp6bGUtb3JtL25lb24taHR0cCc7XG5pbXBvcnQgeyBuZW9uLCBuZW9uQ29uZmlnIH0gZnJvbSAnQG5lb25kYXRhYmFzZS9zZXJ2ZXJsZXNzJztcbmltcG9ydCB7IGVxLCBzcWwsIGFzYyB9IGZyb20gJ2RyaXp6bGUtb3JtJztcbi8vIFVzaW5nIGR5bmFtaWMgaW1wb3J0IGZvciBwZyB3aGljaCB3b3JrcyBiZXR0ZXIgd2l0aCBFU01cbmltcG9ydCB7IElTdG9yYWdlIH0gZnJvbSAnLi9zdG9yYWdlLnRzJztcbmltcG9ydCB7IFBvb2wgfSBmcm9tICdwZyc7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5cbi8vIEltcG9ydCB0aGUgc2NoZW1hXG5pbXBvcnQgeyBcbiAgYXNzZXNzbWVudHMsIGRlcGFydG1lbnRzLCBvcmdhbml6YXRpb25zLCB1c2VycywgcmVwb3J0cywgXG4gIGFpQ2FwYWJpbGl0aWVzLCBqb2JSb2xlcywgam9iRGVzY3JpcHRpb25zLCBqb2JTY3JhcGVyQ29uZmlncyxcbiAgYWlUb29scywgY2FwYWJpbGl0eVRvb2xNYXBwaW5nLCBhc3Nlc3NtZW50U2NvcmVzXG59IGZyb20gJy4uL3NoYXJlZC9zY2hlbWEudHMnO1xuXG4vLyBJbXBvcnQgdHlwZXNcbmltcG9ydCB0eXBlIHtcbiAgVXNlciwgSW5zZXJ0VXNlcixcbiAgT3JnYW5pemF0aW9uLCBJbnNlcnRPcmdhbml6YXRpb24sXG4gIERlcGFydG1lbnQsIEluc2VydERlcGFydG1lbnQsXG4gIEpvYlJvbGUsIEluc2VydEpvYlJvbGUsIEpvYlJvbGVXaXRoRGVwYXJ0bWVudCxcbiAgQUlDYXBhYmlsaXR5LCBJbnNlcnRBSUNhcGFiaWxpdHksXG4gIEFzc2Vzc21lbnQsIEluc2VydEFzc2Vzc21lbnQsIFdpemFyZFN0ZXBEYXRhLFxuICBSZXBvcnQsIEluc2VydFJlcG9ydCxcbiAgSm9iRGVzY3JpcHRpb24sIEluc2VydEpvYkRlc2NyaXB0aW9uLCBQcm9jZXNzZWRKb2JDb250ZW50LFxuICBKb2JTY3JhcGVyQ29uZmlnLCBJbnNlcnRKb2JTY3JhcGVyQ29uZmlnLFxuICBBaVRvb2wsIC8vIERCIFR5cGUgKHNuYWtlX2Nhc2UpIC0gVEhJUyBJUyBUSEUgT05FIFRPIFVTRVxuICBJbnNlcnRBaVRvb2wsIC8vIERCIEluc2VydCBUeXBlIChzbmFrZV9jYXNlKVxuICBDYXBhYmlsaXR5VG9vbE1hcHBpbmcsIEluc2VydENhcGFiaWxpdHlUb29sTWFwcGluZyxcbiAgQXNzZXNzbWVudFNjb3JlRGF0YVxuICAvLyBBSVRvb2wgLy8gUkVNT1ZFIFJlZmVyZW5jZXMgdG8gdGhpcyBub24tZXhpc3RlbnQgdHlwZVxufSBmcm9tICcuLi9zaGFyZWQvc2NoZW1hLnRzJztcblxuLy8gTG9hZCByb290IC5lbnYgZmlsZSBmb3IgbG9jYWwgZGV2ZWxvcG1lbnRcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAvLyBFbnN1cmUgZG90ZW52IGlzIG9ubHkgbG9hZGVkIGlmIG5vdCBvbiBWZXJjZWxcbiAgaWYgKCFwcm9jZXNzLmVudi5WRVJDRUxfRU5WKSB7XG4gICAgIGRvdGVudi5jb25maWcoeyBwYXRoOiAnLmVudicgfSk7IFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQZ1N0b3JhZ2UgaW1wbGVtZW50cyBJU3RvcmFnZSB7XG4gIHByaXZhdGUgZGI6IGFueTsgLy8gRHJpenpsZSBpbnN0YW5jZVxuICBwcml2YXRlIHBvb2w6IFBvb2wgfCB1bmRlZmluZWQ7IC8vIE9ubHkgdXNlZCBmb3IgbG9jYWwgcGdcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgaW5pdFByb21pc2U6IFByb21pc2U8dm9pZD47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0UHJvbWlzZSA9IHRoaXMuaW5pdGlhbGl6ZUFzeW5jKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVBc3luYygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGNvbm5lY3Rpb25TdHJpbmc6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgICAgLy8gVXNlIE5lb24gY29ubmVjdGlvbiBzdHJpbmcgb24gVmVyY2VsXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuVkVSQ0VMX0VOViA9PT0gJ3Byb2R1Y3Rpb24nIHx8IHByb2Nlc3MuZW52LlZFUkNFTF9FTlYgPT09ICdwcmV2aWV3Jykge1xuICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIE5lb24gSFRUUCBkYXRhYmFzZSBjb25uZWN0aW9uIGZvciBWZXJjZWwnKTtcbiAgICAgICAgY29ubmVjdGlvblN0cmluZyA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1BPU1RHUkVTX1VSTDsgXG4gICAgICAgIGlmICghY29ubmVjdGlvblN0cmluZykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignREFUQUJBU0VfUE9TVEdSRVNfVVJMIGVudmlyb25tZW50IHZhcmlhYmxlIG5vdCBzZXQgZm9yIFZlcmNlbCBlbnZpcm9ubWVudCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNxbCA9IG5lb24oY29ubmVjdGlvblN0cmluZyk7XG4gICAgICAgIHRoaXMuZGIgPSBkcml6emxlTmVvbkh0dHAoc3FsKTtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS5sb2coJ05lb24gSFRUUCBkYXRhYmFzZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVc2UgbG9jYWwgREFUQUJBU0VfVVJMIGZvciBsb2NhbCBkZXZlbG9wbWVudFxuICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIHN0YW5kYXJkIFBvc3RncmVTUUwgY29ubmVjdGlvbiBmb3IgbG9jYWwgZGV2ZWxvcG1lbnQnKTtcbiAgICAgICAgY29ubmVjdGlvblN0cmluZyA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTDtcbiAgICAgICAgaWYgKCFjb25uZWN0aW9uU3RyaW5nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEQVRBQkFTRV9VUkwgZW52aXJvbm1lbnQgdmFyaWFibGUgbm90IHNldCBmb3IgbG9jYWwgZGV2ZWxvcG1lbnQgKGNoZWNrIC5lbnYgZmlsZSknKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwZyA9IGF3YWl0IGltcG9ydCgncGcnKTtcbiAgICAgICAgdGhpcy5wb29sID0gbmV3IHBnLlBvb2woeyBjb25uZWN0aW9uU3RyaW5nIH0pO1xuICAgICAgICB0aGlzLmRiID0gZHJpenpsZU5vZGVQb3N0Z3Jlcyh0aGlzLnBvb2wpO1xuICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZygnU3RhbmRhcmQgUG9zdGdyZVNRTCBkYXRhYmFzZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBkYXRhYmFzZSBjb25uZWN0aW9uOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEhlbHBlciBtZXRob2QgdG8gZW5zdXJlIERCIGlzIGluaXRpYWxpemVkIGJlZm9yZSBhbnkgb3BlcmF0aW9uXG4gIHByaXZhdGUgYXN5bmMgZW5zdXJlSW5pdGlhbGl6ZWQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuaW5pdFByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZGlzY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBPbmx5IG5lZWQgdG8gZGlzY29ubmVjdCB0aGUgcG9vbCBmb3IgbG9jYWwgcGcgY29ubmVjdGlvbnNcbiAgICBpZiAodGhpcy5wb29sKSB7XG4gICAgICBhd2FpdCB0aGlzLnBvb2wuZW5kKCk7XG4gICAgICBjb25zb2xlLmxvZygnU3RhbmRhcmQgUG9zdGdyZVNRTCBkYXRhYmFzZSBjb25uZWN0aW9uIGNsb3NlZCcpO1xuICAgIH1cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIFVzZXIgbWV0aG9kc1xuICBhc3luYyBnZXRVc2VyKGlkOiBudW1iZXIpOiBQcm9taXNlPFVzZXIgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnNlbGVjdCgpLmZyb20odXNlcnMpLndoZXJlKGVxKHVzZXJzLmlkLCBpZCkpO1xuICAgIHJldHVybiByZXN1bHRbMF07XG4gIH1cblxuICBhc3luYyBnZXRVc2VyQnlVc2VybmFtZSh1c2VybmFtZTogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5zZWxlY3QoKS5mcm9tKHVzZXJzKS53aGVyZShlcSh1c2Vycy51c2VybmFtZSwgdXNlcm5hbWUpKTtcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlVXNlcih1c2VyOiBJbnNlcnRVc2VyKTogUHJvbWlzZTxVc2VyPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5pbnNlcnQodXNlcnMpLnZhbHVlcyh1c2VyKS5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG5cbiAgLy8gT3JnYW5pemF0aW9uIG1ldGhvZHNcbiAgYXN5bmMgZ2V0T3JnYW5pemF0aW9uKGlkOiBudW1iZXIpOiBQcm9taXNlPE9yZ2FuaXphdGlvbiB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIuc2VsZWN0KCkuZnJvbShvcmdhbml6YXRpb25zKS53aGVyZShlcShvcmdhbml6YXRpb25zLmlkLCBpZCkpO1xuICAgIHJldHVybiByZXN1bHRbMF07XG4gIH1cblxuICBhc3luYyBsaXN0T3JnYW5pemF0aW9ucygpOiBQcm9taXNlPE9yZ2FuaXphdGlvbltdPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGIuc2VsZWN0KCkuZnJvbShvcmdhbml6YXRpb25zKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZU9yZ2FuaXphdGlvbihvcmc6IEluc2VydE9yZ2FuaXphdGlvbik6IFByb21pc2U8T3JnYW5pemF0aW9uPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5pbnNlcnQob3JnYW5pemF0aW9ucykudmFsdWVzKG9yZykucmV0dXJuaW5nKCk7XG4gICAgcmV0dXJuIHJlc3VsdFswXTtcbiAgfVxuXG4gIC8vIERlcGFydG1lbnQgbWV0aG9kc1xuICBhc3luYyBnZXREZXBhcnRtZW50KGlkOiBudW1iZXIpOiBQcm9taXNlPERlcGFydG1lbnQgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnNlbGVjdCgpLmZyb20oZGVwYXJ0bWVudHMpLndoZXJlKGVxKGRlcGFydG1lbnRzLmlkLCBpZCkpO1xuICAgIHJldHVybiByZXN1bHRbMF07XG4gIH1cblxuICBhc3luYyBsaXN0RGVwYXJ0bWVudHMoKTogUHJvbWlzZTxEZXBhcnRtZW50W10+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYi5zZWxlY3QoKS5mcm9tKGRlcGFydG1lbnRzKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZURlcGFydG1lbnQoZGVwdDogSW5zZXJ0RGVwYXJ0bWVudCk6IFByb21pc2U8RGVwYXJ0bWVudD4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIuaW5zZXJ0KGRlcGFydG1lbnRzKS52YWx1ZXMoZGVwdCkucmV0dXJuaW5nKCk7XG4gICAgcmV0dXJuIHJlc3VsdFswXTtcbiAgfVxuXG4gIC8vIEpvYlJvbGUgbWV0aG9kc1xuICBhc3luYyBnZXRKb2JSb2xlKGlkOiBudW1iZXIpOiBQcm9taXNlPEpvYlJvbGUgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnNlbGVjdCgpLmZyb20oam9iUm9sZXMpLndoZXJlKGVxKGpvYlJvbGVzLmlkLCBpZCkpO1xuICAgIHJldHVybiByZXN1bHRbMF07XG4gIH1cblxuICBhc3luYyBsaXN0Sm9iUm9sZXMoKTogUHJvbWlzZTxKb2JSb2xlV2l0aERlcGFydG1lbnRbXT4ge1xuICAgIC8vIEpvaW4gam9iUm9sZXMgd2l0aCBkZXBhcnRtZW50cyBhbmQgc2VsZWN0IGRlcGFydG1lbnQgbmFtZVxuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiXG4gICAgICAuc2VsZWN0KHtcbiAgICAgICAgLi4uam9iUm9sZXMsIC8vIFNlbGVjdCBhbGwgY29sdW1ucyBmcm9tIGpvYlJvbGVzXG4gICAgICAgIGRlcGFydG1lbnROYW1lOiBkZXBhcnRtZW50cy5uYW1lIC8vIFNlbGVjdCBkZXBhcnRtZW50IG5hbWUgYXMgZGVwYXJ0bWVudE5hbWVcbiAgICAgIH0pXG4gICAgICAuZnJvbShqb2JSb2xlcylcbiAgICAgIC5sZWZ0Sm9pbihkZXBhcnRtZW50cywgZXEoam9iUm9sZXMuZGVwYXJ0bWVudElkLCBkZXBhcnRtZW50cy5pZCkpXG4gICAgICAub3JkZXJCeShhc2Moam9iUm9sZXMudGl0bGUpKTsgLy8gT3B0aW9uYWw6IG9yZGVyIGJ5IHRpdGxlXG4gIH1cblxuICBhc3luYyBsaXN0Sm9iUm9sZXNCeURlcGFydG1lbnQoZGVwYXJ0bWVudElkOiBudW1iZXIpOiBQcm9taXNlPEpvYlJvbGVXaXRoRGVwYXJ0bWVudFtdPiB7XG4gICAgLy8gSm9pbiBqb2JSb2xlcyB3aXRoIGRlcGFydG1lbnRzIGFuZCBzZWxlY3QgZGVwYXJ0bWVudCBuYW1lLCBmaWx0ZXJlZCBieSBkZXBhcnRtZW50SWRcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYlxuICAgICAgLnNlbGVjdCh7XG4gICAgICAgIC4uLmpvYlJvbGVzLCAvLyBTZWxlY3QgYWxsIGNvbHVtbnMgZnJvbSBqb2JSb2xlc1xuICAgICAgICBkZXBhcnRtZW50TmFtZTogZGVwYXJ0bWVudHMubmFtZSAvLyBTZWxlY3QgZGVwYXJ0bWVudCBuYW1lIGFzIGRlcGFydG1lbnROYW1lXG4gICAgICB9KVxuICAgICAgLmZyb20oam9iUm9sZXMpXG4gICAgICAubGVmdEpvaW4oZGVwYXJ0bWVudHMsIGVxKGpvYlJvbGVzLmRlcGFydG1lbnRJZCwgZGVwYXJ0bWVudHMuaWQpKVxuICAgICAgLndoZXJlKGVxKGpvYlJvbGVzLmRlcGFydG1lbnRJZCwgZGVwYXJ0bWVudElkKSlcbiAgICAgIC5vcmRlckJ5KGFzYyhqb2JSb2xlcy50aXRsZSkpOyAvLyBPcHRpb25hbDogb3JkZXIgYnkgdGl0bGVcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUpvYlJvbGUocm9sZTogSW5zZXJ0Sm9iUm9sZSk6IFByb21pc2U8Sm9iUm9sZT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIuaW5zZXJ0KGpvYlJvbGVzKS52YWx1ZXMocm9sZSkucmV0dXJuaW5nKCk7XG4gICAgcmV0dXJuIHJlc3VsdFswXTtcbiAgfVxuXG4gIC8vIEFJQ2FwYWJpbGl0eSBtZXRob2RzXG4gIGFzeW5jIGdldEFJQ2FwYWJpbGl0eShpZDogbnVtYmVyKTogUHJvbWlzZTxBSUNhcGFiaWxpdHkgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnNlbGVjdCgpLmZyb20oYWlDYXBhYmlsaXRpZXMpLndoZXJlKGVxKGFpQ2FwYWJpbGl0aWVzLmlkLCBpZCkpO1xuICAgIHJldHVybiByZXN1bHRbMF07XG4gIH1cblxuICBhc3luYyBsaXN0QUlDYXBhYmlsaXRpZXMoKTogUHJvbWlzZTxBSUNhcGFiaWxpdHlbXT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLnNlbGVjdCgpLmZyb20oYWlDYXBhYmlsaXRpZXMpO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlQUlDYXBhYmlsaXR5KGNhcGFiaWxpdHk6IEluc2VydEFJQ2FwYWJpbGl0eSk6IFByb21pc2U8QUlDYXBhYmlsaXR5PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5pbnNlcnQoYWlDYXBhYmlsaXRpZXMpLnZhbHVlcyhjYXBhYmlsaXR5KS5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG5cbiAgLy8gQXNzZXNzbWVudCBtZXRob2RzXG4gIGFzeW5jIGdldEFzc2Vzc21lbnQoaWQ6IG51bWJlcik6IFByb21pc2U8QXNzZXNzbWVudCB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIuc2VsZWN0KCkuZnJvbShhc3Nlc3NtZW50cykud2hlcmUoZXEoYXNzZXNzbWVudHMuaWQsIGlkKSk7XG4gICAgcmV0dXJuIHJlc3VsdFswXTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RBc3Nlc3NtZW50cygpOiBQcm9taXNlPEFzc2Vzc21lbnRbXT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLnNlbGVjdCgpLmZyb20oYXNzZXNzbWVudHMpO1xuICB9XG5cbiAgYXN5bmMgbGlzdEFzc2Vzc21lbnRzQnlVc2VyKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTxBc3Nlc3NtZW50W10+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYi5zZWxlY3QoKS5mcm9tKGFzc2Vzc21lbnRzKS53aGVyZShlcShhc3Nlc3NtZW50cy51c2VySWQsIHVzZXJJZCkpO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlQXNzZXNzbWVudChhc3Nlc3NtZW50OiBJbnNlcnRBc3Nlc3NtZW50KTogUHJvbWlzZTxBc3Nlc3NtZW50PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5pbnNlcnQoYXNzZXNzbWVudHMpLnZhbHVlcyh7XG4gICAgICAuLi5hc3Nlc3NtZW50LFxuICAgICAgc3RhdHVzOiBhc3Nlc3NtZW50LnN0YXR1cyB8fCAnZHJhZnQnLFxuICAgICAgc3RlcERhdGE6IGFzc2Vzc21lbnQuc3RlcERhdGEgfHwgbnVsbFxuICAgIH0pLnJldHVybmluZygpO1xuICAgIHJldHVybiByZXN1bHRbMF07XG4gIH1cblxuICBhc3luYyB1cGRhdGVBc3Nlc3NtZW50U3RlcChpZDogbnVtYmVyLCBzdGVwRGF0YTogUGFydGlhbDxXaXphcmRTdGVwRGF0YT4pOiBQcm9taXNlPEFzc2Vzc21lbnQ+IHtcbiAgICAvLyBHZXQgY3VycmVudCBhc3Nlc3NtZW50XG4gICAgY29uc3QgY3VycmVudCA9IGF3YWl0IHRoaXMuZ2V0QXNzZXNzbWVudChpZCk7XG4gICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzc2Vzc21lbnQgd2l0aCBJRCAke2lkfSBub3QgZm91bmRgKTtcbiAgICB9XG5cbiAgICAvLyBNZXJnZSBzdGVwRGF0YSB3aXRoIGV4aXN0aW5nIGRhdGEgc2FmZWx5XG4gICAgbGV0IHVwZGF0ZWRTdGVwRGF0YTogYW55ID0ge307XG4gICAgXG4gICAgLy8gT25seSBzcHJlYWQgaWYgdGhlcmUncyBleGlzdGluZyBkYXRhIGFuZCBpdCdzIGFuIG9iamVjdFxuICAgIGlmIChjdXJyZW50LnN0ZXBEYXRhICYmIHR5cGVvZiBjdXJyZW50LnN0ZXBEYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgdXBkYXRlZFN0ZXBEYXRhID0geyAuLi5jdXJyZW50LnN0ZXBEYXRhIH07XG4gICAgfVxuICAgIFxuICAgIC8vIEFkZCB0aGUgbmV3IHN0ZXAgZGF0YVxuICAgIHVwZGF0ZWRTdGVwRGF0YSA9IHsgLi4udXBkYXRlZFN0ZXBEYXRhLCAuLi5zdGVwRGF0YSB9O1xuXG4gICAgLy8gVXBkYXRlIGFzc2Vzc21lbnRcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnVwZGF0ZShhc3Nlc3NtZW50cylcbiAgICAgIC5zZXQoeyBzdGVwRGF0YTogdXBkYXRlZFN0ZXBEYXRhIH0pXG4gICAgICAud2hlcmUoZXEoYXNzZXNzbWVudHMuaWQsIGlkKSlcbiAgICAgIC5yZXR1cm5pbmcoKTtcbiAgICBcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlQXNzZXNzbWVudFN0YXR1cyhpZDogbnVtYmVyLCBzdGF0dXM6IHN0cmluZyk6IFByb21pc2U8QXNzZXNzbWVudD4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIudXBkYXRlKGFzc2Vzc21lbnRzKVxuICAgICAgLnNldCh7IHN0YXR1cyB9KVxuICAgICAgLndoZXJlKGVxKGFzc2Vzc21lbnRzLmlkLCBpZCkpXG4gICAgICAucmV0dXJuaW5nKCk7XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdFswXTtcbiAgfVxuXG4gIC8vIFJlcG9ydCBtZXRob2RzXG4gIGFzeW5jIGdldFJlcG9ydChpZDogbnVtYmVyKTogUHJvbWlzZTxSZXBvcnQgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnNlbGVjdCgpLmZyb20ocmVwb3J0cykud2hlcmUoZXEocmVwb3J0cy5pZCwgaWQpKTtcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG5cbiAgYXN5bmMgZ2V0UmVwb3J0QnlBc3Nlc3NtZW50KGFzc2Vzc21lbnRJZDogbnVtYmVyKTogUHJvbWlzZTxSZXBvcnQgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnNlbGVjdCgpLmZyb20ocmVwb3J0cykud2hlcmUoZXEocmVwb3J0cy5hc3Nlc3NtZW50SWQsIGFzc2Vzc21lbnRJZCkpO1xuICAgIHJldHVybiByZXN1bHRbMF07XG4gIH1cblxuICBhc3luYyBsaXN0UmVwb3J0cygpOiBQcm9taXNlPFJlcG9ydFtdPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGIuc2VsZWN0KCkuZnJvbShyZXBvcnRzKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVJlcG9ydChyZXBvcnQ6IEluc2VydFJlcG9ydCk6IFByb21pc2U8UmVwb3J0PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5pbnNlcnQocmVwb3J0cykudmFsdWVzKHJlcG9ydCkucmV0dXJuaW5nKCk7XG4gICAgcmV0dXJuIHJlc3VsdFswXTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVJlcG9ydENvbW1lbnRhcnkoaWQ6IG51bWJlciwgY29tbWVudGFyeTogc3RyaW5nKTogUHJvbWlzZTxSZXBvcnQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnVwZGF0ZShyZXBvcnRzKVxuICAgICAgLnNldCh7IGNvbW1lbnRhcnkgfSlcbiAgICAgIC53aGVyZShlcShyZXBvcnRzLmlkLCBpZCkpXG4gICAgICAucmV0dXJuaW5nKCk7XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdFswXTtcbiAgfVxuXG4gIC8vIEpvYiBEZXNjcmlwdGlvbiBtZXRob2RzXG4gIGFzeW5jIGdldEpvYkRlc2NyaXB0aW9uKGlkOiBudW1iZXIpOiBQcm9taXNlPEpvYkRlc2NyaXB0aW9uIHwgdW5kZWZpbmVkPiB7XG4gICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIuc2VsZWN0KCkuZnJvbShqb2JEZXNjcmlwdGlvbnMpLndoZXJlKGVxKGpvYkRlc2NyaXB0aW9ucy5pZCwgaWQpKTtcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG5cbiAgYXN5bmMgbGlzdEpvYkRlc2NyaXB0aW9ucyhsaW1pdDogbnVtYmVyID0gMTAwLCBvZmZzZXQ6IG51bWJlciA9IDApOiBQcm9taXNlPEpvYkRlc2NyaXB0aW9uW10+IHtcbiAgICBhd2FpdCB0aGlzLmVuc3VyZUluaXRpYWxpemVkKCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGIuc2VsZWN0KCkuZnJvbShqb2JEZXNjcmlwdGlvbnMpLmxpbWl0KGxpbWl0KS5vZmZzZXQob2Zmc2V0KTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RKb2JEZXNjcmlwdGlvbnNCeVN0YXR1cyhzdGF0dXM6IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDEwMCwgb2Zmc2V0OiBudW1iZXIgPSAwKTogUHJvbWlzZTxKb2JEZXNjcmlwdGlvbltdPiB7XG4gICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLnNlbGVjdCgpLmZyb20oam9iRGVzY3JpcHRpb25zKVxuICAgICAgLndoZXJlKGVxKGpvYkRlc2NyaXB0aW9ucy5zdGF0dXMsIHN0YXR1cykpXG4gICAgICAubGltaXQobGltaXQpXG4gICAgICAub2Zmc2V0KG9mZnNldCk7XG4gIH1cblxuICBhc3luYyBjcmVhdGVKb2JEZXNjcmlwdGlvbihqb2JEZXNjcmlwdGlvbjogSW5zZXJ0Sm9iRGVzY3JpcHRpb24pOiBQcm9taXNlPEpvYkRlc2NyaXB0aW9uPiB7XG4gICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIGNvbnNvbGUubG9nKCdQZ1N0b3JhZ2U6IENyZWF0aW5nIGpvYiBkZXNjcmlwdGlvbjonLCBqb2JEZXNjcmlwdGlvbi50aXRsZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICBcbiAgICAgIC8vIEVuc3VyZSBrZXl3b3JkcyBpcyBwcm9wZXJseSBmb3JtYXR0ZWQgYXMgYW4gYXJyYXkgb2Ygc3RyaW5nc1xuICAgICAgY29uc3Qga2V5d29yZHMgPSBqb2JEZXNjcmlwdGlvbi5rZXl3b3JkcyBcbiAgICAgICAgPyBBcnJheS5pc0FycmF5KGpvYkRlc2NyaXB0aW9uLmtleXdvcmRzKSBcbiAgICAgICAgICA/IGpvYkRlc2NyaXB0aW9uLmtleXdvcmRzIFxuICAgICAgICAgIDogW1N0cmluZyhqb2JEZXNjcmlwdGlvbi5rZXl3b3JkcyldXG4gICAgICAgIDogbnVsbDtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgc2FuaXRpemVkIG9iamVjdCB0byBpbnNlcnRcbiAgICAgIGNvbnN0IHNhbml0aXplZEpvYkRlc2NyaXB0aW9uID0ge1xuICAgICAgICAuLi5qb2JEZXNjcmlwdGlvbixcbiAgICAgICAgc3RhdHVzOiBqb2JEZXNjcmlwdGlvbi5zdGF0dXMgfHwgJ3JhdycsXG4gICAgICAgIGNvbXBhbnk6IGpvYkRlc2NyaXB0aW9uLmNvbXBhbnkgfHwgbnVsbCxcbiAgICAgICAgbG9jYXRpb246IGpvYkRlc2NyaXB0aW9uLmxvY2F0aW9uIHx8IG51bGwsXG4gICAgICAgIHByb2Nlc3NlZENvbnRlbnQ6IG51bGwsXG4gICAgICAgIGtleXdvcmRzOiBrZXl3b3JkcyxcbiAgICAgICAgZGF0ZVNjcmFwZWQ6IG5vdyxcbiAgICAgICAgZGF0ZVByb2Nlc3NlZDogbnVsbCxcbiAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIExvZyB0aGUgZGF0YSB3ZSdyZSB0cnlpbmcgdG8gaW5zZXJ0IGZvciBkZWJ1Z2dpbmdcbiAgICAgIGNvbnNvbGUubG9nKCdQZ1N0b3JhZ2U6IEluc2VydGluZyB3aXRoIGRhdGE6JywgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0aXRsZTogc2FuaXRpemVkSm9iRGVzY3JpcHRpb24udGl0bGUsXG4gICAgICAgIGNvbXBhbnk6IHNhbml0aXplZEpvYkRlc2NyaXB0aW9uLmNvbXBhbnksXG4gICAgICAgIGpvYkJvYXJkOiBzYW5pdGl6ZWRKb2JEZXNjcmlwdGlvbi5qb2JCb2FyZCxcbiAgICAgICAga2V5d29yZHM6IHNhbml0aXplZEpvYkRlc2NyaXB0aW9uLmtleXdvcmRzXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIuaW5zZXJ0KGpvYkRlc2NyaXB0aW9ucykudmFsdWVzKHNhbml0aXplZEpvYkRlc2NyaXB0aW9uKS5yZXR1cm5pbmcoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdQZ1N0b3JhZ2U6IFN1Y2Nlc3NmdWxseSBjcmVhdGVkIGpvYiBkZXNjcmlwdGlvbiB3aXRoIElEOicsIHJlc3VsdFswXS5pZCk7XG4gICAgICByZXR1cm4gcmVzdWx0WzBdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQZ1N0b3JhZ2U6IEVycm9yIGNyZWF0aW5nIGpvYiBkZXNjcmlwdGlvbjonLCBlcnJvcik7XG4gICAgICAvLyBBZGQgbW9yZSBkZXRhaWxlZCBlcnJvciByZXBvcnRpbmdcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRldGFpbHM6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGlmICgnc3RhY2snIGluIGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignU3RhY2sgdHJhY2U6JywgZXJyb3Iuc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVKb2JEZXNjcmlwdGlvblByb2Nlc3NlZENvbnRlbnQoaWQ6IG51bWJlciwgcHJvY2Vzc2VkQ29udGVudDogUHJvY2Vzc2VkSm9iQ29udGVudCk6IFByb21pc2U8Sm9iRGVzY3JpcHRpb24+IHtcbiAgICBhd2FpdCB0aGlzLmVuc3VyZUluaXRpYWxpemVkKCk7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLnVwZGF0ZShqb2JEZXNjcmlwdGlvbnMpXG4gICAgICAuc2V0KHsgXG4gICAgICAgIHByb2Nlc3NlZENvbnRlbnQsIFxuICAgICAgICBzdGF0dXM6ICdwcm9jZXNzZWQnLFxuICAgICAgICBkYXRlUHJvY2Vzc2VkOiBub3dcbiAgICAgIH0pXG4gICAgICAud2hlcmUoZXEoam9iRGVzY3JpcHRpb25zLmlkLCBpZCkpXG4gICAgICAucmV0dXJuaW5nKCk7XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdFswXTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUpvYkRlc2NyaXB0aW9uU3RhdHVzKGlkOiBudW1iZXIsIHN0YXR1czogc3RyaW5nLCBlcnJvcj86IHN0cmluZyk6IFByb21pc2U8Sm9iRGVzY3JpcHRpb24+IHtcbiAgICBhd2FpdCB0aGlzLmVuc3VyZUluaXRpYWxpemVkKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi51cGRhdGUoam9iRGVzY3JpcHRpb25zKVxuICAgICAgLnNldCh7IFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGVycm9yOiBlcnJvciB8fCBudWxsXG4gICAgICB9KVxuICAgICAgLndoZXJlKGVxKGpvYkRlc2NyaXB0aW9ucy5pZCwgaWQpKVxuICAgICAgLnJldHVybmluZygpO1xuICAgIFxuICAgIHJldHVybiByZXN1bHRbMF07XG4gIH1cblxuICAvLyBKb2IgU2NyYXBlciBDb25maWcgbWV0aG9kc1xuICBhc3luYyBnZXRKb2JTY3JhcGVyQ29uZmlnKGlkOiBudW1iZXIpOiBQcm9taXNlPEpvYlNjcmFwZXJDb25maWcgfCB1bmRlZmluZWQ+IHtcbiAgICBhd2FpdCB0aGlzLmVuc3VyZUluaXRpYWxpemVkKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5zZWxlY3QoKS5mcm9tKGpvYlNjcmFwZXJDb25maWdzKS53aGVyZShlcShqb2JTY3JhcGVyQ29uZmlncy5pZCwgaWQpKTtcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG5cbiAgYXN5bmMgbGlzdEpvYlNjcmFwZXJDb25maWdzKCk6IFByb21pc2U8Sm9iU2NyYXBlckNvbmZpZ1tdPiB7XG4gICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLnNlbGVjdCgpLmZyb20oam9iU2NyYXBlckNvbmZpZ3MpO1xuICB9XG5cbiAgYXN5bmMgbGlzdEFjdGl2ZUpvYlNjcmFwZXJDb25maWdzKCk6IFByb21pc2U8Sm9iU2NyYXBlckNvbmZpZ1tdPiB7XG4gICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLnNlbGVjdCgpLmZyb20oam9iU2NyYXBlckNvbmZpZ3MpLndoZXJlKGVxKGpvYlNjcmFwZXJDb25maWdzLmlzQWN0aXZlLCB0cnVlKSk7XG4gIH1cblxuICBhc3luYyBjcmVhdGVKb2JTY3JhcGVyQ29uZmlnKGNvbmZpZzogSW5zZXJ0Sm9iU2NyYXBlckNvbmZpZyk6IFByb21pc2U8Sm9iU2NyYXBlckNvbmZpZz4ge1xuICAgIGF3YWl0IHRoaXMuZW5zdXJlSW5pdGlhbGl6ZWQoKTtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIuaW5zZXJ0KGpvYlNjcmFwZXJDb25maWdzKS52YWx1ZXMoe1xuICAgICAgLi4uY29uZmlnLFxuICAgICAgbG9jYXRpb246IGNvbmZpZy5sb2NhdGlvbiB8fCBudWxsLFxuICAgICAga2V5d29yZHM6IGNvbmZpZy5rZXl3b3JkcyB8fCBudWxsLFxuICAgICAgaXNBY3RpdmU6IGNvbmZpZy5pc0FjdGl2ZSA/PyB0cnVlLFxuICAgICAgY3JvblNjaGVkdWxlOiBjb25maWcuY3JvblNjaGVkdWxlIHx8ICcwIDAgKiAqIConLCAvLyBEZWZhdWx0IHRvIGRhaWx5IGF0IG1pZG5pZ2h0XG4gICAgICBjcmVhdGVkQXQ6IG5vdyxcbiAgICAgIGxhc3RSdW46IG51bGxcbiAgICB9KS5yZXR1cm5pbmcoKTtcbiAgICBcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlSm9iU2NyYXBlckNvbmZpZ0xhc3RSdW4oaWQ6IG51bWJlcik6IFByb21pc2U8Sm9iU2NyYXBlckNvbmZpZz4ge1xuICAgIGF3YWl0IHRoaXMuZW5zdXJlSW5pdGlhbGl6ZWQoKTtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIudXBkYXRlKGpvYlNjcmFwZXJDb25maWdzKVxuICAgICAgLnNldCh7IGxhc3RSdW46IG5vdyB9KVxuICAgICAgLndoZXJlKGVxKGpvYlNjcmFwZXJDb25maWdzLmlkLCBpZCkpXG4gICAgICAucmV0dXJuaW5nKCk7XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdFswXTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUpvYlNjcmFwZXJDb25maWdTdGF0dXMoaWQ6IG51bWJlciwgaXNBY3RpdmU6IGJvb2xlYW4pOiBQcm9taXNlPEpvYlNjcmFwZXJDb25maWc+IHtcbiAgICBhd2FpdCB0aGlzLmVuc3VyZUluaXRpYWxpemVkKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi51cGRhdGUoam9iU2NyYXBlckNvbmZpZ3MpXG4gICAgICAuc2V0KHsgaXNBY3RpdmUgfSlcbiAgICAgIC53aGVyZShlcShqb2JTY3JhcGVyQ29uZmlncy5pZCwgaWQpKVxuICAgICAgLnJldHVybmluZygpO1xuICAgIFxuICAgIHJldHVybiByZXN1bHRbMF07XG4gIH1cblxuICAvLyBBSVRvb2wgbWV0aG9kcyAoUmV2ZXJ0ZWQgdG8gdXNlIHNuYWtlX2Nhc2UgQWlUb29sIHR5cGUpXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIHNpbmdsZSBBSSB0b29sIGJ5IGl0cyBJRC5cbiAgICogQHBhcmFtIGlkIFRoZSBudW1lcmljIElEIG9mIHRoZSBBSSB0b29sLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgQWlUb29sIG9iamVjdCBvciB1bmRlZmluZWQgaWYgbm90IGZvdW5kLlxuICAgKi9cbiAgYXN5bmMgZ2V0QUlUb29sKGlkOiBudW1iZXIpOiBQcm9taXNlPEFpVG9vbCB8IHVuZGVmaW5lZD4ge1xuICAgIGF3YWl0IHRoaXMuZW5zdXJlSW5pdGlhbGl6ZWQoKTtcbiAgICBjb25zdCByZXN1bHQ6IEFpVG9vbFtdID0gYXdhaXQgdGhpcy5kYi5zZWxlY3QoKS5mcm9tKGFpVG9vbHMpLndoZXJlKGVxKGFpVG9vbHMudG9vbF9pZCwgaWQpKTtcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RzIEFJIHRvb2xzLCBvcHRpb25hbGx5IGZpbHRlcmluZyBieSBzZWFyY2ggdGVybSwgY2F0ZWdvcnksIGFuZCBsaWNlbnNlIHR5cGUuXG4gICAqIEBwYXJhbSBzZWFyY2ggT3B0aW9uYWwgc2VhcmNoIHRlcm0gdG8gZmlsdGVyIGJ5IHRvb2wgbmFtZSBvciBkZXNjcmlwdGlvbi5cbiAgICogQHBhcmFtIGNhdGVnb3J5IE9wdGlvbmFsIGNhdGVnb3J5IHRvIGZpbHRlciBieS5cbiAgICogQHBhcmFtIGxpY2Vuc2VUeXBlIE9wdGlvbmFsIGxpY2Vuc2UgdHlwZSB0byBmaWx0ZXIgYnkuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGFycmF5IG9mIEFpVG9vbCBvYmplY3RzLlxuICAgKi9cbiAgYXN5bmMgbGlzdEFJVG9vbHMoc2VhcmNoPzogc3RyaW5nLCBjYXRlZ29yeT86IHN0cmluZywgbGljZW5zZVR5cGU/OiBzdHJpbmcpOiBQcm9taXNlPEFpVG9vbFtdPiB7XG4gICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIGxldCBxdWVyeSA9IHRoaXMuZGIuc2VsZWN0KCkuZnJvbShhaVRvb2xzKS4kZHluYW1pYygpOyBcblxuICAgIGNvbnN0IGNvbmRpdGlvbnMgPSBbXTtcbiAgICBpZiAoc2VhcmNoKSB7XG4gICAgICBjb25kaXRpb25zLnB1c2goc3FsYCgke2FpVG9vbHMudG9vbF9uYW1lfSBpbGlrZSAke2AlJHtzZWFyY2h9JWB9IG9yICR7YWlUb29scy5kZXNjcmlwdGlvbn0gaWxpa2UgJHtgJSR7c2VhcmNofSVgfSlgKTtcbiAgICB9XG4gICAgaWYgKGNhdGVnb3J5KSB7XG4gICAgICBjb25kaXRpb25zLnB1c2goZXEoYWlUb29scy5wcmltYXJ5X2NhdGVnb3J5LCBjYXRlZ29yeSkpO1xuICAgIH1cbiAgICBpZiAobGljZW5zZVR5cGUpIHtcbiAgICAgIGNvbmRpdGlvbnMucHVzaChlcShhaVRvb2xzLmxpY2Vuc2VfdHlwZSwgbGljZW5zZVR5cGUpKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LndoZXJlKHNxbC5qb2luKGNvbmRpdGlvbnMsIHNxbGAgYW5kIGApKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGF3YWl0IHF1ZXJ5Lm9yZGVyQnkoYXNjKGFpVG9vbHMudG9vbF9uYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBSSB0b29sIGluIHRoZSBkYXRhYmFzZS5cbiAgICogQHBhcmFtIHRvb2wgQW4gb2JqZWN0IGNvbmZvcm1pbmcgdG8gSW5zZXJ0QWlUb29sIChzbmFrZV9jYXNlLCBleGNsdWRpbmcgZGItZ2VuZXJhdGVkIGZpZWxkcyBsaWtlIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQpLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgbmV3bHkgY3JlYXRlZCBBaVRvb2wgb2JqZWN0IChpbmNsdWRpbmcgZGItZ2VuZXJhdGVkIGZpZWxkcykuXG4gICAqL1xuICBhc3luYyBjcmVhdGVBSVRvb2wodG9vbDogSW5zZXJ0QWlUb29sKTogUHJvbWlzZTxBaVRvb2w+IHsgXG4gICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIFxuICAgIGNvbnN0IGRiSW5zZXJ0RGF0YTogSW5zZXJ0QWlUb29sID0ge1xuICAgICAgICAuLi50b29sLCBcbiAgICAgICAgdG9vbF9uYW1lOiB0b29sLnRvb2xfbmFtZSwgXG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3VsdDogQWlUb29sW10gPSBhd2FpdCB0aGlzLmRiLmluc2VydChhaVRvb2xzKS52YWx1ZXMoZGJJbnNlcnREYXRhKS5yZXR1cm5pbmcoKTtcbiAgICBjb25zdCBuZXdEYlRvb2wgPSByZXN1bHRbMF07XG5cbiAgICBpZiAoIW5ld0RiVG9vbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIEFJIHRvb2wsIGRhdGFiYXNlIGRpZCBub3QgcmV0dXJuIHRoZSBjcmVhdGVkIHJlY29yZC5cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0RiVG9vbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGFuIGV4aXN0aW5nIEFJIHRvb2wgYnkgaXRzIElELlxuICAgKiBAcGFyYW0gaWQgVGhlIG51bWVyaWMgSUQgb2YgdGhlIEFJIHRvb2wgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gdG9vbFVwZGF0ZSBBIHBhcnRpYWwgb2JqZWN0IGNvbmZvcm1pbmcgdG8gSW5zZXJ0QWlUb29sIChzbmFrZV9jYXNlKSBjb250YWluaW5nIHRoZSBmaWVsZHMgdG8gdXBkYXRlLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdXBkYXRlZCBBaVRvb2wgb2JqZWN0LlxuICAgKiBAdGhyb3dzIEVycm9yIGlmIHRoZSB0b29sIGlzIG5vdCBmb3VuZCBvciBpZiBubyBmaWVsZHMgYXJlIHByb3ZpZGVkIGZvciB1cGRhdGUuXG4gICAqL1xuICBhc3luYyB1cGRhdGVBSVRvb2woaWQ6IG51bWJlciwgdG9vbFVwZGF0ZTogUGFydGlhbDxJbnNlcnRBaVRvb2w+KTogUHJvbWlzZTxBaVRvb2w+IHsgXG4gICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuXG4gICAgY29uc3QgZGJVcGRhdGVEYXRhID0gdG9vbFVwZGF0ZTtcblxuICAgIGlmICgndG9vbF9pZCcgaW4gZGJVcGRhdGVEYXRhKSBkZWxldGUgZGJVcGRhdGVEYXRhLnRvb2xfaWQ7XG4gICAgaWYgKCdjcmVhdGVkX2F0JyBpbiBkYlVwZGF0ZURhdGEpIGRlbGV0ZSBkYlVwZGF0ZURhdGEuY3JlYXRlZF9hdDtcblxuICAgIGNvbnN0IGZpbmFsVXBkYXRlRGF0YSA9IHsgLi4uZGJVcGRhdGVEYXRhLCB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpIH07XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoZGJVcGRhdGVEYXRhKS5sZW5ndGggPT09IDApIHsgXG4gICAgICAgLy8gVGhyb3cgZXJyb3IgaWYgb25seSB0aW1lc3RhbXAgd291bGQgYmUgdXBkYXRlZCAoYXMgbm8gb3RoZXIgZmllbGRzIHdlcmUgaW4gdG9vbFVwZGF0ZSlcbiAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmaWVsZHMgcHJvdmlkZWQgdG8gdXBkYXRlIGZvciBBSSBUb29sLlwiKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzdWx0OiBBaVRvb2xbXSA9IGF3YWl0IHRoaXMuZGIudXBkYXRlKGFpVG9vbHMpXG4gICAgICAuc2V0KGZpbmFsVXBkYXRlRGF0YSlcbiAgICAgIC53aGVyZShlcShhaVRvb2xzLnRvb2xfaWQsIGlkKSlcbiAgICAgIC5yZXR1cm5pbmcoKTtcbiAgICAgIFxuICAgIGNvbnN0IHVwZGF0ZWREYlRvb2wgPSByZXN1bHRbMF07XG5cbiAgICAgaWYgKCF1cGRhdGVkRGJUb29sKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwZGF0ZSBBSSB0b29sIHdpdGggSUQgJHtpZH0sIHJlY29yZCBub3QgZm91bmQgb3IgdXBkYXRlIGZhaWxlZC5gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXBkYXRlZERiVG9vbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGFuIEFJIHRvb2wgYnkgaXRzIElELlxuICAgKiBAcGFyYW0gaWQgVGhlIG51bWVyaWMgSUQgb2YgdGhlIEFJIHRvb2wgdG8gZGVsZXRlLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBkZWxldGlvbiBpcyBhdHRlbXB0ZWQuIExvZ3MgYSB3YXJuaW5nIGlmIHRoZSB0b29sIHdhcyBub3QgZm91bmQuXG4gICAqL1xuICBhc3luYyBkZWxldGVBSVRvb2woaWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4geyBcbiAgICBhd2FpdCB0aGlzLmVuc3VyZUluaXRpYWxpemVkKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5kZWxldGUoYWlUb29scykud2hlcmUoZXEoYWlUb29scy50b29sX2lkLCBpZCkpLnJldHVybmluZyh7IGRlbGV0ZWRJZDogYWlUb29scy50b29sX2lkIH0pO1xuICAgIFxuICAgIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgY29uc29sZS53YXJuKGBBdHRlbXB0ZWQgdG8gZGVsZXRlIEFJIFRvb2wgd2l0aCBJRCAke2lkfSwgYnV0IGl0IHdhcyBub3QgZm91bmQuYCk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2FwYWJpbGl0eVRvb2xNYXBwaW5nIG1ldGhvZHNcbiAgLy8gVGhlc2Ugc2VlbSBva2F5IGFzIHRoZXkgdXNlIHRoZSBzcGVjaWZpYyBJbnNlcnRDYXBhYmlsaXR5VG9vbE1hcHBpbmcgdHlwZVxuICBhc3luYyBnZXRDYXBhYmlsaXR5VG9vbE1hcHBpbmdzKGNhcGFiaWxpdHlJZDogbnVtYmVyKTogUHJvbWlzZTxDYXBhYmlsaXR5VG9vbE1hcHBpbmdbXT4ge1xuICAgIGF3YWl0IHRoaXMuZW5zdXJlSW5pdGlhbGl6ZWQoKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYi5zZWxlY3QoKVxuICAgICAgLmZyb20oY2FwYWJpbGl0eVRvb2xNYXBwaW5nKVxuICAgICAgLndoZXJlKGVxKGNhcGFiaWxpdHlUb29sTWFwcGluZy5jYXBhYmlsaXR5SWQsIGNhcGFiaWxpdHlJZCkpO1xuICB9XG5cbiAgYXN5bmMgZ2V0VG9vbENhcGFiaWxpdHlNYXBwaW5ncyh0b29sSWQ6IG51bWJlcik6IFByb21pc2U8Q2FwYWJpbGl0eVRvb2xNYXBwaW5nW10+IHtcbiAgICBhd2FpdCB0aGlzLmVuc3VyZUluaXRpYWxpemVkKCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGIuc2VsZWN0KClcbiAgICAgIC5mcm9tKGNhcGFiaWxpdHlUb29sTWFwcGluZylcbiAgICAgIC53aGVyZShlcShjYXBhYmlsaXR5VG9vbE1hcHBpbmcudG9vbElkLCB0b29sSWQpKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUNhcGFiaWxpdHlUb29sTWFwcGluZyhtYXBwaW5nOiBJbnNlcnRDYXBhYmlsaXR5VG9vbE1hcHBpbmcpOiBQcm9taXNlPENhcGFiaWxpdHlUb29sTWFwcGluZz4ge1xuICAgIGF3YWl0IHRoaXMuZW5zdXJlSW5pdGlhbGl6ZWQoKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiLmluc2VydChjYXBhYmlsaXR5VG9vbE1hcHBpbmcpXG4gICAgICAudmFsdWVzKHtcbiAgICAgICAgLi4ubWFwcGluZyxcbiAgICAgICAgbm90ZXM6IG1hcHBpbmcubm90ZXMgfHwgbnVsbFxuICAgICAgfSlcbiAgICAgIC5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlQ2FwYWJpbGl0eVRvb2xNYXBwaW5nKG1hcHBpbmdJZDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIGF3YWl0IHRoaXMuZGIuZGVsZXRlKGNhcGFiaWxpdHlUb29sTWFwcGluZylcbiAgICAgIC53aGVyZShlcShjYXBhYmlsaXR5VG9vbE1hcHBpbmcubWFwcGluZ0lkLCBtYXBwaW5nSWQpKTtcbiAgfVxuXG4gIC8vIEFzc2Vzc21lbnQgU2NvcmUgbWV0aG9kc1xuICBhc3luYyB1cHNlcnRBc3Nlc3NtZW50U2NvcmUoc2NvcmU6IE9taXQ8QXNzZXNzbWVudFNjb3JlRGF0YSwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KTogUHJvbWlzZTxBc3Nlc3NtZW50U2NvcmVEYXRhPiB7XG4gICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIuaW5zZXJ0KGFzc2Vzc21lbnRTY29yZXMpXG4gICAgICAudmFsdWVzKHtcbiAgICAgICAgLi4uc2NvcmUsXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIH0pXG4gICAgICAub25Db25mbGljdERvVXBkYXRlKHtcbiAgICAgICAgdGFyZ2V0OiBhc3Nlc3NtZW50U2NvcmVzLndpemFyZFN0ZXBJZCxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgLi4uc2NvcmUsXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICAgIC5yZXR1cm5pbmcoKTtcbiAgICBcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG5cbiAgYXN5bmMgZ2V0QXNzZXNzbWVudFNjb3JlKHdpemFyZFN0ZXBJZDogc3RyaW5nKTogUHJvbWlzZTxBc3Nlc3NtZW50U2NvcmVEYXRhIHwgdW5kZWZpbmVkPiB7XG4gICAgYXdhaXQgdGhpcy5lbnN1cmVJbml0aWFsaXplZCgpO1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIuc2VsZWN0KClcbiAgICAgIC5mcm9tKGFzc2Vzc21lbnRTY29yZXMpXG4gICAgICAud2hlcmUoZXEoYXNzZXNzbWVudFNjb3Jlcy53aXphcmRTdGVwSWQsIHdpemFyZFN0ZXBJZCkpO1xuICAgIFxuICAgIHJldHVybiByZXN1bHRbMF07XG4gIH1cbn0gIl0sIm5hbWVzIjpbImRyaXp6bGUiLCJkcml6emxlTm9kZVBvc3RncmVzIiwiZHJpenpsZU5lb25IdHRwIiwibmVvbiIsImVxIiwic3FsIiwiYXNjIiwiZG90ZW52IiwiYXNzZXNzbWVudHMiLCJkZXBhcnRtZW50cyIsIm9yZ2FuaXphdGlvbnMiLCJ1c2VycyIsInJlcG9ydHMiLCJhaUNhcGFiaWxpdGllcyIsImpvYlJvbGVzIiwiam9iRGVzY3JpcHRpb25zIiwiam9iU2NyYXBlckNvbmZpZ3MiLCJhaVRvb2xzIiwiY2FwYWJpbGl0eVRvb2xNYXBwaW5nIiwiYXNzZXNzbWVudFNjb3JlcyIsInByb2Nlc3MiLCJlbnYiLCJWRVJDRUxfRU5WIiwiY29uZmlnIiwicGF0aCIsIlBnU3RvcmFnZSIsImNvbnN0cnVjdG9yIiwiaXNJbml0aWFsaXplZCIsImluaXRQcm9taXNlIiwiaW5pdGlhbGl6ZUFzeW5jIiwiY29ubmVjdGlvblN0cmluZyIsImNvbnNvbGUiLCJsb2ciLCJEQVRBQkFTRV9QT1NUR1JFU19VUkwiLCJFcnJvciIsImRiIiwiREFUQUJBU0VfVVJMIiwicGciLCJwb29sIiwiUG9vbCIsImVycm9yIiwiZW5zdXJlSW5pdGlhbGl6ZWQiLCJkaXNjb25uZWN0IiwiZW5kIiwiZ2V0VXNlciIsImlkIiwicmVzdWx0Iiwic2VsZWN0IiwiZnJvbSIsIndoZXJlIiwiZ2V0VXNlckJ5VXNlcm5hbWUiLCJ1c2VybmFtZSIsImNyZWF0ZVVzZXIiLCJ1c2VyIiwiaW5zZXJ0IiwidmFsdWVzIiwicmV0dXJuaW5nIiwiZ2V0T3JnYW5pemF0aW9uIiwibGlzdE9yZ2FuaXphdGlvbnMiLCJjcmVhdGVPcmdhbml6YXRpb24iLCJvcmciLCJnZXREZXBhcnRtZW50IiwibGlzdERlcGFydG1lbnRzIiwiY3JlYXRlRGVwYXJ0bWVudCIsImRlcHQiLCJnZXRKb2JSb2xlIiwibGlzdEpvYlJvbGVzIiwiZGVwYXJ0bWVudE5hbWUiLCJuYW1lIiwibGVmdEpvaW4iLCJkZXBhcnRtZW50SWQiLCJvcmRlckJ5IiwidGl0bGUiLCJsaXN0Sm9iUm9sZXNCeURlcGFydG1lbnQiLCJjcmVhdGVKb2JSb2xlIiwicm9sZSIsImdldEFJQ2FwYWJpbGl0eSIsImxpc3RBSUNhcGFiaWxpdGllcyIsImNyZWF0ZUFJQ2FwYWJpbGl0eSIsImNhcGFiaWxpdHkiLCJnZXRBc3Nlc3NtZW50IiwibGlzdEFzc2Vzc21lbnRzIiwibGlzdEFzc2Vzc21lbnRzQnlVc2VyIiwidXNlcklkIiwiY3JlYXRlQXNzZXNzbWVudCIsImFzc2Vzc21lbnQiLCJzdGF0dXMiLCJzdGVwRGF0YSIsInVwZGF0ZUFzc2Vzc21lbnRTdGVwIiwiY3VycmVudCIsInVwZGF0ZWRTdGVwRGF0YSIsInVwZGF0ZSIsInNldCIsInVwZGF0ZUFzc2Vzc21lbnRTdGF0dXMiLCJnZXRSZXBvcnQiLCJnZXRSZXBvcnRCeUFzc2Vzc21lbnQiLCJhc3Nlc3NtZW50SWQiLCJsaXN0UmVwb3J0cyIsImNyZWF0ZVJlcG9ydCIsInJlcG9ydCIsInVwZGF0ZVJlcG9ydENvbW1lbnRhcnkiLCJjb21tZW50YXJ5IiwiZ2V0Sm9iRGVzY3JpcHRpb24iLCJsaXN0Sm9iRGVzY3JpcHRpb25zIiwibGltaXQiLCJvZmZzZXQiLCJsaXN0Sm9iRGVzY3JpcHRpb25zQnlTdGF0dXMiLCJjcmVhdGVKb2JEZXNjcmlwdGlvbiIsImpvYkRlc2NyaXB0aW9uIiwibm93IiwiRGF0ZSIsImtleXdvcmRzIiwiQXJyYXkiLCJpc0FycmF5IiwiU3RyaW5nIiwic2FuaXRpemVkSm9iRGVzY3JpcHRpb24iLCJjb21wYW55IiwibG9jYXRpb24iLCJwcm9jZXNzZWRDb250ZW50IiwiZGF0ZVNjcmFwZWQiLCJkYXRlUHJvY2Vzc2VkIiwiSlNPTiIsInN0cmluZ2lmeSIsImpvYkJvYXJkIiwibWVzc2FnZSIsInN0YWNrIiwidXBkYXRlSm9iRGVzY3JpcHRpb25Qcm9jZXNzZWRDb250ZW50IiwidXBkYXRlSm9iRGVzY3JpcHRpb25TdGF0dXMiLCJnZXRKb2JTY3JhcGVyQ29uZmlnIiwibGlzdEpvYlNjcmFwZXJDb25maWdzIiwibGlzdEFjdGl2ZUpvYlNjcmFwZXJDb25maWdzIiwiaXNBY3RpdmUiLCJjcmVhdGVKb2JTY3JhcGVyQ29uZmlnIiwiY3JvblNjaGVkdWxlIiwiY3JlYXRlZEF0IiwibGFzdFJ1biIsInVwZGF0ZUpvYlNjcmFwZXJDb25maWdMYXN0UnVuIiwidXBkYXRlSm9iU2NyYXBlckNvbmZpZ1N0YXR1cyIsImdldEFJVG9vbCIsInRvb2xfaWQiLCJsaXN0QUlUb29scyIsInNlYXJjaCIsImNhdGVnb3J5IiwibGljZW5zZVR5cGUiLCJxdWVyeSIsIiRkeW5hbWljIiwiY29uZGl0aW9ucyIsInB1c2giLCJ0b29sX25hbWUiLCJkZXNjcmlwdGlvbiIsInByaW1hcnlfY2F0ZWdvcnkiLCJsaWNlbnNlX3R5cGUiLCJsZW5ndGgiLCJqb2luIiwiY3JlYXRlQUlUb29sIiwidG9vbCIsImRiSW5zZXJ0RGF0YSIsIm5ld0RiVG9vbCIsInVwZGF0ZUFJVG9vbCIsInRvb2xVcGRhdGUiLCJkYlVwZGF0ZURhdGEiLCJjcmVhdGVkX2F0IiwiZmluYWxVcGRhdGVEYXRhIiwidXBkYXRlZF9hdCIsIk9iamVjdCIsImtleXMiLCJ1cGRhdGVkRGJUb29sIiwiZGVsZXRlQUlUb29sIiwiZGVsZXRlIiwiZGVsZXRlZElkIiwid2FybiIsImdldENhcGFiaWxpdHlUb29sTWFwcGluZ3MiLCJjYXBhYmlsaXR5SWQiLCJnZXRUb29sQ2FwYWJpbGl0eU1hcHBpbmdzIiwidG9vbElkIiwiY3JlYXRlQ2FwYWJpbGl0eVRvb2xNYXBwaW5nIiwibWFwcGluZyIsIm5vdGVzIiwiZGVsZXRlQ2FwYWJpbGl0eVRvb2xNYXBwaW5nIiwibWFwcGluZ0lkIiwidXBzZXJ0QXNzZXNzbWVudFNjb3JlIiwic2NvcmUiLCJ1cGRhdGVkQXQiLCJvbkNvbmZsaWN0RG9VcGRhdGUiLCJ0YXJnZXQiLCJ3aXphcmRTdGVwSWQiLCJnZXRBc3Nlc3NtZW50U2NvcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./server/pg-storage.ts\n");

/***/ }),

/***/ "(rsc)/./server/storage.ts":
/*!***************************!*\
  !*** ./server/storage.ts ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MemStorage: () => (/* binding */ MemStorage),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var _pg_storage_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pg-storage.ts */ \"(rsc)/./server/pg-storage.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pg_storage_ts__WEBPACK_IMPORTED_MODULE_0__]);\n_pg_storage_ts__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nclass MemStorage {\n    constructor(){\n        this.users = new Map();\n        this.organizations = new Map();\n        this.departments = new Map();\n        this.jobRoles = new Map();\n        this.aiCapabilities = new Map();\n        this.assessments = new Map();\n        this.reports = new Map();\n        this.jobDescriptions = new Map();\n        this.jobScraperConfigs = new Map();\n        this.aiTools = new Map();\n        this.userIdCounter = 1;\n        this.orgIdCounter = 1;\n        this.deptIdCounter = 1;\n        this.roleIdCounter = 1;\n        this.capabilityIdCounter = 1;\n        this.assessmentIdCounter = 1;\n        this.reportIdCounter = 1;\n        this.jobDescriptionIdCounter = 1;\n        this.jobScraperConfigIdCounter = 1;\n        this.aiToolIdCounter = 1;\n        // Initialize with sample data\n        this.initializeSampleData();\n    }\n    // User methods\n    async getUser(id) {\n        return this.users.get(id);\n    }\n    async getUserByUsername(username) {\n        return Array.from(this.users.values()).find((user)=>user.username === username);\n    }\n    async createUser(insertUser) {\n        const id = this.userIdCounter++;\n        const user = {\n            ...insertUser,\n            id,\n            role: insertUser.role || \"consultant\" // Ensure role is always defined\n        };\n        this.users.set(id, user);\n        return user;\n    }\n    // Organization methods\n    async getOrganization(id) {\n        return this.organizations.get(id);\n    }\n    async listOrganizations() {\n        return Array.from(this.organizations.values());\n    }\n    async createOrganization(org) {\n        const id = this.orgIdCounter++;\n        const organization = {\n            ...org,\n            id,\n            description: org.description || null // Ensure description is never undefined\n        };\n        this.organizations.set(id, organization);\n        return organization;\n    }\n    // Department methods\n    async getDepartment(id) {\n        return this.departments.get(id);\n    }\n    async listDepartments() {\n        return Array.from(this.departments.values());\n    }\n    async createDepartment(dept) {\n        const id = this.deptIdCounter++;\n        const department = {\n            ...dept,\n            id,\n            description: dept.description || null // Ensure description is never undefined\n        };\n        this.departments.set(id, department);\n        return department;\n    }\n    // JobRole methods\n    async getJobRole(id) {\n        return this.jobRoles.get(id);\n    }\n    async listJobRoles() {\n        return Array.from(this.jobRoles.values());\n    }\n    async listJobRolesByDepartment(departmentId) {\n        return Array.from(this.jobRoles.values()).filter((role)=>role.departmentId === departmentId);\n    }\n    async createJobRole(role) {\n        const id = this.roleIdCounter++;\n        const jobRole = {\n            ...role,\n            id,\n            description: role.description || null,\n            keyResponsibilities: role.keyResponsibilities || null,\n            aiPotential: role.aiPotential || null\n        };\n        this.jobRoles.set(id, jobRole);\n        return jobRole;\n    }\n    // AICapability methods\n    async getAICapability(id) {\n        return this.aiCapabilities.get(id);\n    }\n    async listAICapabilities() {\n        return Array.from(this.aiCapabilities.values());\n    }\n    async createAICapability(capability) {\n        const id = this.capabilityIdCounter++;\n        const aiCapability = {\n            ...capability,\n            id,\n            description: capability.description || null,\n            implementationEffort: capability.implementationEffort || null,\n            businessValue: capability.businessValue || null,\n            easeScore: capability.easeScore || null,\n            valueScore: capability.valueScore || null\n        };\n        this.aiCapabilities.set(id, aiCapability);\n        return aiCapability;\n    }\n    // Assessment methods\n    async getAssessment(id) {\n        return this.assessments.get(id);\n    }\n    async listAssessments() {\n        return Array.from(this.assessments.values());\n    }\n    async listAssessmentsByUser(userId) {\n        return Array.from(this.assessments.values()).filter((assessment)=>assessment.userId === userId);\n    }\n    async createAssessment(assessment) {\n        const id = this.assessmentIdCounter++;\n        const createdAt = new Date();\n        const newAssessment = {\n            ...assessment,\n            id,\n            createdAt,\n            status: assessment.status || \"draft\",\n            stepData: assessment.stepData || null\n        };\n        this.assessments.set(id, newAssessment);\n        return newAssessment;\n    }\n    async updateAssessmentStep(id, stepData) {\n        const assessment = this.assessments.get(id);\n        if (!assessment) {\n            throw new Error(`Assessment with id ${id} not found`);\n        }\n        const updatedAssessment = {\n            ...assessment,\n            stepData: {\n                ...assessment.stepData || {},\n                ...stepData\n            }\n        };\n        this.assessments.set(id, updatedAssessment);\n        return updatedAssessment;\n    }\n    async updateAssessmentStatus(id, status) {\n        const assessment = this.assessments.get(id);\n        if (!assessment) {\n            throw new Error(`Assessment with id ${id} not found`);\n        }\n        const updatedAssessment = {\n            ...assessment,\n            status\n        };\n        this.assessments.set(id, updatedAssessment);\n        return updatedAssessment;\n    }\n    // Report methods\n    async getReport(id) {\n        return this.reports.get(id);\n    }\n    async getReportByAssessment(assessmentId) {\n        return Array.from(this.reports.values()).find((report)=>report.assessmentId === assessmentId);\n    }\n    async listReports() {\n        return Array.from(this.reports.values());\n    }\n    async createReport(report) {\n        const id = this.reportIdCounter++;\n        const generatedAt = new Date();\n        const newReport = {\n            ...report,\n            id,\n            generatedAt,\n            executiveSummary: report.executiveSummary || null,\n            prioritizationData: report.prioritizationData || null,\n            aiSuggestions: report.aiSuggestions || null,\n            performanceImpact: report.performanceImpact || null,\n            consultantCommentary: report.consultantCommentary || null\n        };\n        this.reports.set(id, newReport);\n        return newReport;\n    }\n    async updateReportCommentary(id, commentary) {\n        const report = this.reports.get(id);\n        if (!report) {\n            throw new Error(`Report with id ${id} not found`);\n        }\n        const updatedReport = {\n            ...report,\n            consultantCommentary: commentary\n        };\n        this.reports.set(id, updatedReport);\n        return updatedReport;\n    }\n    // Job Description methods\n    async getJobDescription(id) {\n        return this.jobDescriptions.get(id);\n    }\n    async listJobDescriptions(limit = 100, offset = 0) {\n        const allJobDescriptions = Array.from(this.jobDescriptions.values());\n        return allJobDescriptions.slice(offset, offset + limit);\n    }\n    async listJobDescriptionsByStatus(status, limit = 100, offset = 0) {\n        const filteredJobDescriptions = Array.from(this.jobDescriptions.values()).filter((jd)=>jd.status === status);\n        return filteredJobDescriptions.slice(offset, offset + limit);\n    }\n    async createJobDescription(jobDescription) {\n        const id = this.jobDescriptionIdCounter++;\n        const now = new Date();\n        const newJobDescription = {\n            ...jobDescription,\n            id,\n            status: jobDescription.status || \"raw\",\n            company: jobDescription.company || null,\n            location: jobDescription.location || null,\n            processedContent: null,\n            keywords: jobDescription.keywords || null,\n            dateScraped: now,\n            dateProcessed: null,\n            error: null\n        };\n        this.jobDescriptions.set(id, newJobDescription);\n        return newJobDescription;\n    }\n    async updateJobDescriptionProcessedContent(id, processedContent) {\n        const jobDescription = this.jobDescriptions.get(id);\n        if (!jobDescription) {\n            throw new Error(`JobDescription with id ${id} not found`);\n        }\n        const updatedJobDescription = {\n            ...jobDescription,\n            processedContent\n        };\n        this.jobDescriptions.set(id, updatedJobDescription);\n        return updatedJobDescription;\n    }\n    async updateJobDescriptionStatus(id, status, error) {\n        const jobDescription = this.jobDescriptions.get(id);\n        if (!jobDescription) {\n            throw new Error(`JobDescription with id ${id} not found`);\n        }\n        const updatedJobDescription = {\n            ...jobDescription,\n            status,\n            error: error || null\n        };\n        this.jobDescriptions.set(id, updatedJobDescription);\n        return updatedJobDescription;\n    }\n    // Job Scraper Config methods\n    async getJobScraperConfig(id) {\n        return this.jobScraperConfigs.get(id);\n    }\n    async listJobScraperConfigs() {\n        return Array.from(this.jobScraperConfigs.values());\n    }\n    async listActiveJobScraperConfigs() {\n        return Array.from(this.jobScraperConfigs.values()).filter((config)=>config.isActive);\n    }\n    async createJobScraperConfig(config) {\n        const id = this.jobScraperConfigIdCounter++;\n        const now = new Date();\n        const newConfig = {\n            ...config,\n            id,\n            createdAt: now,\n            location: config.location || null,\n            keywords: config.keywords || null,\n            isActive: config.isActive ?? true,\n            cronSchedule: config.cronSchedule || \"0 0 * * *\",\n            lastRun: null\n        };\n        this.jobScraperConfigs.set(id, newConfig);\n        return newConfig;\n    }\n    async updateJobScraperConfigLastRun(id) {\n        const config = this.jobScraperConfigs.get(id);\n        if (!config) {\n            throw new Error(`JobScraperConfig with id ${id} not found`);\n        }\n        const updatedConfig = {\n            ...config,\n            lastRun: new Date()\n        };\n        this.jobScraperConfigs.set(id, updatedConfig);\n        return updatedConfig;\n    }\n    async updateJobScraperConfigStatus(id, isActive) {\n        const config = this.jobScraperConfigs.get(id);\n        if (!config) {\n            throw new Error(`JobScraperConfig with id ${id} not found`);\n        }\n        const updatedConfig = {\n            ...config,\n            isActive\n        };\n        this.jobScraperConfigs.set(id, updatedConfig);\n        return updatedConfig;\n    }\n    // AI Tool methods - USE snake_case type\n    async getAITool(id) {\n        return this.aiTools.get(id);\n    }\n    async listAITools(search, category, licenseType) {\n        let tools = Array.from(this.aiTools.values());\n        if (search) {\n            const searchLower = search.toLowerCase();\n            tools = tools.filter((tool)=>tool.tool_name.toLowerCase().includes(searchLower) || tool.description.toLowerCase().includes(searchLower) || tool.primary_category.toLowerCase().includes(searchLower) || tool.tags?.some((tag)=>tag.toLowerCase().includes(searchLower)));\n        }\n        if (category) {\n            tools = tools.filter((tool)=>tool.primary_category === category);\n        }\n        if (licenseType) {\n            tools = tools.filter((tool)=>tool.license_type === licenseType);\n        }\n        return tools;\n    }\n    async createAITool(tool) {\n        const id = this.aiToolIdCounter++;\n        const now = new Date();\n        const newTool = {\n            id,\n            ...tool,\n            created_at: now,\n            updated_at: now\n        };\n        this.aiTools.set(id, newTool);\n        return newTool;\n    }\n    async updateAITool(id, toolUpdate) {\n        const existingTool = await this.getAITool(id);\n        if (!existingTool) {\n            throw new Error(`AI Tool with id ${id} not found`);\n        }\n        const updatedTool = {\n            ...existingTool,\n            ...toolUpdate,\n            updated_at: new Date()\n        };\n        this.aiTools.set(id, updatedTool);\n        return updatedTool;\n    }\n    async deleteAITool(id) {\n        this.aiTools.delete(id);\n    }\n    initializeSampleData() {\n        // Create sample user\n        const user = {\n            id: this.userIdCounter++,\n            username: \"consultant\",\n            password: \"password123\",\n            fullName: \"Consultant User\",\n            email: \"consultant@example.com\",\n            role: \"consultant\"\n        };\n        this.users.set(user.id, user);\n        // Create sample departments\n        const departments = [\n            {\n                id: this.deptIdCounter++,\n                name: \"Sales & Marketing\",\n                description: \"Handles all sales and marketing activities\"\n            },\n            {\n                id: this.deptIdCounter++,\n                name: \"Customer Support\",\n                description: \"Provides support to customers\"\n            },\n            {\n                id: this.deptIdCounter++,\n                name: \"Finance\",\n                description: \"Manages financial operations\"\n            },\n            {\n                id: this.deptIdCounter++,\n                name: \"Human Resources\",\n                description: \"Handles employee management and recruitment\"\n            },\n            {\n                id: this.deptIdCounter++,\n                name: \"Engineering\",\n                description: \"Develops and maintains products\"\n            },\n            {\n                id: this.deptIdCounter++,\n                name: \"Operations\",\n                description: \"Oversees day-to-day business operations\"\n            }\n        ];\n        departments.forEach((dept)=>this.departments.set(dept.id, dept));\n        // Create sample job roles\n        const jobRoles = [\n            {\n                id: this.roleIdCounter++,\n                title: \"Sales Operations Specialist\",\n                departmentId: 1,\n                description: \"Manages RFP responses, sales data analysis, and CRM maintenance\",\n                keyResponsibilities: [\n                    \"Manage RFP responses\",\n                    \"Maintain sales data\",\n                    \"Perform CRM analysis\",\n                    \"Create sales reports\",\n                    \"Support proposal creation\"\n                ],\n                aiPotential: \"High\"\n            },\n            {\n                id: this.roleIdCounter++,\n                title: \"Content Marketing Manager\",\n                departmentId: 1,\n                description: \"Creates and distributes content for marketing campaigns\",\n                keyResponsibilities: [\n                    \"Create marketing content\",\n                    \"Manage editorial calendar\",\n                    \"Coordinate content distribution\",\n                    \"Analyze content performance\",\n                    \"Develop content strategy\"\n                ],\n                aiPotential: \"Medium\"\n            },\n            {\n                id: this.roleIdCounter++,\n                title: \"Digital Marketing Specialist\",\n                departmentId: 1,\n                description: \"Manages online advertising and campaign analysis\",\n                keyResponsibilities: [\n                    \"Manage online ad campaigns\",\n                    \"Analyze marketing data\",\n                    \"Optimize conversion rates\",\n                    \"Report on marketing KPIs\",\n                    \"Conduct A/B testing\"\n                ],\n                aiPotential: \"Medium\"\n            },\n            {\n                id: this.roleIdCounter++,\n                title: \"Customer Support Agent\",\n                departmentId: 2,\n                description: \"Handles tier 1 customer inquiries via chat, email, and phone\",\n                keyResponsibilities: [\n                    \"Handle customer inquiries\",\n                    \"Troubleshoot basic issues\",\n                    \"Escalate complex problems\",\n                    \"Maintain customer records\",\n                    \"Follow up on resolved issues\"\n                ],\n                aiPotential: \"High\"\n            },\n            {\n                id: this.roleIdCounter++,\n                title: \"Technical Support Specialist\",\n                departmentId: 2,\n                description: \"Resolves complex technical issues and product-specific problems\",\n                keyResponsibilities: [\n                    \"Diagnose technical problems\",\n                    \"Provide advanced troubleshooting\",\n                    \"Document solutions\",\n                    \"Train junior support staff\",\n                    \"Contribute to knowledge base\"\n                ],\n                aiPotential: \"Medium\"\n            }\n        ];\n        jobRoles.forEach((role)=>this.jobRoles.set(role.id, role));\n        // Sample AI Capabilities\n        const sampleCapabilities = [\n            {\n                name: \"Automated Document Processing\",\n                category: \"Document Management\",\n                description: \"AI-powered document processing and analysis\",\n                implementationEffort: \"Medium\",\n                businessValue: \"High\",\n                easeScore: \"Medium\",\n                valueScore: \"High\"\n            },\n            {\n                name: \"Predictive Analytics\",\n                category: \"Data Analysis\",\n                description: \"Advanced predictive modeling and forecasting\",\n                implementationEffort: \"High\",\n                businessValue: \"Very High\",\n                easeScore: \"Low\",\n                valueScore: \"Very High\"\n            },\n            {\n                name: \"Natural Language Processing\",\n                category: \"Text Analysis\",\n                description: \"Understanding and processing human language\",\n                implementationEffort: \"Medium\",\n                businessValue: \"High\",\n                easeScore: \"Medium\",\n                valueScore: \"High\"\n            },\n            {\n                name: \"Image Recognition\",\n                category: \"Computer Vision\",\n                description: \"AI-powered image analysis and recognition\",\n                implementationEffort: \"High\",\n                businessValue: \"Medium\",\n                easeScore: \"Low\",\n                valueScore: \"Medium\"\n            },\n            {\n                name: \"Process Automation\",\n                category: \"Workflow\",\n                description: \"Automating repetitive business processes\",\n                implementationEffort: \"Low\",\n                businessValue: \"High\",\n                easeScore: \"High\",\n                valueScore: \"High\"\n            }\n        ];\n        sampleCapabilities.forEach((capability)=>{\n            this.createAICapability(capability);\n        });\n        // Add sample job scraper configs\n        this.createJobScraperConfig({\n            name: \"LinkedIn Tech Jobs\",\n            targetWebsite: \"linkedin\",\n            keywords: [\n                \"software engineer\",\n                \"web developer\",\n                \"frontend\",\n                \"backend\"\n            ],\n            location: \"San Francisco\",\n            isActive: true,\n            cronSchedule: \"0 0 * * *\"\n        });\n        this.createJobScraperConfig({\n            name: \"Indeed Data Science\",\n            targetWebsite: \"indeed\",\n            keywords: [\n                \"data scientist\",\n                \"machine learning\",\n                \"AI\",\n                \"data analyst\"\n            ],\n            location: \"Remote\",\n            isActive: true,\n            cronSchedule: \"0 12 * * *\"\n        });\n    }\n}\n// Create storage instance based on environment\nlet storageInstance;\ntry {\n    // Check if DATABASE_URL is configured\n    if (process.env.DATABASE_URL) {\n        console.log(\"Using PostgreSQL storage implementation\");\n        storageInstance = new _pg_storage_ts__WEBPACK_IMPORTED_MODULE_0__.PgStorage();\n    } else {\n        console.log(\"DATABASE_URL not set, using in-memory storage implementation\");\n        storageInstance = new MemStorage();\n    }\n} catch (error) {\n    console.error(\"Error initializing PostgreSQL storage, falling back to in-memory storage:\", error);\n    storageInstance = new MemStorage();\n}\n// Export the selected storage implementation\nconst storage = storageInstance;\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtRQUVBLElBQUksQ0FBQ0Ysc0JBQXNCLENBQUM7WUFDMUJvQyxNQUFNO1lBQ05JLGVBQWU7WUFDZnBELFVBQVU7Z0JBQUM7Z0JBQWtCO2dCQUFvQjtnQkFBTTthQUFlO1lBQ3RFRixVQUFVO1lBQ1ZhLFVBQVU7WUFDVkcsY0FBYztRQUNoQjtJQUNGO0FBQ0Y7QUFFQSwrQ0FBK0M7QUFDL0MsSUFBSXVDO0FBRUosSUFBSTtJQUNGLHNDQUFzQztJQUN0QyxJQUFJQyxRQUFRQyxHQUFHLENBQUNDLFlBQVksRUFBRTtRQUM1QkMsUUFBUUMsR0FBRyxDQUFDO1FBQ1pMLGtCQUFrQixJQUFJeEsscURBQVNBO0lBQ2pDLE9BQU87UUFDTDRLLFFBQVFDLEdBQUcsQ0FBQztRQUNaTCxrQkFBa0IsSUFBSXZLO0lBQ3hCO0FBQ0YsRUFBRSxPQUFPcUgsT0FBTztJQUNkc0QsUUFBUXRELEtBQUssQ0FBQyw2RUFBNkVBO0lBQzNGa0Qsa0JBQWtCLElBQUl2SztBQUN4QjtBQUVBLDZDQUE2QztBQUN0QyxNQUFNNkssVUFBVU4sZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdC1leHByZXNzLy4vc2VydmVyL3N0b3JhZ2UudHM/Y2M0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBcbiAgVXNlciwgSW5zZXJ0VXNlciwgXG4gIE9yZ2FuaXphdGlvbiwgSW5zZXJ0T3JnYW5pemF0aW9uLFxuICBEZXBhcnRtZW50LCBJbnNlcnREZXBhcnRtZW50LFxuICBKb2JSb2xlLCBJbnNlcnRKb2JSb2xlLFxuICBBSUNhcGFiaWxpdHksIEluc2VydEFJQ2FwYWJpbGl0eSxcbiAgQXNzZXNzbWVudCwgSW5zZXJ0QXNzZXNzbWVudCxcbiAgUmVwb3J0LCBJbnNlcnRSZXBvcnQsXG4gIFdpemFyZFN0ZXBEYXRhLFxuICBIZWF0bWFwRGF0YSxcbiAgQUlTdWdnZXN0aW9uLFxuICBQZXJmb3JtYW5jZUltcGFjdCxcbiAgUHJpb3JpdGl6ZWRJdGVtLFxuICBKb2JEZXNjcmlwdGlvbiwgSW5zZXJ0Sm9iRGVzY3JpcHRpb24sXG4gIEpvYlNjcmFwZXJDb25maWcsIEluc2VydEpvYlNjcmFwZXJDb25maWcsXG4gIFByb2Nlc3NlZEpvYkNvbnRlbnQsXG4gIEFJVG9vbCxcbiAgQXNzZXNzbWVudFNjb3JlRGF0YVxufSBmcm9tIFwiLi4vc2hhcmVkL3NjaGVtYS50c1wiO1xuXG5pbXBvcnQgeyBQZ1N0b3JhZ2UgfSBmcm9tICcuL3BnLXN0b3JhZ2UudHMnO1xuXG4vLyBtb2RpZnkgdGhlIGludGVyZmFjZSB3aXRoIGFueSBDUlVEIG1ldGhvZHNcbi8vIHlvdSBtaWdodCBuZWVkXG5leHBvcnQgaW50ZXJmYWNlIElTdG9yYWdlIHtcbiAgLy8gVXNlciBtZXRob2RzXG4gIGdldFVzZXIoaWQ6IG51bWJlcik6IFByb21pc2U8VXNlciB8IHVuZGVmaW5lZD47XG4gIGdldFVzZXJCeVVzZXJuYW1lKHVzZXJuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCB1bmRlZmluZWQ+O1xuICBjcmVhdGVVc2VyKHVzZXI6IEluc2VydFVzZXIpOiBQcm9taXNlPFVzZXI+O1xuICBcbiAgLy8gT3JnYW5pemF0aW9uIG1ldGhvZHNcbiAgZ2V0T3JnYW5pemF0aW9uKGlkOiBudW1iZXIpOiBQcm9taXNlPE9yZ2FuaXphdGlvbiB8IHVuZGVmaW5lZD47XG4gIGxpc3RPcmdhbml6YXRpb25zKCk6IFByb21pc2U8T3JnYW5pemF0aW9uW10+O1xuICBjcmVhdGVPcmdhbml6YXRpb24ob3JnOiBJbnNlcnRPcmdhbml6YXRpb24pOiBQcm9taXNlPE9yZ2FuaXphdGlvbj47XG4gIFxuICAvLyBEZXBhcnRtZW50IG1ldGhvZHNcbiAgZ2V0RGVwYXJ0bWVudChpZDogbnVtYmVyKTogUHJvbWlzZTxEZXBhcnRtZW50IHwgdW5kZWZpbmVkPjtcbiAgbGlzdERlcGFydG1lbnRzKCk6IFByb21pc2U8RGVwYXJ0bWVudFtdPjtcbiAgY3JlYXRlRGVwYXJ0bWVudChkZXB0OiBJbnNlcnREZXBhcnRtZW50KTogUHJvbWlzZTxEZXBhcnRtZW50PjtcbiAgXG4gIC8vIEpvYlJvbGUgbWV0aG9kc1xuICBnZXRKb2JSb2xlKGlkOiBudW1iZXIpOiBQcm9taXNlPEpvYlJvbGUgfCB1bmRlZmluZWQ+O1xuICBsaXN0Sm9iUm9sZXMoKTogUHJvbWlzZTxKb2JSb2xlW10+O1xuICBsaXN0Sm9iUm9sZXNCeURlcGFydG1lbnQoZGVwYXJ0bWVudElkOiBudW1iZXIpOiBQcm9taXNlPEpvYlJvbGVbXT47XG4gIGNyZWF0ZUpvYlJvbGUocm9sZTogSW5zZXJ0Sm9iUm9sZSk6IFByb21pc2U8Sm9iUm9sZT47XG4gIFxuICAvLyBBSUNhcGFiaWxpdHkgbWV0aG9kc1xuICBnZXRBSUNhcGFiaWxpdHkoaWQ6IG51bWJlcik6IFByb21pc2U8QUlDYXBhYmlsaXR5IHwgdW5kZWZpbmVkPjtcbiAgbGlzdEFJQ2FwYWJpbGl0aWVzKCk6IFByb21pc2U8QUlDYXBhYmlsaXR5W10+O1xuICBjcmVhdGVBSUNhcGFiaWxpdHkoY2FwYWJpbGl0eTogSW5zZXJ0QUlDYXBhYmlsaXR5KTogUHJvbWlzZTxBSUNhcGFiaWxpdHk+O1xuICBcbiAgLy8gQXNzZXNzbWVudCBtZXRob2RzXG4gIGdldEFzc2Vzc21lbnQoaWQ6IG51bWJlcik6IFByb21pc2U8QXNzZXNzbWVudCB8IHVuZGVmaW5lZD47XG4gIGxpc3RBc3Nlc3NtZW50cygpOiBQcm9taXNlPEFzc2Vzc21lbnRbXT47XG4gIGxpc3RBc3Nlc3NtZW50c0J5VXNlcih1c2VySWQ6IG51bWJlcik6IFByb21pc2U8QXNzZXNzbWVudFtdPjtcbiAgY3JlYXRlQXNzZXNzbWVudChhc3Nlc3NtZW50OiBJbnNlcnRBc3Nlc3NtZW50KTogUHJvbWlzZTxBc3Nlc3NtZW50PjtcbiAgdXBkYXRlQXNzZXNzbWVudFN0ZXAoaWQ6IG51bWJlciwgc3RlcERhdGE6IFBhcnRpYWw8V2l6YXJkU3RlcERhdGE+KTogUHJvbWlzZTxBc3Nlc3NtZW50PjtcbiAgdXBkYXRlQXNzZXNzbWVudFN0YXR1cyhpZDogbnVtYmVyLCBzdGF0dXM6IHN0cmluZyk6IFByb21pc2U8QXNzZXNzbWVudD47XG4gIFxuICAvLyBSZXBvcnQgbWV0aG9kc1xuICBnZXRSZXBvcnQoaWQ6IG51bWJlcik6IFByb21pc2U8UmVwb3J0IHwgdW5kZWZpbmVkPjtcbiAgZ2V0UmVwb3J0QnlBc3Nlc3NtZW50KGFzc2Vzc21lbnRJZDogbnVtYmVyKTogUHJvbWlzZTxSZXBvcnQgfCB1bmRlZmluZWQ+O1xuICBsaXN0UmVwb3J0cygpOiBQcm9taXNlPFJlcG9ydFtdPjtcbiAgY3JlYXRlUmVwb3J0KHJlcG9ydDogSW5zZXJ0UmVwb3J0KTogUHJvbWlzZTxSZXBvcnQ+O1xuICB1cGRhdGVSZXBvcnRDb21tZW50YXJ5KGlkOiBudW1iZXIsIGNvbW1lbnRhcnk6IHN0cmluZyk6IFByb21pc2U8UmVwb3J0PjtcbiAgXG4gIC8vIEpvYiBEZXNjcmlwdGlvbiBtZXRob2RzXG4gIGdldEpvYkRlc2NyaXB0aW9uKGlkOiBudW1iZXIpOiBQcm9taXNlPEpvYkRlc2NyaXB0aW9uIHwgdW5kZWZpbmVkPjtcbiAgbGlzdEpvYkRlc2NyaXB0aW9ucyhsaW1pdD86IG51bWJlciwgb2Zmc2V0PzogbnVtYmVyKTogUHJvbWlzZTxKb2JEZXNjcmlwdGlvbltdPjtcbiAgbGlzdEpvYkRlc2NyaXB0aW9uc0J5U3RhdHVzKHN0YXR1czogc3RyaW5nLCBsaW1pdD86IG51bWJlciwgb2Zmc2V0PzogbnVtYmVyKTogUHJvbWlzZTxKb2JEZXNjcmlwdGlvbltdPjtcbiAgY3JlYXRlSm9iRGVzY3JpcHRpb24oam9iRGVzY3JpcHRpb246IEluc2VydEpvYkRlc2NyaXB0aW9uKTogUHJvbWlzZTxKb2JEZXNjcmlwdGlvbj47XG4gIHVwZGF0ZUpvYkRlc2NyaXB0aW9uUHJvY2Vzc2VkQ29udGVudChpZDogbnVtYmVyLCBwcm9jZXNzZWRDb250ZW50OiBQcm9jZXNzZWRKb2JDb250ZW50KTogUHJvbWlzZTxKb2JEZXNjcmlwdGlvbj47XG4gIHVwZGF0ZUpvYkRlc2NyaXB0aW9uU3RhdHVzKGlkOiBudW1iZXIsIHN0YXR1czogc3RyaW5nLCBlcnJvcj86IHN0cmluZyk6IFByb21pc2U8Sm9iRGVzY3JpcHRpb24+O1xuICBcbiAgLy8gSm9iIFNjcmFwZXIgQ29uZmlnIG1ldGhvZHNcbiAgZ2V0Sm9iU2NyYXBlckNvbmZpZyhpZDogbnVtYmVyKTogUHJvbWlzZTxKb2JTY3JhcGVyQ29uZmlnIHwgdW5kZWZpbmVkPjtcbiAgbGlzdEpvYlNjcmFwZXJDb25maWdzKCk6IFByb21pc2U8Sm9iU2NyYXBlckNvbmZpZ1tdPjtcbiAgbGlzdEFjdGl2ZUpvYlNjcmFwZXJDb25maWdzKCk6IFByb21pc2U8Sm9iU2NyYXBlckNvbmZpZ1tdPjtcbiAgY3JlYXRlSm9iU2NyYXBlckNvbmZpZyhjb25maWc6IEluc2VydEpvYlNjcmFwZXJDb25maWcpOiBQcm9taXNlPEpvYlNjcmFwZXJDb25maWc+O1xuICB1cGRhdGVKb2JTY3JhcGVyQ29uZmlnTGFzdFJ1bihpZDogbnVtYmVyKTogUHJvbWlzZTxKb2JTY3JhcGVyQ29uZmlnPjtcbiAgdXBkYXRlSm9iU2NyYXBlckNvbmZpZ1N0YXR1cyhpZDogbnVtYmVyLCBpc0FjdGl2ZTogYm9vbGVhbik6IFByb21pc2U8Sm9iU2NyYXBlckNvbmZpZz47XG5cbiAgLy8gQUkgVG9vbCBtZXRob2RzIC0gVVNFIHNuYWtlX2Nhc2UgdHlwZVxuICBnZXRBSVRvb2woaWQ6IG51bWJlcik6IFByb21pc2U8QUlUb29sIHwgdW5kZWZpbmVkPjtcbiAgbGlzdEFJVG9vbHMoc2VhcmNoPzogc3RyaW5nLCBjYXRlZ29yeT86IHN0cmluZywgbGljZW5zZVR5cGU/OiBzdHJpbmcpOiBQcm9taXNlPEFJVG9vbFtdPjtcbiAgY3JlYXRlQUlUb29sKHRvb2w6IEluc2VydEFJVG9vbCk6IFByb21pc2U8QUlUb29sPjtcbiAgdXBkYXRlQUlUb29sKGlkOiBudW1iZXIsIHRvb2xVcGRhdGU6IFBhcnRpYWw8SW5zZXJ0QUlUb29sPik6IFByb21pc2U8QUlUb29sPjtcbiAgZGVsZXRlQUlUb29sKGlkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8vIEFzc2Vzc21lbnQgU2NvcmUgbWV0aG9kc1xuICB1cHNlcnRBc3Nlc3NtZW50U2NvcmUoc2NvcmU6IE9taXQ8QXNzZXNzbWVudFNjb3JlRGF0YSwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KTogUHJvbWlzZTxBc3Nlc3NtZW50U2NvcmVEYXRhPjtcbiAgZ2V0QXNzZXNzbWVudFNjb3JlKHdpemFyZFN0ZXBJZDogc3RyaW5nKTogUHJvbWlzZTxBc3Nlc3NtZW50U2NvcmVEYXRhIHwgdW5kZWZpbmVkPjtcbn1cblxuZXhwb3J0IGNsYXNzIE1lbVN0b3JhZ2UgaW1wbGVtZW50cyBJU3RvcmFnZSB7XG4gIHByaXZhdGUgdXNlcnM6IE1hcDxudW1iZXIsIFVzZXI+O1xuICBwcml2YXRlIG9yZ2FuaXphdGlvbnM6IE1hcDxudW1iZXIsIE9yZ2FuaXphdGlvbj47XG4gIHByaXZhdGUgZGVwYXJ0bWVudHM6IE1hcDxudW1iZXIsIERlcGFydG1lbnQ+O1xuICBwcml2YXRlIGpvYlJvbGVzOiBNYXA8bnVtYmVyLCBKb2JSb2xlPjtcbiAgcHJpdmF0ZSBhaUNhcGFiaWxpdGllczogTWFwPG51bWJlciwgQUlDYXBhYmlsaXR5PjtcbiAgcHJpdmF0ZSBhc3Nlc3NtZW50czogTWFwPG51bWJlciwgQXNzZXNzbWVudD47XG4gIHByaXZhdGUgcmVwb3J0czogTWFwPG51bWJlciwgUmVwb3J0PjtcbiAgcHJpdmF0ZSBqb2JEZXNjcmlwdGlvbnM6IE1hcDxudW1iZXIsIEpvYkRlc2NyaXB0aW9uPjtcbiAgcHJpdmF0ZSBqb2JTY3JhcGVyQ29uZmlnczogTWFwPG51bWJlciwgSm9iU2NyYXBlckNvbmZpZz47XG4gIHByaXZhdGUgYWlUb29sczogTWFwPG51bWJlciwgQUlUb29sPjtcbiAgXG4gIHByaXZhdGUgdXNlcklkQ291bnRlcjogbnVtYmVyO1xuICBwcml2YXRlIG9yZ0lkQ291bnRlcjogbnVtYmVyO1xuICBwcml2YXRlIGRlcHRJZENvdW50ZXI6IG51bWJlcjtcbiAgcHJpdmF0ZSByb2xlSWRDb3VudGVyOiBudW1iZXI7XG4gIHByaXZhdGUgY2FwYWJpbGl0eUlkQ291bnRlcjogbnVtYmVyO1xuICBwcml2YXRlIGFzc2Vzc21lbnRJZENvdW50ZXI6IG51bWJlcjtcbiAgcHJpdmF0ZSByZXBvcnRJZENvdW50ZXI6IG51bWJlcjtcbiAgcHJpdmF0ZSBqb2JEZXNjcmlwdGlvbklkQ291bnRlcjogbnVtYmVyO1xuICBwcml2YXRlIGpvYlNjcmFwZXJDb25maWdJZENvdW50ZXI6IG51bWJlcjtcbiAgcHJpdmF0ZSBhaVRvb2xJZENvdW50ZXI6IG51bWJlcjtcbiAgXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudXNlcnMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5vcmdhbml6YXRpb25zID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuZGVwYXJ0bWVudHMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5qb2JSb2xlcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmFpQ2FwYWJpbGl0aWVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuYXNzZXNzbWVudHMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5yZXBvcnRzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuam9iRGVzY3JpcHRpb25zID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuam9iU2NyYXBlckNvbmZpZ3MgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5haVRvb2xzID0gbmV3IE1hcCgpO1xuICAgIFxuICAgIHRoaXMudXNlcklkQ291bnRlciA9IDE7XG4gICAgdGhpcy5vcmdJZENvdW50ZXIgPSAxO1xuICAgIHRoaXMuZGVwdElkQ291bnRlciA9IDE7XG4gICAgdGhpcy5yb2xlSWRDb3VudGVyID0gMTtcbiAgICB0aGlzLmNhcGFiaWxpdHlJZENvdW50ZXIgPSAxO1xuICAgIHRoaXMuYXNzZXNzbWVudElkQ291bnRlciA9IDE7XG4gICAgdGhpcy5yZXBvcnRJZENvdW50ZXIgPSAxO1xuICAgIHRoaXMuam9iRGVzY3JpcHRpb25JZENvdW50ZXIgPSAxO1xuICAgIHRoaXMuam9iU2NyYXBlckNvbmZpZ0lkQ291bnRlciA9IDE7XG4gICAgdGhpcy5haVRvb2xJZENvdW50ZXIgPSAxO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgd2l0aCBzYW1wbGUgZGF0YVxuICAgIHRoaXMuaW5pdGlhbGl6ZVNhbXBsZURhdGEoKTtcbiAgfVxuICBcbiAgLy8gVXNlciBtZXRob2RzXG4gIGFzeW5jIGdldFVzZXIoaWQ6IG51bWJlcik6IFByb21pc2U8VXNlciB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB0aGlzLnVzZXJzLmdldChpZCk7XG4gIH1cbiAgXG4gIGFzeW5jIGdldFVzZXJCeVVzZXJuYW1lKHVzZXJuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnVzZXJzLnZhbHVlcygpKS5maW5kKFxuICAgICAgKHVzZXIpID0+IHVzZXIudXNlcm5hbWUgPT09IHVzZXJuYW1lLFxuICAgICk7XG4gIH1cbiAgXG4gIGFzeW5jIGNyZWF0ZVVzZXIoaW5zZXJ0VXNlcjogSW5zZXJ0VXNlcik6IFByb21pc2U8VXNlcj4ge1xuICAgIGNvbnN0IGlkID0gdGhpcy51c2VySWRDb3VudGVyKys7XG4gICAgY29uc3QgdXNlciA9IHsgXG4gICAgICAuLi5pbnNlcnRVc2VyLCBcbiAgICAgIGlkLFxuICAgICAgcm9sZTogaW5zZXJ0VXNlci5yb2xlIHx8ICdjb25zdWx0YW50JyAvLyBFbnN1cmUgcm9sZSBpcyBhbHdheXMgZGVmaW5lZFxuICAgIH07XG4gICAgdGhpcy51c2Vycy5zZXQoaWQsIHVzZXIpO1xuICAgIHJldHVybiB1c2VyO1xuICB9XG4gIFxuICAvLyBPcmdhbml6YXRpb24gbWV0aG9kc1xuICBhc3luYyBnZXRPcmdhbml6YXRpb24oaWQ6IG51bWJlcik6IFByb21pc2U8T3JnYW5pemF0aW9uIHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHRoaXMub3JnYW5pemF0aW9ucy5nZXQoaWQpO1xuICB9XG4gIFxuICBhc3luYyBsaXN0T3JnYW5pemF0aW9ucygpOiBQcm9taXNlPE9yZ2FuaXphdGlvbltdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5vcmdhbml6YXRpb25zLnZhbHVlcygpKTtcbiAgfVxuICBcbiAgYXN5bmMgY3JlYXRlT3JnYW5pemF0aW9uKG9yZzogSW5zZXJ0T3JnYW5pemF0aW9uKTogUHJvbWlzZTxPcmdhbml6YXRpb24+IHtcbiAgICBjb25zdCBpZCA9IHRoaXMub3JnSWRDb3VudGVyKys7XG4gICAgY29uc3Qgb3JnYW5pemF0aW9uID0geyBcbiAgICAgIC4uLm9yZywgXG4gICAgICBpZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBvcmcuZGVzY3JpcHRpb24gfHwgbnVsbCAvLyBFbnN1cmUgZGVzY3JpcHRpb24gaXMgbmV2ZXIgdW5kZWZpbmVkXG4gICAgfTtcbiAgICB0aGlzLm9yZ2FuaXphdGlvbnMuc2V0KGlkLCBvcmdhbml6YXRpb24pO1xuICAgIHJldHVybiBvcmdhbml6YXRpb247XG4gIH1cbiAgXG4gIC8vIERlcGFydG1lbnQgbWV0aG9kc1xuICBhc3luYyBnZXREZXBhcnRtZW50KGlkOiBudW1iZXIpOiBQcm9taXNlPERlcGFydG1lbnQgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5kZXBhcnRtZW50cy5nZXQoaWQpO1xuICB9XG4gIFxuICBhc3luYyBsaXN0RGVwYXJ0bWVudHMoKTogUHJvbWlzZTxEZXBhcnRtZW50W10+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmRlcGFydG1lbnRzLnZhbHVlcygpKTtcbiAgfVxuICBcbiAgYXN5bmMgY3JlYXRlRGVwYXJ0bWVudChkZXB0OiBJbnNlcnREZXBhcnRtZW50KTogUHJvbWlzZTxEZXBhcnRtZW50PiB7XG4gICAgY29uc3QgaWQgPSB0aGlzLmRlcHRJZENvdW50ZXIrKztcbiAgICBjb25zdCBkZXBhcnRtZW50ID0geyBcbiAgICAgIC4uLmRlcHQsIFxuICAgICAgaWQsXG4gICAgICBkZXNjcmlwdGlvbjogZGVwdC5kZXNjcmlwdGlvbiB8fCBudWxsIC8vIEVuc3VyZSBkZXNjcmlwdGlvbiBpcyBuZXZlciB1bmRlZmluZWRcbiAgICB9O1xuICAgIHRoaXMuZGVwYXJ0bWVudHMuc2V0KGlkLCBkZXBhcnRtZW50KTtcbiAgICByZXR1cm4gZGVwYXJ0bWVudDtcbiAgfVxuICBcbiAgLy8gSm9iUm9sZSBtZXRob2RzXG4gIGFzeW5jIGdldEpvYlJvbGUoaWQ6IG51bWJlcik6IFByb21pc2U8Sm9iUm9sZSB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB0aGlzLmpvYlJvbGVzLmdldChpZCk7XG4gIH1cbiAgXG4gIGFzeW5jIGxpc3RKb2JSb2xlcygpOiBQcm9taXNlPEpvYlJvbGVbXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuam9iUm9sZXMudmFsdWVzKCkpO1xuICB9XG4gIFxuICBhc3luYyBsaXN0Sm9iUm9sZXNCeURlcGFydG1lbnQoZGVwYXJ0bWVudElkOiBudW1iZXIpOiBQcm9taXNlPEpvYlJvbGVbXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuam9iUm9sZXMudmFsdWVzKCkpLmZpbHRlcihcbiAgICAgIChyb2xlKSA9PiByb2xlLmRlcGFydG1lbnRJZCA9PT0gZGVwYXJ0bWVudElkXG4gICAgKTtcbiAgfVxuICBcbiAgYXN5bmMgY3JlYXRlSm9iUm9sZShyb2xlOiBJbnNlcnRKb2JSb2xlKTogUHJvbWlzZTxKb2JSb2xlPiB7XG4gICAgY29uc3QgaWQgPSB0aGlzLnJvbGVJZENvdW50ZXIrKztcbiAgICBjb25zdCBqb2JSb2xlID0geyBcbiAgICAgIC4uLnJvbGUsIFxuICAgICAgaWQsXG4gICAgICBkZXNjcmlwdGlvbjogcm9sZS5kZXNjcmlwdGlvbiB8fCBudWxsLFxuICAgICAga2V5UmVzcG9uc2liaWxpdGllczogcm9sZS5rZXlSZXNwb25zaWJpbGl0aWVzIHx8IG51bGwsXG4gICAgICBhaVBvdGVudGlhbDogcm9sZS5haVBvdGVudGlhbCB8fCBudWxsXG4gICAgfTtcbiAgICB0aGlzLmpvYlJvbGVzLnNldChpZCwgam9iUm9sZSk7XG4gICAgcmV0dXJuIGpvYlJvbGU7XG4gIH1cbiAgXG4gIC8vIEFJQ2FwYWJpbGl0eSBtZXRob2RzXG4gIGFzeW5jIGdldEFJQ2FwYWJpbGl0eShpZDogbnVtYmVyKTogUHJvbWlzZTxBSUNhcGFiaWxpdHkgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5haUNhcGFiaWxpdGllcy5nZXQoaWQpO1xuICB9XG4gIFxuICBhc3luYyBsaXN0QUlDYXBhYmlsaXRpZXMoKTogUHJvbWlzZTxBSUNhcGFiaWxpdHlbXT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYWlDYXBhYmlsaXRpZXMudmFsdWVzKCkpO1xuICB9XG4gIFxuICBhc3luYyBjcmVhdGVBSUNhcGFiaWxpdHkoY2FwYWJpbGl0eTogSW5zZXJ0QUlDYXBhYmlsaXR5KTogUHJvbWlzZTxBSUNhcGFiaWxpdHk+IHtcbiAgICBjb25zdCBpZCA9IHRoaXMuY2FwYWJpbGl0eUlkQ291bnRlcisrO1xuICAgIGNvbnN0IGFpQ2FwYWJpbGl0eSA9IHsgXG4gICAgICAuLi5jYXBhYmlsaXR5LCBcbiAgICAgIGlkLFxuICAgICAgZGVzY3JpcHRpb246IGNhcGFiaWxpdHkuZGVzY3JpcHRpb24gfHwgbnVsbCxcbiAgICAgIGltcGxlbWVudGF0aW9uRWZmb3J0OiBjYXBhYmlsaXR5LmltcGxlbWVudGF0aW9uRWZmb3J0IHx8IG51bGwsXG4gICAgICBidXNpbmVzc1ZhbHVlOiBjYXBhYmlsaXR5LmJ1c2luZXNzVmFsdWUgfHwgbnVsbCxcbiAgICAgIGVhc2VTY29yZTogY2FwYWJpbGl0eS5lYXNlU2NvcmUgfHwgbnVsbCxcbiAgICAgIHZhbHVlU2NvcmU6IGNhcGFiaWxpdHkudmFsdWVTY29yZSB8fCBudWxsXG4gICAgfTtcbiAgICB0aGlzLmFpQ2FwYWJpbGl0aWVzLnNldChpZCwgYWlDYXBhYmlsaXR5KTtcbiAgICByZXR1cm4gYWlDYXBhYmlsaXR5O1xuICB9XG4gIFxuICAvLyBBc3Nlc3NtZW50IG1ldGhvZHNcbiAgYXN5bmMgZ2V0QXNzZXNzbWVudChpZDogbnVtYmVyKTogUHJvbWlzZTxBc3Nlc3NtZW50IHwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHRoaXMuYXNzZXNzbWVudHMuZ2V0KGlkKTtcbiAgfVxuICBcbiAgYXN5bmMgbGlzdEFzc2Vzc21lbnRzKCk6IFByb21pc2U8QXNzZXNzbWVudFtdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hc3Nlc3NtZW50cy52YWx1ZXMoKSk7XG4gIH1cbiAgXG4gIGFzeW5jIGxpc3RBc3Nlc3NtZW50c0J5VXNlcih1c2VySWQ6IG51bWJlcik6IFByb21pc2U8QXNzZXNzbWVudFtdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hc3Nlc3NtZW50cy52YWx1ZXMoKSkuZmlsdGVyKFxuICAgICAgKGFzc2Vzc21lbnQpID0+IGFzc2Vzc21lbnQudXNlcklkID09PSB1c2VySWRcbiAgICApO1xuICB9XG4gIFxuICBhc3luYyBjcmVhdGVBc3Nlc3NtZW50KGFzc2Vzc21lbnQ6IEluc2VydEFzc2Vzc21lbnQpOiBQcm9taXNlPEFzc2Vzc21lbnQ+IHtcbiAgICBjb25zdCBpZCA9IHRoaXMuYXNzZXNzbWVudElkQ291bnRlcisrO1xuICAgIGNvbnN0IGNyZWF0ZWRBdCA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgbmV3QXNzZXNzbWVudCA9IHsgXG4gICAgICAuLi5hc3Nlc3NtZW50LCBcbiAgICAgIGlkLCBcbiAgICAgIGNyZWF0ZWRBdCxcbiAgICAgIHN0YXR1czogYXNzZXNzbWVudC5zdGF0dXMgfHwgJ2RyYWZ0JyxcbiAgICAgIHN0ZXBEYXRhOiBhc3Nlc3NtZW50LnN0ZXBEYXRhIHx8IG51bGxcbiAgICB9O1xuICAgIHRoaXMuYXNzZXNzbWVudHMuc2V0KGlkLCBuZXdBc3Nlc3NtZW50KTtcbiAgICByZXR1cm4gbmV3QXNzZXNzbWVudDtcbiAgfVxuICBcbiAgYXN5bmMgdXBkYXRlQXNzZXNzbWVudFN0ZXAoaWQ6IG51bWJlciwgc3RlcERhdGE6IFBhcnRpYWw8V2l6YXJkU3RlcERhdGE+KTogUHJvbWlzZTxBc3Nlc3NtZW50PiB7XG4gICAgY29uc3QgYXNzZXNzbWVudCA9IHRoaXMuYXNzZXNzbWVudHMuZ2V0KGlkKTtcbiAgICBpZiAoIWFzc2Vzc21lbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQXNzZXNzbWVudCB3aXRoIGlkICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB1cGRhdGVkQXNzZXNzbWVudCA9IHtcbiAgICAgIC4uLmFzc2Vzc21lbnQsXG4gICAgICBzdGVwRGF0YToge1xuICAgICAgICAuLi4oYXNzZXNzbWVudC5zdGVwRGF0YSB8fCB7fSksXG4gICAgICAgIC4uLnN0ZXBEYXRhXG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmFzc2Vzc21lbnRzLnNldChpZCwgdXBkYXRlZEFzc2Vzc21lbnQpO1xuICAgIHJldHVybiB1cGRhdGVkQXNzZXNzbWVudDtcbiAgfVxuICBcbiAgYXN5bmMgdXBkYXRlQXNzZXNzbWVudFN0YXR1cyhpZDogbnVtYmVyLCBzdGF0dXM6IHN0cmluZyk6IFByb21pc2U8QXNzZXNzbWVudD4ge1xuICAgIGNvbnN0IGFzc2Vzc21lbnQgPSB0aGlzLmFzc2Vzc21lbnRzLmdldChpZCk7XG4gICAgaWYgKCFhc3Nlc3NtZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzc2Vzc21lbnQgd2l0aCBpZCAke2lkfSBub3QgZm91bmRgKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdXBkYXRlZEFzc2Vzc21lbnQgPSB7XG4gICAgICAuLi5hc3Nlc3NtZW50LFxuICAgICAgc3RhdHVzXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmFzc2Vzc21lbnRzLnNldChpZCwgdXBkYXRlZEFzc2Vzc21lbnQpO1xuICAgIHJldHVybiB1cGRhdGVkQXNzZXNzbWVudDtcbiAgfVxuICBcbiAgLy8gUmVwb3J0IG1ldGhvZHNcbiAgYXN5bmMgZ2V0UmVwb3J0KGlkOiBudW1iZXIpOiBQcm9taXNlPFJlcG9ydCB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB0aGlzLnJlcG9ydHMuZ2V0KGlkKTtcbiAgfVxuICBcbiAgYXN5bmMgZ2V0UmVwb3J0QnlBc3Nlc3NtZW50KGFzc2Vzc21lbnRJZDogbnVtYmVyKTogUHJvbWlzZTxSZXBvcnQgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlcG9ydHMudmFsdWVzKCkpLmZpbmQoXG4gICAgICAocmVwb3J0KSA9PiByZXBvcnQuYXNzZXNzbWVudElkID09PSBhc3Nlc3NtZW50SWRcbiAgICApO1xuICB9XG4gIFxuICBhc3luYyBsaXN0UmVwb3J0cygpOiBQcm9taXNlPFJlcG9ydFtdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5yZXBvcnRzLnZhbHVlcygpKTtcbiAgfVxuICBcbiAgYXN5bmMgY3JlYXRlUmVwb3J0KHJlcG9ydDogSW5zZXJ0UmVwb3J0KTogUHJvbWlzZTxSZXBvcnQ+IHtcbiAgICBjb25zdCBpZCA9IHRoaXMucmVwb3J0SWRDb3VudGVyKys7XG4gICAgY29uc3QgZ2VuZXJhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IG5ld1JlcG9ydCA9IHsgXG4gICAgICAuLi5yZXBvcnQsIFxuICAgICAgaWQsIFxuICAgICAgZ2VuZXJhdGVkQXQsXG4gICAgICBleGVjdXRpdmVTdW1tYXJ5OiByZXBvcnQuZXhlY3V0aXZlU3VtbWFyeSB8fCBudWxsLFxuICAgICAgcHJpb3JpdGl6YXRpb25EYXRhOiByZXBvcnQucHJpb3JpdGl6YXRpb25EYXRhIHx8IG51bGwsXG4gICAgICBhaVN1Z2dlc3Rpb25zOiByZXBvcnQuYWlTdWdnZXN0aW9ucyB8fCBudWxsLFxuICAgICAgcGVyZm9ybWFuY2VJbXBhY3Q6IHJlcG9ydC5wZXJmb3JtYW5jZUltcGFjdCB8fCBudWxsLFxuICAgICAgY29uc3VsdGFudENvbW1lbnRhcnk6IHJlcG9ydC5jb25zdWx0YW50Q29tbWVudGFyeSB8fCBudWxsXG4gICAgfTtcbiAgICB0aGlzLnJlcG9ydHMuc2V0KGlkLCBuZXdSZXBvcnQpO1xuICAgIHJldHVybiBuZXdSZXBvcnQ7XG4gIH1cblxuICBhc3luYyB1cGRhdGVSZXBvcnRDb21tZW50YXJ5KGlkOiBudW1iZXIsIGNvbW1lbnRhcnk6IHN0cmluZyk6IFByb21pc2U8UmVwb3J0PiB7XG4gICAgY29uc3QgcmVwb3J0ID0gdGhpcy5yZXBvcnRzLmdldChpZCk7XG4gICAgaWYgKCFyZXBvcnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUmVwb3J0IHdpdGggaWQgJHtpZH0gbm90IGZvdW5kYCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHVwZGF0ZWRSZXBvcnQgPSB7XG4gICAgICAuLi5yZXBvcnQsXG4gICAgICBjb25zdWx0YW50Q29tbWVudGFyeTogY29tbWVudGFyeVxuICAgIH07XG4gICAgXG4gICAgdGhpcy5yZXBvcnRzLnNldChpZCwgdXBkYXRlZFJlcG9ydCk7XG4gICAgcmV0dXJuIHVwZGF0ZWRSZXBvcnQ7XG4gIH1cblxuICAvLyBKb2IgRGVzY3JpcHRpb24gbWV0aG9kc1xuICBhc3luYyBnZXRKb2JEZXNjcmlwdGlvbihpZDogbnVtYmVyKTogUHJvbWlzZTxKb2JEZXNjcmlwdGlvbiB8IHVuZGVmaW5lZD4ge1xuICAgIHJldHVybiB0aGlzLmpvYkRlc2NyaXB0aW9ucy5nZXQoaWQpO1xuICB9XG4gIFxuICBhc3luYyBsaXN0Sm9iRGVzY3JpcHRpb25zKGxpbWl0OiBudW1iZXIgPSAxMDAsIG9mZnNldDogbnVtYmVyID0gMCk6IFByb21pc2U8Sm9iRGVzY3JpcHRpb25bXT4ge1xuICAgIGNvbnN0IGFsbEpvYkRlc2NyaXB0aW9ucyA9IEFycmF5LmZyb20odGhpcy5qb2JEZXNjcmlwdGlvbnMudmFsdWVzKCkpO1xuICAgIHJldHVybiBhbGxKb2JEZXNjcmlwdGlvbnMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBsaW1pdCk7XG4gIH1cbiAgXG4gIGFzeW5jIGxpc3RKb2JEZXNjcmlwdGlvbnNCeVN0YXR1cyhzdGF0dXM6IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDEwMCwgb2Zmc2V0OiBudW1iZXIgPSAwKTogUHJvbWlzZTxKb2JEZXNjcmlwdGlvbltdPiB7XG4gICAgY29uc3QgZmlsdGVyZWRKb2JEZXNjcmlwdGlvbnMgPSBBcnJheS5mcm9tKHRoaXMuam9iRGVzY3JpcHRpb25zLnZhbHVlcygpKVxuICAgICAgLmZpbHRlcihqZCA9PiBqZC5zdGF0dXMgPT09IHN0YXR1cyk7XG4gICAgcmV0dXJuIGZpbHRlcmVkSm9iRGVzY3JpcHRpb25zLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICB9XG4gIFxuICBhc3luYyBjcmVhdGVKb2JEZXNjcmlwdGlvbihqb2JEZXNjcmlwdGlvbjogSW5zZXJ0Sm9iRGVzY3JpcHRpb24pOiBQcm9taXNlPEpvYkRlc2NyaXB0aW9uPiB7XG4gICAgY29uc3QgaWQgPSB0aGlzLmpvYkRlc2NyaXB0aW9uSWRDb3VudGVyKys7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBuZXdKb2JEZXNjcmlwdGlvbjogSm9iRGVzY3JpcHRpb24gPSB7XG4gICAgICAuLi5qb2JEZXNjcmlwdGlvbixcbiAgICAgIGlkLFxuICAgICAgc3RhdHVzOiBqb2JEZXNjcmlwdGlvbi5zdGF0dXMgfHwgJ3JhdycsXG4gICAgICBjb21wYW55OiBqb2JEZXNjcmlwdGlvbi5jb21wYW55IHx8IG51bGwsXG4gICAgICBsb2NhdGlvbjogam9iRGVzY3JpcHRpb24ubG9jYXRpb24gfHwgbnVsbCxcbiAgICAgIHByb2Nlc3NlZENvbnRlbnQ6IG51bGwsXG4gICAgICBrZXl3b3Jkczogam9iRGVzY3JpcHRpb24ua2V5d29yZHMgfHwgbnVsbCxcbiAgICAgIGRhdGVTY3JhcGVkOiBub3csXG4gICAgICBkYXRlUHJvY2Vzc2VkOiBudWxsLFxuICAgICAgZXJyb3I6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuam9iRGVzY3JpcHRpb25zLnNldChpZCwgbmV3Sm9iRGVzY3JpcHRpb24pO1xuICAgIHJldHVybiBuZXdKb2JEZXNjcmlwdGlvbjtcbiAgfVxuICBcbiAgYXN5bmMgdXBkYXRlSm9iRGVzY3JpcHRpb25Qcm9jZXNzZWRDb250ZW50KGlkOiBudW1iZXIsIHByb2Nlc3NlZENvbnRlbnQ6IFByb2Nlc3NlZEpvYkNvbnRlbnQpOiBQcm9taXNlPEpvYkRlc2NyaXB0aW9uPiB7XG4gICAgY29uc3Qgam9iRGVzY3JpcHRpb24gPSB0aGlzLmpvYkRlc2NyaXB0aW9ucy5nZXQoaWQpO1xuICAgIGlmICgham9iRGVzY3JpcHRpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSm9iRGVzY3JpcHRpb24gd2l0aCBpZCAke2lkfSBub3QgZm91bmRgKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdXBkYXRlZEpvYkRlc2NyaXB0aW9uID0ge1xuICAgICAgLi4uam9iRGVzY3JpcHRpb24sXG4gICAgICBwcm9jZXNzZWRDb250ZW50XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmpvYkRlc2NyaXB0aW9ucy5zZXQoaWQsIHVwZGF0ZWRKb2JEZXNjcmlwdGlvbik7XG4gICAgcmV0dXJuIHVwZGF0ZWRKb2JEZXNjcmlwdGlvbjtcbiAgfVxuICBcbiAgYXN5bmMgdXBkYXRlSm9iRGVzY3JpcHRpb25TdGF0dXMoaWQ6IG51bWJlciwgc3RhdHVzOiBzdHJpbmcsIGVycm9yPzogc3RyaW5nKTogUHJvbWlzZTxKb2JEZXNjcmlwdGlvbj4ge1xuICAgIGNvbnN0IGpvYkRlc2NyaXB0aW9uID0gdGhpcy5qb2JEZXNjcmlwdGlvbnMuZ2V0KGlkKTtcbiAgICBpZiAoIWpvYkRlc2NyaXB0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEpvYkRlc2NyaXB0aW9uIHdpdGggaWQgJHtpZH0gbm90IGZvdW5kYCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHVwZGF0ZWRKb2JEZXNjcmlwdGlvbiA9IHtcbiAgICAgIC4uLmpvYkRlc2NyaXB0aW9uLFxuICAgICAgc3RhdHVzLFxuICAgICAgZXJyb3I6IGVycm9yIHx8IG51bGxcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuam9iRGVzY3JpcHRpb25zLnNldChpZCwgdXBkYXRlZEpvYkRlc2NyaXB0aW9uKTtcbiAgICByZXR1cm4gdXBkYXRlZEpvYkRlc2NyaXB0aW9uO1xuICB9XG4gIFxuICAvLyBKb2IgU2NyYXBlciBDb25maWcgbWV0aG9kc1xuICBhc3luYyBnZXRKb2JTY3JhcGVyQ29uZmlnKGlkOiBudW1iZXIpOiBQcm9taXNlPEpvYlNjcmFwZXJDb25maWcgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5qb2JTY3JhcGVyQ29uZmlncy5nZXQoaWQpO1xuICB9XG4gIFxuICBhc3luYyBsaXN0Sm9iU2NyYXBlckNvbmZpZ3MoKTogUHJvbWlzZTxKb2JTY3JhcGVyQ29uZmlnW10+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmpvYlNjcmFwZXJDb25maWdzLnZhbHVlcygpKTtcbiAgfVxuICBcbiAgYXN5bmMgbGlzdEFjdGl2ZUpvYlNjcmFwZXJDb25maWdzKCk6IFByb21pc2U8Sm9iU2NyYXBlckNvbmZpZ1tdPiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5qb2JTY3JhcGVyQ29uZmlncy52YWx1ZXMoKSlcbiAgICAgIC5maWx0ZXIoY29uZmlnID0+IGNvbmZpZy5pc0FjdGl2ZSk7XG4gIH1cbiAgXG4gIGFzeW5jIGNyZWF0ZUpvYlNjcmFwZXJDb25maWcoY29uZmlnOiBJbnNlcnRKb2JTY3JhcGVyQ29uZmlnKTogUHJvbWlzZTxKb2JTY3JhcGVyQ29uZmlnPiB7XG4gICAgY29uc3QgaWQgPSB0aGlzLmpvYlNjcmFwZXJDb25maWdJZENvdW50ZXIrKztcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IG5ld0NvbmZpZzogSm9iU2NyYXBlckNvbmZpZyA9IHtcbiAgICAgIC4uLmNvbmZpZyxcbiAgICAgIGlkLFxuICAgICAgY3JlYXRlZEF0OiBub3csXG4gICAgICBsb2NhdGlvbjogY29uZmlnLmxvY2F0aW9uIHx8IG51bGwsXG4gICAgICBrZXl3b3JkczogY29uZmlnLmtleXdvcmRzIHx8IG51bGwsXG4gICAgICBpc0FjdGl2ZTogY29uZmlnLmlzQWN0aXZlID8/IHRydWUsXG4gICAgICBjcm9uU2NoZWR1bGU6IGNvbmZpZy5jcm9uU2NoZWR1bGUgfHwgJzAgMCAqICogKicsIC8vIERlZmF1bHQgdG8gZGFpbHkgYXQgbWlkbmlnaHRcbiAgICAgIGxhc3RSdW46IG51bGxcbiAgICB9O1xuICAgIHRoaXMuam9iU2NyYXBlckNvbmZpZ3Muc2V0KGlkLCBuZXdDb25maWcpO1xuICAgIHJldHVybiBuZXdDb25maWc7XG4gIH1cbiAgXG4gIGFzeW5jIHVwZGF0ZUpvYlNjcmFwZXJDb25maWdMYXN0UnVuKGlkOiBudW1iZXIpOiBQcm9taXNlPEpvYlNjcmFwZXJDb25maWc+IHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmpvYlNjcmFwZXJDb25maWdzLmdldChpZCk7XG4gICAgaWYgKCFjb25maWcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSm9iU2NyYXBlckNvbmZpZyB3aXRoIGlkICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB1cGRhdGVkQ29uZmlnID0ge1xuICAgICAgLi4uY29uZmlnLFxuICAgICAgbGFzdFJ1bjogbmV3IERhdGUoKVxuICAgIH07XG4gICAgXG4gICAgdGhpcy5qb2JTY3JhcGVyQ29uZmlncy5zZXQoaWQsIHVwZGF0ZWRDb25maWcpO1xuICAgIHJldHVybiB1cGRhdGVkQ29uZmlnO1xuICB9XG4gIFxuICBhc3luYyB1cGRhdGVKb2JTY3JhcGVyQ29uZmlnU3RhdHVzKGlkOiBudW1iZXIsIGlzQWN0aXZlOiBib29sZWFuKTogUHJvbWlzZTxKb2JTY3JhcGVyQ29uZmlnPiB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5qb2JTY3JhcGVyQ29uZmlncy5nZXQoaWQpO1xuICAgIGlmICghY29uZmlnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEpvYlNjcmFwZXJDb25maWcgd2l0aCBpZCAke2lkfSBub3QgZm91bmRgKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdXBkYXRlZENvbmZpZyA9IHtcbiAgICAgIC4uLmNvbmZpZyxcbiAgICAgIGlzQWN0aXZlXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmpvYlNjcmFwZXJDb25maWdzLnNldChpZCwgdXBkYXRlZENvbmZpZyk7XG4gICAgcmV0dXJuIHVwZGF0ZWRDb25maWc7XG4gIH1cblxuICAvLyBBSSBUb29sIG1ldGhvZHMgLSBVU0Ugc25ha2VfY2FzZSB0eXBlXG4gIGFzeW5jIGdldEFJVG9vbChpZDogbnVtYmVyKTogUHJvbWlzZTxBSVRvb2wgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gdGhpcy5haVRvb2xzLmdldChpZCk7XG4gIH1cblxuICBhc3luYyBsaXN0QUlUb29scyhzZWFyY2g/OiBzdHJpbmcsIGNhdGVnb3J5Pzogc3RyaW5nLCBsaWNlbnNlVHlwZT86IHN0cmluZyk6IFByb21pc2U8QUlUb29sW10+IHtcbiAgICBsZXQgdG9vbHMgPSBBcnJheS5mcm9tKHRoaXMuYWlUb29scy52YWx1ZXMoKSk7XG5cbiAgICBpZiAoc2VhcmNoKSB7XG4gICAgICBjb25zdCBzZWFyY2hMb3dlciA9IHNlYXJjaC50b0xvd2VyQ2FzZSgpO1xuICAgICAgdG9vbHMgPSB0b29scy5maWx0ZXIodG9vbCA9PiBcbiAgICAgICAgdG9vbC50b29sX25hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcikgfHxcbiAgICAgICAgdG9vbC5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKSB8fFxuICAgICAgICB0b29sLnByaW1hcnlfY2F0ZWdvcnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcikgfHxcbiAgICAgICAgdG9vbC50YWdzPy5zb21lKHRhZyA9PiB0YWcudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcikpXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChjYXRlZ29yeSkge1xuICAgICAgdG9vbHMgPSB0b29scy5maWx0ZXIodG9vbCA9PiB0b29sLnByaW1hcnlfY2F0ZWdvcnkgPT09IGNhdGVnb3J5KTtcbiAgICB9XG5cbiAgICBpZiAobGljZW5zZVR5cGUpIHtcbiAgICAgIHRvb2xzID0gdG9vbHMuZmlsdGVyKHRvb2wgPT4gdG9vbC5saWNlbnNlX3R5cGUgPT09IGxpY2Vuc2VUeXBlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9vbHM7XG4gIH1cblxuICBhc3luYyBjcmVhdGVBSVRvb2wodG9vbDogSW5zZXJ0QUlUb29sKTogUHJvbWlzZTxBSVRvb2w+IHtcbiAgICBjb25zdCBpZCA9IHRoaXMuYWlUb29sSWRDb3VudGVyKys7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBuZXdUb29sOiBBSVRvb2wgPSB7XG4gICAgICBpZCxcbiAgICAgIC4uLnRvb2wsXG4gICAgICBjcmVhdGVkX2F0OiBub3csXG4gICAgICB1cGRhdGVkX2F0OiBub3dcbiAgICB9O1xuICAgIHRoaXMuYWlUb29scy5zZXQoaWQsIG5ld1Rvb2wpO1xuICAgIHJldHVybiBuZXdUb29sO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlQUlUb29sKGlkOiBudW1iZXIsIHRvb2xVcGRhdGU6IFBhcnRpYWw8SW5zZXJ0QUlUb29sPik6IFByb21pc2U8QUlUb29sPiB7XG4gICAgY29uc3QgZXhpc3RpbmdUb29sID0gYXdhaXQgdGhpcy5nZXRBSVRvb2woaWQpO1xuICAgIGlmICghZXhpc3RpbmdUb29sKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEFJIFRvb2wgd2l0aCBpZCAke2lkfSBub3QgZm91bmRgKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkVG9vbDogQUlUb29sID0ge1xuICAgICAgLi4uZXhpc3RpbmdUb29sLFxuICAgICAgLi4udG9vbFVwZGF0ZSxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKClcbiAgICB9O1xuICAgIHRoaXMuYWlUb29scy5zZXQoaWQsIHVwZGF0ZWRUb29sKTtcbiAgICByZXR1cm4gdXBkYXRlZFRvb2w7XG4gIH1cblxuICBhc3luYyBkZWxldGVBSVRvb2woaWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuYWlUb29scy5kZWxldGUoaWQpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplU2FtcGxlRGF0YSgpIHtcbiAgICAvLyBDcmVhdGUgc2FtcGxlIHVzZXJcbiAgICBjb25zdCB1c2VyOiBVc2VyID0ge1xuICAgICAgaWQ6IHRoaXMudXNlcklkQ291bnRlcisrLFxuICAgICAgdXNlcm5hbWU6IFwiY29uc3VsdGFudFwiLFxuICAgICAgcGFzc3dvcmQ6IFwicGFzc3dvcmQxMjNcIiwgLy8gSW4gYSByZWFsIGFwcCwgdGhpcyB3b3VsZCBiZSBoYXNoZWRcbiAgICAgIGZ1bGxOYW1lOiBcIkNvbnN1bHRhbnQgVXNlclwiLFxuICAgICAgZW1haWw6IFwiY29uc3VsdGFudEBleGFtcGxlLmNvbVwiLFxuICAgICAgcm9sZTogXCJjb25zdWx0YW50XCJcbiAgICB9O1xuICAgIHRoaXMudXNlcnMuc2V0KHVzZXIuaWQsIHVzZXIpO1xuXG4gICAgLy8gQ3JlYXRlIHNhbXBsZSBkZXBhcnRtZW50c1xuICAgIGNvbnN0IGRlcGFydG1lbnRzOiBEZXBhcnRtZW50W10gPSBbXG4gICAgICB7IGlkOiB0aGlzLmRlcHRJZENvdW50ZXIrKywgbmFtZTogXCJTYWxlcyAmIE1hcmtldGluZ1wiLCBkZXNjcmlwdGlvbjogXCJIYW5kbGVzIGFsbCBzYWxlcyBhbmQgbWFya2V0aW5nIGFjdGl2aXRpZXNcIiB9LFxuICAgICAgeyBpZDogdGhpcy5kZXB0SWRDb3VudGVyKyssIG5hbWU6IFwiQ3VzdG9tZXIgU3VwcG9ydFwiLCBkZXNjcmlwdGlvbjogXCJQcm92aWRlcyBzdXBwb3J0IHRvIGN1c3RvbWVyc1wiIH0sXG4gICAgICB7IGlkOiB0aGlzLmRlcHRJZENvdW50ZXIrKywgbmFtZTogXCJGaW5hbmNlXCIsIGRlc2NyaXB0aW9uOiBcIk1hbmFnZXMgZmluYW5jaWFsIG9wZXJhdGlvbnNcIiB9LFxuICAgICAgeyBpZDogdGhpcy5kZXB0SWRDb3VudGVyKyssIG5hbWU6IFwiSHVtYW4gUmVzb3VyY2VzXCIsIGRlc2NyaXB0aW9uOiBcIkhhbmRsZXMgZW1wbG95ZWUgbWFuYWdlbWVudCBhbmQgcmVjcnVpdG1lbnRcIiB9LFxuICAgICAgeyBpZDogdGhpcy5kZXB0SWRDb3VudGVyKyssIG5hbWU6IFwiRW5naW5lZXJpbmdcIiwgZGVzY3JpcHRpb246IFwiRGV2ZWxvcHMgYW5kIG1haW50YWlucyBwcm9kdWN0c1wiIH0sXG4gICAgICB7IGlkOiB0aGlzLmRlcHRJZENvdW50ZXIrKywgbmFtZTogXCJPcGVyYXRpb25zXCIsIGRlc2NyaXB0aW9uOiBcIk92ZXJzZWVzIGRheS10by1kYXkgYnVzaW5lc3Mgb3BlcmF0aW9uc1wiIH1cbiAgICBdO1xuICAgIGRlcGFydG1lbnRzLmZvckVhY2goZGVwdCA9PiB0aGlzLmRlcGFydG1lbnRzLnNldChkZXB0LmlkLCBkZXB0KSk7XG5cbiAgICAvLyBDcmVhdGUgc2FtcGxlIGpvYiByb2xlc1xuICAgIGNvbnN0IGpvYlJvbGVzOiBKb2JSb2xlW10gPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiB0aGlzLnJvbGVJZENvdW50ZXIrKyxcbiAgICAgICAgdGl0bGU6IFwiU2FsZXMgT3BlcmF0aW9ucyBTcGVjaWFsaXN0XCIsXG4gICAgICAgIGRlcGFydG1lbnRJZDogMSwgLy8gU2FsZXMgJiBNYXJrZXRpbmdcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWFuYWdlcyBSRlAgcmVzcG9uc2VzLCBzYWxlcyBkYXRhIGFuYWx5c2lzLCBhbmQgQ1JNIG1haW50ZW5hbmNlXCIsXG4gICAgICAgIGtleVJlc3BvbnNpYmlsaXRpZXM6IFtcIk1hbmFnZSBSRlAgcmVzcG9uc2VzXCIsIFwiTWFpbnRhaW4gc2FsZXMgZGF0YVwiLCBcIlBlcmZvcm0gQ1JNIGFuYWx5c2lzXCIsIFwiQ3JlYXRlIHNhbGVzIHJlcG9ydHNcIiwgXCJTdXBwb3J0IHByb3Bvc2FsIGNyZWF0aW9uXCJdLFxuICAgICAgICBhaVBvdGVudGlhbDogXCJIaWdoXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiB0aGlzLnJvbGVJZENvdW50ZXIrKyxcbiAgICAgICAgdGl0bGU6IFwiQ29udGVudCBNYXJrZXRpbmcgTWFuYWdlclwiLFxuICAgICAgICBkZXBhcnRtZW50SWQ6IDEsIC8vIFNhbGVzICYgTWFya2V0aW5nXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNyZWF0ZXMgYW5kIGRpc3RyaWJ1dGVzIGNvbnRlbnQgZm9yIG1hcmtldGluZyBjYW1wYWlnbnNcIixcbiAgICAgICAga2V5UmVzcG9uc2liaWxpdGllczogW1wiQ3JlYXRlIG1hcmtldGluZyBjb250ZW50XCIsIFwiTWFuYWdlIGVkaXRvcmlhbCBjYWxlbmRhclwiLCBcIkNvb3JkaW5hdGUgY29udGVudCBkaXN0cmlidXRpb25cIiwgXCJBbmFseXplIGNvbnRlbnQgcGVyZm9ybWFuY2VcIiwgXCJEZXZlbG9wIGNvbnRlbnQgc3RyYXRlZ3lcIl0sXG4gICAgICAgIGFpUG90ZW50aWFsOiBcIk1lZGl1bVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogdGhpcy5yb2xlSWRDb3VudGVyKyssXG4gICAgICAgIHRpdGxlOiBcIkRpZ2l0YWwgTWFya2V0aW5nIFNwZWNpYWxpc3RcIixcbiAgICAgICAgZGVwYXJ0bWVudElkOiAxLCAvLyBTYWxlcyAmIE1hcmtldGluZ1xuICAgICAgICBkZXNjcmlwdGlvbjogXCJNYW5hZ2VzIG9ubGluZSBhZHZlcnRpc2luZyBhbmQgY2FtcGFpZ24gYW5hbHlzaXNcIixcbiAgICAgICAga2V5UmVzcG9uc2liaWxpdGllczogW1wiTWFuYWdlIG9ubGluZSBhZCBjYW1wYWlnbnNcIiwgXCJBbmFseXplIG1hcmtldGluZyBkYXRhXCIsIFwiT3B0aW1pemUgY29udmVyc2lvbiByYXRlc1wiLCBcIlJlcG9ydCBvbiBtYXJrZXRpbmcgS1BJc1wiLCBcIkNvbmR1Y3QgQS9CIHRlc3RpbmdcIl0sXG4gICAgICAgIGFpUG90ZW50aWFsOiBcIk1lZGl1bVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogdGhpcy5yb2xlSWRDb3VudGVyKyssXG4gICAgICAgIHRpdGxlOiBcIkN1c3RvbWVyIFN1cHBvcnQgQWdlbnRcIixcbiAgICAgICAgZGVwYXJ0bWVudElkOiAyLCAvLyBDdXN0b21lciBTdXBwb3J0XG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkhhbmRsZXMgdGllciAxIGN1c3RvbWVyIGlucXVpcmllcyB2aWEgY2hhdCwgZW1haWwsIGFuZCBwaG9uZVwiLFxuICAgICAgICBrZXlSZXNwb25zaWJpbGl0aWVzOiBbXCJIYW5kbGUgY3VzdG9tZXIgaW5xdWlyaWVzXCIsIFwiVHJvdWJsZXNob290IGJhc2ljIGlzc3Vlc1wiLCBcIkVzY2FsYXRlIGNvbXBsZXggcHJvYmxlbXNcIiwgXCJNYWludGFpbiBjdXN0b21lciByZWNvcmRzXCIsIFwiRm9sbG93IHVwIG9uIHJlc29sdmVkIGlzc3Vlc1wiXSxcbiAgICAgICAgYWlQb3RlbnRpYWw6IFwiSGlnaFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogdGhpcy5yb2xlSWRDb3VudGVyKyssXG4gICAgICAgIHRpdGxlOiBcIlRlY2huaWNhbCBTdXBwb3J0IFNwZWNpYWxpc3RcIixcbiAgICAgICAgZGVwYXJ0bWVudElkOiAyLCAvLyBDdXN0b21lciBTdXBwb3J0XG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlJlc29sdmVzIGNvbXBsZXggdGVjaG5pY2FsIGlzc3VlcyBhbmQgcHJvZHVjdC1zcGVjaWZpYyBwcm9ibGVtc1wiLFxuICAgICAgICBrZXlSZXNwb25zaWJpbGl0aWVzOiBbXCJEaWFnbm9zZSB0ZWNobmljYWwgcHJvYmxlbXNcIiwgXCJQcm92aWRlIGFkdmFuY2VkIHRyb3VibGVzaG9vdGluZ1wiLCBcIkRvY3VtZW50IHNvbHV0aW9uc1wiLCBcIlRyYWluIGp1bmlvciBzdXBwb3J0IHN0YWZmXCIsIFwiQ29udHJpYnV0ZSB0byBrbm93bGVkZ2UgYmFzZVwiXSxcbiAgICAgICAgYWlQb3RlbnRpYWw6IFwiTWVkaXVtXCJcbiAgICAgIH1cbiAgICBdO1xuICAgIGpvYlJvbGVzLmZvckVhY2gocm9sZSA9PiB0aGlzLmpvYlJvbGVzLnNldChyb2xlLmlkLCByb2xlKSk7XG5cbiAgICAvLyBTYW1wbGUgQUkgQ2FwYWJpbGl0aWVzXG4gICAgY29uc3Qgc2FtcGxlQ2FwYWJpbGl0aWVzID0gW1xuICAgICAge1xuICAgICAgICBuYW1lOiBcIkF1dG9tYXRlZCBEb2N1bWVudCBQcm9jZXNzaW5nXCIsXG4gICAgICAgIGNhdGVnb3J5OiBcIkRvY3VtZW50IE1hbmFnZW1lbnRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQUktcG93ZXJlZCBkb2N1bWVudCBwcm9jZXNzaW5nIGFuZCBhbmFseXNpc1wiLFxuICAgICAgICBpbXBsZW1lbnRhdGlvbkVmZm9ydDogXCJNZWRpdW1cIixcbiAgICAgICAgYnVzaW5lc3NWYWx1ZTogXCJIaWdoXCIsXG4gICAgICAgIGVhc2VTY29yZTogXCJNZWRpdW1cIixcbiAgICAgICAgdmFsdWVTY29yZTogXCJIaWdoXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiUHJlZGljdGl2ZSBBbmFseXRpY3NcIixcbiAgICAgICAgY2F0ZWdvcnk6IFwiRGF0YSBBbmFseXNpc1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBZHZhbmNlZCBwcmVkaWN0aXZlIG1vZGVsaW5nIGFuZCBmb3JlY2FzdGluZ1wiLFxuICAgICAgICBpbXBsZW1lbnRhdGlvbkVmZm9ydDogXCJIaWdoXCIsXG4gICAgICAgIGJ1c2luZXNzVmFsdWU6IFwiVmVyeSBIaWdoXCIsXG4gICAgICAgIGVhc2VTY29yZTogXCJMb3dcIixcbiAgICAgICAgdmFsdWVTY29yZTogXCJWZXJ5IEhpZ2hcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJOYXR1cmFsIExhbmd1YWdlIFByb2Nlc3NpbmdcIixcbiAgICAgICAgY2F0ZWdvcnk6IFwiVGV4dCBBbmFseXNpc1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJVbmRlcnN0YW5kaW5nIGFuZCBwcm9jZXNzaW5nIGh1bWFuIGxhbmd1YWdlXCIsXG4gICAgICAgIGltcGxlbWVudGF0aW9uRWZmb3J0OiBcIk1lZGl1bVwiLFxuICAgICAgICBidXNpbmVzc1ZhbHVlOiBcIkhpZ2hcIixcbiAgICAgICAgZWFzZVNjb3JlOiBcIk1lZGl1bVwiLFxuICAgICAgICB2YWx1ZVNjb3JlOiBcIkhpZ2hcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJJbWFnZSBSZWNvZ25pdGlvblwiLFxuICAgICAgICBjYXRlZ29yeTogXCJDb21wdXRlciBWaXNpb25cIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQUktcG93ZXJlZCBpbWFnZSBhbmFseXNpcyBhbmQgcmVjb2duaXRpb25cIixcbiAgICAgICAgaW1wbGVtZW50YXRpb25FZmZvcnQ6IFwiSGlnaFwiLFxuICAgICAgICBidXNpbmVzc1ZhbHVlOiBcIk1lZGl1bVwiLFxuICAgICAgICBlYXNlU2NvcmU6IFwiTG93XCIsXG4gICAgICAgIHZhbHVlU2NvcmU6IFwiTWVkaXVtXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiUHJvY2VzcyBBdXRvbWF0aW9uXCIsXG4gICAgICAgIGNhdGVnb3J5OiBcIldvcmtmbG93XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkF1dG9tYXRpbmcgcmVwZXRpdGl2ZSBidXNpbmVzcyBwcm9jZXNzZXNcIixcbiAgICAgICAgaW1wbGVtZW50YXRpb25FZmZvcnQ6IFwiTG93XCIsXG4gICAgICAgIGJ1c2luZXNzVmFsdWU6IFwiSGlnaFwiLFxuICAgICAgICBlYXNlU2NvcmU6IFwiSGlnaFwiLFxuICAgICAgICB2YWx1ZVNjb3JlOiBcIkhpZ2hcIlxuICAgICAgfVxuICAgIF07XG5cbiAgICBzYW1wbGVDYXBhYmlsaXRpZXMuZm9yRWFjaChjYXBhYmlsaXR5ID0+IHtcbiAgICAgIHRoaXMuY3JlYXRlQUlDYXBhYmlsaXR5KGNhcGFiaWxpdHkpO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIHNhbXBsZSBqb2Igc2NyYXBlciBjb25maWdzXG4gICAgdGhpcy5jcmVhdGVKb2JTY3JhcGVyQ29uZmlnKHtcbiAgICAgIG5hbWU6IFwiTGlua2VkSW4gVGVjaCBKb2JzXCIsXG4gICAgICB0YXJnZXRXZWJzaXRlOiBcImxpbmtlZGluXCIsXG4gICAgICBrZXl3b3JkczogW1wic29mdHdhcmUgZW5naW5lZXJcIiwgXCJ3ZWIgZGV2ZWxvcGVyXCIsIFwiZnJvbnRlbmRcIiwgXCJiYWNrZW5kXCJdLFxuICAgICAgbG9jYXRpb246IFwiU2FuIEZyYW5jaXNjb1wiLFxuICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICBjcm9uU2NoZWR1bGU6IFwiMCAwICogKiAqXCJcbiAgICB9KTtcbiAgICBcbiAgICB0aGlzLmNyZWF0ZUpvYlNjcmFwZXJDb25maWcoe1xuICAgICAgbmFtZTogXCJJbmRlZWQgRGF0YSBTY2llbmNlXCIsXG4gICAgICB0YXJnZXRXZWJzaXRlOiBcImluZGVlZFwiLFxuICAgICAga2V5d29yZHM6IFtcImRhdGEgc2NpZW50aXN0XCIsIFwibWFjaGluZSBsZWFybmluZ1wiLCBcIkFJXCIsIFwiZGF0YSBhbmFseXN0XCJdLFxuICAgICAgbG9jYXRpb246IFwiUmVtb3RlXCIsXG4gICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIGNyb25TY2hlZHVsZTogXCIwIDEyICogKiAqXCJcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBDcmVhdGUgc3RvcmFnZSBpbnN0YW5jZSBiYXNlZCBvbiBlbnZpcm9ubWVudFxubGV0IHN0b3JhZ2VJbnN0YW5jZTogSVN0b3JhZ2U7XG5cbnRyeSB7XG4gIC8vIENoZWNrIGlmIERBVEFCQVNFX1VSTCBpcyBjb25maWd1cmVkXG4gIGlmIChwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwpIHtcbiAgICBjb25zb2xlLmxvZygnVXNpbmcgUG9zdGdyZVNRTCBzdG9yYWdlIGltcGxlbWVudGF0aW9uJyk7XG4gICAgc3RvcmFnZUluc3RhbmNlID0gbmV3IFBnU3RvcmFnZSgpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCdEQVRBQkFTRV9VUkwgbm90IHNldCwgdXNpbmcgaW4tbWVtb3J5IHN0b3JhZ2UgaW1wbGVtZW50YXRpb24nKTtcbiAgICBzdG9yYWdlSW5zdGFuY2UgPSBuZXcgTWVtU3RvcmFnZSgpO1xuICB9XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgUG9zdGdyZVNRTCBzdG9yYWdlLCBmYWxsaW5nIGJhY2sgdG8gaW4tbWVtb3J5IHN0b3JhZ2U6JywgZXJyb3IpO1xuICBzdG9yYWdlSW5zdGFuY2UgPSBuZXcgTWVtU3RvcmFnZSgpO1xufVxuXG4vLyBFeHBvcnQgdGhlIHNlbGVjdGVkIHN0b3JhZ2UgaW1wbGVtZW50YXRpb25cbmV4cG9ydCBjb25zdCBzdG9yYWdlID0gc3RvcmFnZUluc3RhbmNlOyJdLCJuYW1lcyI6WyJQZ1N0b3JhZ2UiLCJNZW1TdG9yYWdlIiwiY29uc3RydWN0b3IiLCJ1c2VycyIsIk1hcCIsIm9yZ2FuaXphdGlvbnMiLCJkZXBhcnRtZW50cyIsImpvYlJvbGVzIiwiYWlDYXBhYmlsaXRpZXMiLCJhc3Nlc3NtZW50cyIsInJlcG9ydHMiLCJqb2JEZXNjcmlwdGlvbnMiLCJqb2JTY3JhcGVyQ29uZmlncyIsImFpVG9vbHMiLCJ1c2VySWRDb3VudGVyIiwib3JnSWRDb3VudGVyIiwiZGVwdElkQ291bnRlciIsInJvbGVJZENvdW50ZXIiLCJjYXBhYmlsaXR5SWRDb3VudGVyIiwiYXNzZXNzbWVudElkQ291bnRlciIsInJlcG9ydElkQ291bnRlciIsImpvYkRlc2NyaXB0aW9uSWRDb3VudGVyIiwiam9iU2NyYXBlckNvbmZpZ0lkQ291bnRlciIsImFpVG9vbElkQ291bnRlciIsImluaXRpYWxpemVTYW1wbGVEYXRhIiwiZ2V0VXNlciIsImlkIiwiZ2V0IiwiZ2V0VXNlckJ5VXNlcm5hbWUiLCJ1c2VybmFtZSIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImZpbmQiLCJ1c2VyIiwiY3JlYXRlVXNlciIsImluc2VydFVzZXIiLCJyb2xlIiwic2V0IiwiZ2V0T3JnYW5pemF0aW9uIiwibGlzdE9yZ2FuaXphdGlvbnMiLCJjcmVhdGVPcmdhbml6YXRpb24iLCJvcmciLCJvcmdhbml6YXRpb24iLCJkZXNjcmlwdGlvbiIsImdldERlcGFydG1lbnQiLCJsaXN0RGVwYXJ0bWVudHMiLCJjcmVhdGVEZXBhcnRtZW50IiwiZGVwdCIsImRlcGFydG1lbnQiLCJnZXRKb2JSb2xlIiwibGlzdEpvYlJvbGVzIiwibGlzdEpvYlJvbGVzQnlEZXBhcnRtZW50IiwiZGVwYXJ0bWVudElkIiwiZmlsdGVyIiwiY3JlYXRlSm9iUm9sZSIsImpvYlJvbGUiLCJrZXlSZXNwb25zaWJpbGl0aWVzIiwiYWlQb3RlbnRpYWwiLCJnZXRBSUNhcGFiaWxpdHkiLCJsaXN0QUlDYXBhYmlsaXRpZXMiLCJjcmVhdGVBSUNhcGFiaWxpdHkiLCJjYXBhYmlsaXR5IiwiYWlDYXBhYmlsaXR5IiwiaW1wbGVtZW50YXRpb25FZmZvcnQiLCJidXNpbmVzc1ZhbHVlIiwiZWFzZVNjb3JlIiwidmFsdWVTY29yZSIsImdldEFzc2Vzc21lbnQiLCJsaXN0QXNzZXNzbWVudHMiLCJsaXN0QXNzZXNzbWVudHNCeVVzZXIiLCJ1c2VySWQiLCJhc3Nlc3NtZW50IiwiY3JlYXRlQXNzZXNzbWVudCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJuZXdBc3Nlc3NtZW50Iiwic3RhdHVzIiwic3RlcERhdGEiLCJ1cGRhdGVBc3Nlc3NtZW50U3RlcCIsIkVycm9yIiwidXBkYXRlZEFzc2Vzc21lbnQiLCJ1cGRhdGVBc3Nlc3NtZW50U3RhdHVzIiwiZ2V0UmVwb3J0IiwiZ2V0UmVwb3J0QnlBc3Nlc3NtZW50IiwiYXNzZXNzbWVudElkIiwicmVwb3J0IiwibGlzdFJlcG9ydHMiLCJjcmVhdGVSZXBvcnQiLCJnZW5lcmF0ZWRBdCIsIm5ld1JlcG9ydCIsImV4ZWN1dGl2ZVN1bW1hcnkiLCJwcmlvcml0aXphdGlvbkRhdGEiLCJhaVN1Z2dlc3Rpb25zIiwicGVyZm9ybWFuY2VJbXBhY3QiLCJjb25zdWx0YW50Q29tbWVudGFyeSIsInVwZGF0ZVJlcG9ydENvbW1lbnRhcnkiLCJjb21tZW50YXJ5IiwidXBkYXRlZFJlcG9ydCIsImdldEpvYkRlc2NyaXB0aW9uIiwibGlzdEpvYkRlc2NyaXB0aW9ucyIsImxpbWl0Iiwib2Zmc2V0IiwiYWxsSm9iRGVzY3JpcHRpb25zIiwic2xpY2UiLCJsaXN0Sm9iRGVzY3JpcHRpb25zQnlTdGF0dXMiLCJmaWx0ZXJlZEpvYkRlc2NyaXB0aW9ucyIsImpkIiwiY3JlYXRlSm9iRGVzY3JpcHRpb24iLCJqb2JEZXNjcmlwdGlvbiIsIm5vdyIsIm5ld0pvYkRlc2NyaXB0aW9uIiwiY29tcGFueSIsImxvY2F0aW9uIiwicHJvY2Vzc2VkQ29udGVudCIsImtleXdvcmRzIiwiZGF0ZVNjcmFwZWQiLCJkYXRlUHJvY2Vzc2VkIiwiZXJyb3IiLCJ1cGRhdGVKb2JEZXNjcmlwdGlvblByb2Nlc3NlZENvbnRlbnQiLCJ1cGRhdGVkSm9iRGVzY3JpcHRpb24iLCJ1cGRhdGVKb2JEZXNjcmlwdGlvblN0YXR1cyIsImdldEpvYlNjcmFwZXJDb25maWciLCJsaXN0Sm9iU2NyYXBlckNvbmZpZ3MiLCJsaXN0QWN0aXZlSm9iU2NyYXBlckNvbmZpZ3MiLCJjb25maWciLCJpc0FjdGl2ZSIsImNyZWF0ZUpvYlNjcmFwZXJDb25maWciLCJuZXdDb25maWciLCJjcm9uU2NoZWR1bGUiLCJsYXN0UnVuIiwidXBkYXRlSm9iU2NyYXBlckNvbmZpZ0xhc3RSdW4iLCJ1cGRhdGVkQ29uZmlnIiwidXBkYXRlSm9iU2NyYXBlckNvbmZpZ1N0YXR1cyIsImdldEFJVG9vbCIsImxpc3RBSVRvb2xzIiwic2VhcmNoIiwiY2F0ZWdvcnkiLCJsaWNlbnNlVHlwZSIsInRvb2xzIiwic2VhcmNoTG93ZXIiLCJ0b0xvd2VyQ2FzZSIsInRvb2wiLCJ0b29sX25hbWUiLCJpbmNsdWRlcyIsInByaW1hcnlfY2F0ZWdvcnkiLCJ0YWdzIiwic29tZSIsInRhZyIsImxpY2Vuc2VfdHlwZSIsImNyZWF0ZUFJVG9vbCIsIm5ld1Rvb2wiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsInVwZGF0ZUFJVG9vbCIsInRvb2xVcGRhdGUiLCJleGlzdGluZ1Rvb2wiLCJ1cGRhdGVkVG9vbCIsImRlbGV0ZUFJVG9vbCIsImRlbGV0ZSIsInBhc3N3b3JkIiwiZnVsbE5hbWUiLCJlbWFpbCIsIm5hbWUiLCJmb3JFYWNoIiwidGl0bGUiLCJzYW1wbGVDYXBhYmlsaXRpZXMiLCJ0YXJnZXRXZWJzaXRlIiwic3RvcmFnZUluc3RhbmNlIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsImNvbnNvbGUiLCJsb2ciLCJzdG9yYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./server/storage.ts\n");

/***/ }),

/***/ "(rsc)/./shared/schema.ts":
/*!**************************!*\
  !*** ./shared/schema.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   aiCapabilities: () => (/* binding */ aiCapabilities),\n/* harmony export */   aiTools: () => (/* binding */ aiTools),\n/* harmony export */   assessmentResponses: () => (/* binding */ assessmentResponses),\n/* harmony export */   assessmentResults: () => (/* binding */ assessmentResults),\n/* harmony export */   assessmentScores: () => (/* binding */ assessmentScores),\n/* harmony export */   assessments: () => (/* binding */ assessments),\n/* harmony export */   capabilityToolMapping: () => (/* binding */ capabilityToolMapping),\n/* harmony export */   departments: () => (/* binding */ departments),\n/* harmony export */   effortLevels: () => (/* binding */ effortLevels),\n/* harmony export */   insertAICapabilitySchema: () => (/* binding */ insertAICapabilitySchema),\n/* harmony export */   insertAiToolSchema: () => (/* binding */ insertAiToolSchema),\n/* harmony export */   insertAssessmentSchema: () => (/* binding */ insertAssessmentSchema),\n/* harmony export */   insertDepartmentSchema: () => (/* binding */ insertDepartmentSchema),\n/* harmony export */   insertJobDescriptionSchema: () => (/* binding */ insertJobDescriptionSchema),\n/* harmony export */   insertJobRoleSchema: () => (/* binding */ insertJobRoleSchema),\n/* harmony export */   insertJobScraperConfigSchema: () => (/* binding */ insertJobScraperConfigSchema),\n/* harmony export */   insertOrganizationSchema: () => (/* binding */ insertOrganizationSchema),\n/* harmony export */   insertReportSchema: () => (/* binding */ insertReportSchema),\n/* harmony export */   insertUserSchema: () => (/* binding */ insertUserSchema),\n/* harmony export */   jobDescriptions: () => (/* binding */ jobDescriptions),\n/* harmony export */   jobRoles: () => (/* binding */ jobRoles),\n/* harmony export */   jobScraperConfigs: () => (/* binding */ jobScraperConfigs),\n/* harmony export */   organizations: () => (/* binding */ organizations),\n/* harmony export */   priorityLevels: () => (/* binding */ priorityLevels),\n/* harmony export */   reports: () => (/* binding */ reports),\n/* harmony export */   scoringCriteria: () => (/* binding */ scoringCriteria),\n/* harmony export */   users: () => (/* binding */ users),\n/* harmony export */   valueLevels: () => (/* binding */ valueLevels),\n/* harmony export */   wizardStepDataSchema: () => (/* binding */ wizardStepDataSchema)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/serial.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/jsonb.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/indexes.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/primary-keys.js\");\n/* harmony import */ var drizzle_zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-zod */ \"(rsc)/./node_modules/drizzle-zod/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n\n\n\n// User model for authentication (minimal for v1)\nconst users = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"users\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    username: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"username\").notNull().unique(),\n    password: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"password\").notNull(),\n    fullName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"full_name\").notNull(),\n    email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"email\").notNull(),\n    role: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"role\").default(\"consultant\").notNull()\n});\nconst insertUserSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(users).pick({\n    username: true,\n    password: true,\n    fullName: true,\n    email: true,\n    role: true\n});\n// Company/Organization model\nconst organizations = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"organizations\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"name\").notNull(),\n    industry: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"industry\").notNull(),\n    size: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"size\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"description\")\n});\nconst insertOrganizationSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(organizations).pick({\n    name: true,\n    industry: true,\n    size: true,\n    description: true\n});\n// Department model\nconst departments = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"departments\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"name\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"description\")\n});\nconst insertDepartmentSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(departments).pick({\n    name: true,\n    description: true\n});\n// Job Role model\nconst jobRoles = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"job_roles\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"title\").notNull(),\n    departmentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)(\"department_id\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"description\"),\n    keyResponsibilities: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"key_responsibilities\").array(),\n    aiPotential: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"ai_potential\")\n});\nconst insertJobRoleSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(jobRoles).pick({\n    title: true,\n    departmentId: true,\n    description: true,\n    keyResponsibilities: true,\n    aiPotential: true\n}).extend({\n    keyResponsibilities: zod__WEBPACK_IMPORTED_MODULE_5__.z.union([\n        zod__WEBPACK_IMPORTED_MODULE_5__.z.string().transform((str)=>str.split(\"\\n\").map((s)=>s.trim()).filter((s)=>s.length > 0)),\n        zod__WEBPACK_IMPORTED_MODULE_5__.z.array(zod__WEBPACK_IMPORTED_MODULE_5__.z.string())\n    ]).default([])\n});\n// AI Capability model - UPDATED\nconst aiCapabilities = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"ai_capabilities\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)(\"id\").primaryKey(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"name\").notNull(),\n    category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"category\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"description\"),\n    implementationEffort: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"implementation_effort\"),\n    businessValue: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"business_value\"),\n    easeScore: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"ease_score\"),\n    valueScore: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"value_score\"),\n    // Fields to migrate from ai_tools (make them nullable initially)\n    primary_category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"primary_category\"),\n    license_type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"license_type\"),\n    website_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"website_url\"),\n    tags: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"tags\").array(),\n    // Standard Timestamps\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"created_at\").defaultNow().notNull(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"updated_at\").defaultNow().notNull()\n});\nconst insertAICapabilitySchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(aiCapabilities).pick({\n    id: true,\n    name: true,\n    category: true,\n    description: true,\n    implementationEffort: true,\n    businessValue: true,\n    easeScore: true,\n    valueScore: true,\n    // Add migrated fields\n    primary_category: true,\n    license_type: true,\n    website_url: true,\n    tags: true\n}).extend({\n    businessValue: zod__WEBPACK_IMPORTED_MODULE_5__.z.enum([\n        \"Low\",\n        \"Medium\",\n        \"High\",\n        \"Very High\"\n    ]).default(\"Medium\"),\n    implementationEffort: zod__WEBPACK_IMPORTED_MODULE_5__.z.enum([\n        \"Low\",\n        \"Medium\",\n        \"High\"\n    ]).default(\"Medium\"),\n    // Ensure tags are treated as an array, potentially empty\n    tags: zod__WEBPACK_IMPORTED_MODULE_5__.z.array(zod__WEBPACK_IMPORTED_MODULE_5__.z.string()).optional().default([]),\n    // Make migrated fields optional in Zod if they can be null in the DB\n    primary_category: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n    license_type: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n    website_url: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional()\n});\n// Assessment model\nconst assessments = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"assessments\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"title\").notNull(),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)(\"organization_id\").notNull(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)(\"user_id\").notNull(),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"status\").default(\"draft\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"created_at\").defaultNow().notNull(),\n    stepData: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"step_data\")\n});\nconst insertAssessmentSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(assessments).pick({\n    title: true,\n    organizationId: true,\n    userId: true,\n    status: true,\n    stepData: true\n});\n// Report model\nconst reports = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"reports\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    assessmentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)(\"assessment_id\").notNull(),\n    generatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"generated_at\").defaultNow().notNull(),\n    executiveSummary: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"executive_summary\"),\n    prioritizationData: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"prioritization_data\"),\n    aiSuggestions: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"ai_suggestions\"),\n    performanceImpact: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"performance_impact\"),\n    consultantCommentary: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"consultant_commentary\")\n});\nconst insertReportSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(reports).pick({\n    assessmentId: true,\n    executiveSummary: true,\n    prioritizationData: true,\n    aiSuggestions: true,\n    performanceImpact: true,\n    consultantCommentary: true\n});\n// Scoring types\nconst scoringCriteria = {\n    valuePotential: {\n        timeSavings: \"time_savings\",\n        qualityImpact: \"quality_impact\",\n        strategicAlignment: \"strategic_alignment\"\n    },\n    easeOfImplementation: {\n        dataReadiness: \"data_readiness\",\n        technicalFeasibility: \"technical_feasibility\",\n        adoptionRisk: \"adoption_risk\"\n    }\n};\n// Update the Wizard Step Data schema\nconst wizardStepDataSchema = zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n    basics: zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        companyName: zod__WEBPACK_IMPORTED_MODULE_5__.z.string(),\n        industry: zod__WEBPACK_IMPORTED_MODULE_5__.z.string(),\n        size: zod__WEBPACK_IMPORTED_MODULE_5__.z.string(),\n        goals: zod__WEBPACK_IMPORTED_MODULE_5__.z.string(),\n        stakeholders: zod__WEBPACK_IMPORTED_MODULE_5__.z.array(zod__WEBPACK_IMPORTED_MODULE_5__.z.string())\n    }).optional(),\n    roles: zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        selectedDepartments: zod__WEBPACK_IMPORTED_MODULE_5__.z.array(zod__WEBPACK_IMPORTED_MODULE_5__.z.string()),\n        selectedRoles: zod__WEBPACK_IMPORTED_MODULE_5__.z.array(zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n            id: zod__WEBPACK_IMPORTED_MODULE_5__.z.number().optional(),\n            title: zod__WEBPACK_IMPORTED_MODULE_5__.z.string(),\n            department: zod__WEBPACK_IMPORTED_MODULE_5__.z.string(),\n            description: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            responsibilities: zod__WEBPACK_IMPORTED_MODULE_5__.z.array(zod__WEBPACK_IMPORTED_MODULE_5__.z.string()).optional()\n        })),\n        prioritizedRoles: zod__WEBPACK_IMPORTED_MODULE_5__.z.array(zod__WEBPACK_IMPORTED_MODULE_5__.z.number()).optional(),\n        customDepartment: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional()\n    }).optional(),\n    painPoints: zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        roleSpecificPainPoints: zod__WEBPACK_IMPORTED_MODULE_5__.z.record(zod__WEBPACK_IMPORTED_MODULE_5__.z.string(), zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n            description: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            severity: zod__WEBPACK_IMPORTED_MODULE_5__.z.number().optional(),\n            frequency: zod__WEBPACK_IMPORTED_MODULE_5__.z.number().optional(),\n            impact: zod__WEBPACK_IMPORTED_MODULE_5__.z.number().optional()\n        })),\n        generalPainPoints: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional()\n    }).optional(),\n    workVolume: zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        roleWorkVolume: zod__WEBPACK_IMPORTED_MODULE_5__.z.record(zod__WEBPACK_IMPORTED_MODULE_5__.z.string(), zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n            volume: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            timeSpent: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            complexity: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            errorRisk: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            repetitiveness: zod__WEBPACK_IMPORTED_MODULE_5__.z.number().optional(),\n            isDataDriven: zod__WEBPACK_IMPORTED_MODULE_5__.z.boolean().optional(),\n            dataDescription: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            hasPredictiveTasks: zod__WEBPACK_IMPORTED_MODULE_5__.z.boolean().optional(),\n            predictiveTasksDescription: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            needsContentGeneration: zod__WEBPACK_IMPORTED_MODULE_5__.z.boolean().optional(),\n            contentGenerationDescription: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            decisionComplexity: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional()\n        }))\n    }).optional(),\n    techStack: zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        currentSystems: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n        dataAvailability: zod__WEBPACK_IMPORTED_MODULE_5__.z.array(zod__WEBPACK_IMPORTED_MODULE_5__.z.string()).optional(),\n        existingAutomation: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n        dataQuality: zod__WEBPACK_IMPORTED_MODULE_5__.z.number().optional(),\n        dataQualityIssues: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n        approvals: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional()\n    }).optional(),\n    adoption: zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        roleAdoption: zod__WEBPACK_IMPORTED_MODULE_5__.z.record(zod__WEBPACK_IMPORTED_MODULE_5__.z.string(), zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n            openness: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            skillsReadiness: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            benefits: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            successCriteria: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            risks: zod__WEBPACK_IMPORTED_MODULE_5__.z.string().optional(),\n            suitability: zod__WEBPACK_IMPORTED_MODULE_5__.z.number().optional()\n        }))\n    }).optional(),\n    scores: zod__WEBPACK_IMPORTED_MODULE_5__.z.object({\n        assessmentScores: zod__WEBPACK_IMPORTED_MODULE_5__.z.custom()\n    }).optional()\n}).strict();\n// Priority matrix types\nconst priorityLevels = [\n    \"high\",\n    \"medium\",\n    \"low\",\n    \"not_recommended\"\n];\nconst effortLevels = [\n    \"low\",\n    \"medium\",\n    \"high\"\n];\nconst valueLevels = [\n    \"high\",\n    \"medium\",\n    \"low\"\n];\n// Job Description models\nconst jobDescriptions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"job_descriptions\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"title\").notNull(),\n    company: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"company\"),\n    location: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"location\"),\n    jobBoard: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"job_board\").notNull(),\n    sourceUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"source_url\").notNull(),\n    rawContent: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"raw_content\").notNull(),\n    processedContent: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"processed_content\"),\n    keywords: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"keywords\").array(),\n    dateScraped: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"date_scraped\").defaultNow().notNull(),\n    dateProcessed: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"date_processed\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"status\").default(\"raw\").notNull(),\n    error: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"error\")\n});\nconst insertJobDescriptionSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(jobDescriptions).pick({\n    title: true,\n    company: true,\n    location: true,\n    jobBoard: true,\n    sourceUrl: true,\n    rawContent: true,\n    keywords: true,\n    status: true\n});\nconst jobScraperConfigs = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"job_scraper_configs\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"name\").notNull(),\n    targetWebsite: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"target_website\").notNull(),\n    keywords: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"keywords\").array(),\n    location: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"location\"),\n    isActive: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)(\"is_active\").default(true).notNull(),\n    cronSchedule: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"cron_schedule\").default(\"0 0 * * *\").notNull(),\n    lastRun: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"last_run\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"created_at\").defaultNow().notNull()\n});\nconst insertJobScraperConfigSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(jobScraperConfigs).pick({\n    name: true,\n    targetWebsite: true,\n    keywords: true,\n    location: true,\n    isActive: true,\n    cronSchedule: true\n});\n// New Table: Assessment Responses\nconst assessmentResponses = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"assessment_responses\", {\n    responseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"response_id\").primaryKey(),\n    assessmentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)(\"assessment_id\").notNull().references(()=>assessments.id, {\n        onDelete: \"cascade\"\n    }),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    questionIdentifier: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"question_identifier\").notNull(),\n    responseText: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"response_text\"),\n    responseNumeric: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"response_numeric\"),\n    responseBoolean: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)(\"response_boolean\"),\n    responseJson: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"response_json\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"created_at\").defaultNow().notNull()\n});\n// New Table: AI Tools\nconst aiTools = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"ai_tools\", {\n    tool_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)(\"tool_id\").primaryKey(),\n    tool_name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"tool_name\").notNull(),\n    primary_category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"primary_category\"),\n    license_type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"license_type\"),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"description\"),\n    website_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"website_url\"),\n    tags: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"tags\").array(),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"created_at\").defaultNow().notNull(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"updated_at\").defaultNow().notNull()\n}, (table)=>({\n        toolNameIdx: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.uniqueIndex)(\"idx_ai_tools_tool_name\").on(table.tool_name)\n    }));\nconst insertAiToolSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(aiTools).omit({\n    // tool_id must be provided if not serial\n    created_at: true,\n    updated_at: true\n}).extend({\n    tags: zod__WEBPACK_IMPORTED_MODULE_5__.z.array(zod__WEBPACK_IMPORTED_MODULE_5__.z.string()).optional().default([])\n});\n// New Table: Capability Tool Mapping (Many-to-Many)\nconst capabilityToolMapping = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"capability_tool_mapping\", {\n    capability_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)(\"capability_id\").notNull().references(()=>aiCapabilities.id, {\n        onDelete: \"cascade\"\n    }),\n    tool_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)(\"tool_id\").notNull().references(()=>aiTools.tool_id, {\n        onDelete: \"cascade\"\n    })\n}, (table)=>({\n        // pk: pg.primaryKey({ columns: [table.capability_id, table.tool_id] }), // Use primaryKey import\n        pk: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_11__.primaryKey)({\n            columns: [\n                table.capability_id,\n                table.tool_id\n            ]\n        })\n    }));\n// New Table: Assessment Results\nconst assessmentResults = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"assessment_results\", {\n    resultId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"result_id\").primaryKey(),\n    assessmentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.integer)(\"assessment_id\").notNull().references(()=>assessments.id, {\n        onDelete: \"cascade\"\n    }),\n    identifiedThemes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"identified_themes\"),\n    rankedPriorities: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"ranked_priorities\"),\n    recommendedCapabilities: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"recommended_capabilities\"),\n    capabilityRationale: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"capability_rationale\"),\n    existingToolAnalysis: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"existing_tool_analysis\"),\n    recommendedTools: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"recommended_tools\"),\n    rolloutCommentary: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"rollout_commentary\"),\n    heatmapData: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.jsonb)(\"heatmap_data\"),\n    processingStatus: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"processing_status\").default(\"Pending\").notNull(),\n    errorMessage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"error_message\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"created_at\").defaultNow().notNull(),\n    completedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"completed_at\")\n}, (table)=>{\n    return {\n        // Ensure only one result per assessment\n        assessmentIdUnique: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.uniqueIndex)(\"assessment_id_unique_idx\").on(table.assessmentId)\n    };\n});\n// Add new table for assessment scores\nconst assessmentScores = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"assessment_scores\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.serial)(\"id\").primaryKey(),\n    wizardStepId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.text)(\"wizard_step_id\").notNull().unique(),\n    timeSavings: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"time_savings\").notNull(),\n    qualityImpact: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"quality_impact\").notNull(),\n    strategicAlignment: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"strategic_alignment\").notNull(),\n    dataReadiness: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"data_readiness\").notNull(),\n    technicalFeasibility: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"technical_feasibility\").notNull(),\n    adoptionRisk: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"adoption_risk\").notNull(),\n    valuePotentialTotal: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"value_potential_total\").notNull(),\n    easeOfImplementationTotal: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"ease_of_implementation_total\").notNull(),\n    totalScore: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.numeric)(\"total_score\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"created_at\").defaultNow().notNull(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.timestamp)(\"updated_at\").defaultNow().notNull()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxlQUFlN0UsNERBQU9BLENBQUMsa0JBQWtCUSxPQUFPO0lBQ2hEc0Usb0JBQW9COUUsNERBQU9BLENBQUMsdUJBQXVCUSxPQUFPO0lBQzFEd0UsZUFBZWhGLDREQUFPQSxDQUFDLGtCQUFrQlEsT0FBTztJQUNoRHlFLHNCQUFzQmpGLDREQUFPQSxDQUFDLHlCQUF5QlEsT0FBTztJQUM5RDBFLGNBQWNsRiw0REFBT0EsQ0FBQyxpQkFBaUJRLE9BQU87SUFDOUM0TCxxQkFBcUJwTSw0REFBT0EsQ0FBQyx5QkFBeUJRLE9BQU87SUFDN0Q2TCwyQkFBMkJyTSw0REFBT0EsQ0FBQyxnQ0FBZ0NRLE9BQU87SUFDMUU4TCxZQUFZdE0sNERBQU9BLENBQUMsZUFBZVEsT0FBTztJQUMxQzZDLFdBQVd2RCw4REFBU0EsQ0FBQyxjQUFjd0QsVUFBVSxHQUFHOUMsT0FBTztJQUN2RCtDLFdBQVd6RCw4REFBU0EsQ0FBQyxjQUFjd0QsVUFBVSxHQUFHOUMsT0FBTztBQUN6RCxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdC1leHByZXNzLy4vc2hhcmVkL3NjaGVtYS50cz8xYjQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBnVGFibGUsIHRleHQsIHNlcmlhbCwgaW50ZWdlciwganNvbmIsIHRpbWVzdGFtcCwgYm9vbGVhbiwgbnVtZXJpYywgdW5pcXVlSW5kZXgsIHByaW1hcnlLZXkgfSBmcm9tIFwiZHJpenpsZS1vcm0vcGctY29yZVwiO1xuaW1wb3J0IHsgY3JlYXRlSW5zZXJ0U2NoZW1hIH0gZnJvbSBcImRyaXp6bGUtem9kXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG4vLyBVc2VyIG1vZGVsIGZvciBhdXRoZW50aWNhdGlvbiAobWluaW1hbCBmb3IgdjEpXG5leHBvcnQgY29uc3QgdXNlcnMgPSBwZ1RhYmxlKFwidXNlcnNcIiwge1xuICBpZDogc2VyaWFsKFwiaWRcIikucHJpbWFyeUtleSgpLFxuICB1c2VybmFtZTogdGV4dChcInVzZXJuYW1lXCIpLm5vdE51bGwoKS51bmlxdWUoKSxcbiAgcGFzc3dvcmQ6IHRleHQoXCJwYXNzd29yZFwiKS5ub3ROdWxsKCksXG4gIGZ1bGxOYW1lOiB0ZXh0KFwiZnVsbF9uYW1lXCIpLm5vdE51bGwoKSxcbiAgZW1haWw6IHRleHQoXCJlbWFpbFwiKS5ub3ROdWxsKCksXG4gIHJvbGU6IHRleHQoXCJyb2xlXCIpLmRlZmF1bHQoXCJjb25zdWx0YW50XCIpLm5vdE51bGwoKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0VXNlclNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYSh1c2VycykucGljayh7XG4gIHVzZXJuYW1lOiB0cnVlLFxuICBwYXNzd29yZDogdHJ1ZSxcbiAgZnVsbE5hbWU6IHRydWUsXG4gIGVtYWlsOiB0cnVlLFxuICByb2xlOiB0cnVlLFxufSk7XG5cbi8vIENvbXBhbnkvT3JnYW5pemF0aW9uIG1vZGVsXG5leHBvcnQgY29uc3Qgb3JnYW5pemF0aW9ucyA9IHBnVGFibGUoXCJvcmdhbml6YXRpb25zXCIsIHtcbiAgaWQ6IHNlcmlhbChcImlkXCIpLnByaW1hcnlLZXkoKSxcbiAgbmFtZTogdGV4dChcIm5hbWVcIikubm90TnVsbCgpLFxuICBpbmR1c3RyeTogdGV4dChcImluZHVzdHJ5XCIpLm5vdE51bGwoKSxcbiAgc2l6ZTogdGV4dChcInNpemVcIikubm90TnVsbCgpLCAvLyBTbWFsbCwgTWVkaXVtLCBMYXJnZSwgRW50ZXJwcmlzZVxuICBkZXNjcmlwdGlvbjogdGV4dChcImRlc2NyaXB0aW9uXCIpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRPcmdhbml6YXRpb25TY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEob3JnYW5pemF0aW9ucykucGljayh7XG4gIG5hbWU6IHRydWUsXG4gIGluZHVzdHJ5OiB0cnVlLCBcbiAgc2l6ZTogdHJ1ZSxcbiAgZGVzY3JpcHRpb246IHRydWUsXG59KTtcblxuLy8gRGVwYXJ0bWVudCBtb2RlbFxuZXhwb3J0IGNvbnN0IGRlcGFydG1lbnRzID0gcGdUYWJsZShcImRlcGFydG1lbnRzXCIsIHtcbiAgaWQ6IHNlcmlhbChcImlkXCIpLnByaW1hcnlLZXkoKSxcbiAgbmFtZTogdGV4dChcIm5hbWVcIikubm90TnVsbCgpLFxuICBkZXNjcmlwdGlvbjogdGV4dChcImRlc2NyaXB0aW9uXCIpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnREZXBhcnRtZW50U2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGRlcGFydG1lbnRzKS5waWNrKHtcbiAgbmFtZTogdHJ1ZSxcbiAgZGVzY3JpcHRpb246IHRydWUsXG59KTtcblxuLy8gSm9iIFJvbGUgbW9kZWxcbmV4cG9ydCBjb25zdCBqb2JSb2xlcyA9IHBnVGFibGUoXCJqb2Jfcm9sZXNcIiwge1xuICBpZDogc2VyaWFsKFwiaWRcIikucHJpbWFyeUtleSgpLFxuICB0aXRsZTogdGV4dChcInRpdGxlXCIpLm5vdE51bGwoKSxcbiAgZGVwYXJ0bWVudElkOiBpbnRlZ2VyKFwiZGVwYXJ0bWVudF9pZFwiKS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KFwiZGVzY3JpcHRpb25cIiksXG4gIGtleVJlc3BvbnNpYmlsaXRpZXM6IHRleHQoXCJrZXlfcmVzcG9uc2liaWxpdGllc1wiKS5hcnJheSgpLFxuICBhaVBvdGVudGlhbDogdGV4dChcImFpX3BvdGVudGlhbFwiKSwgLy8gSGlnaCwgTWVkaXVtLCBMb3dcbn0pO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0Sm9iUm9sZVNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShqb2JSb2xlcykucGljayh7XG4gIHRpdGxlOiB0cnVlLFxuICBkZXBhcnRtZW50SWQ6IHRydWUsXG4gIGRlc2NyaXB0aW9uOiB0cnVlLFxuICBrZXlSZXNwb25zaWJpbGl0aWVzOiB0cnVlLFxuICBhaVBvdGVudGlhbDogdHJ1ZSxcbn0pLmV4dGVuZCh7XG4gIGtleVJlc3BvbnNpYmlsaXRpZXM6IHoudW5pb24oW1xuICAgIHouc3RyaW5nKCkudHJhbnNmb3JtKHN0ciA9PiBcbiAgICAgIHN0ci5zcGxpdCgnXFxuJylcbiAgICAgICAgLm1hcChzID0+IHMudHJpbSgpKVxuICAgICAgICAuZmlsdGVyKHMgPT4gcy5sZW5ndGggPiAwKVxuICAgICksXG4gICAgei5hcnJheSh6LnN0cmluZygpKVxuICBdKS5kZWZhdWx0KFtdKVxufSk7XG5cbi8vIEFJIENhcGFiaWxpdHkgbW9kZWwgLSBVUERBVEVEXG5leHBvcnQgY29uc3QgYWlDYXBhYmlsaXRpZXMgPSBwZ1RhYmxlKFwiYWlfY2FwYWJpbGl0aWVzXCIsIHtcbiAgaWQ6IGludGVnZXIoXCJpZFwiKS5wcmltYXJ5S2V5KCksIC8vIFVzZSBpbnRlZ2VyIHRvIHByZXNlcnZlIG1pZ3JhdGVkIElEc1xuICBuYW1lOiB0ZXh0KFwibmFtZVwiKS5ub3ROdWxsKCksXG4gIGNhdGVnb3J5OiB0ZXh0KFwiY2F0ZWdvcnlcIikubm90TnVsbCgpLCAvLyBLZWVwIHRoaXMgZm9yIHRoZSBjYXBhYmlsaXR5J3MgY2F0ZWdvcnlcbiAgZGVzY3JpcHRpb246IHRleHQoXCJkZXNjcmlwdGlvblwiKSxcbiAgaW1wbGVtZW50YXRpb25FZmZvcnQ6IHRleHQoXCJpbXBsZW1lbnRhdGlvbl9lZmZvcnRcIiksIC8vIEhpZ2gsIE1lZGl1bSwgTG93IChRdWFsaXRhdGl2ZSlcbiAgYnVzaW5lc3NWYWx1ZTogdGV4dChcImJ1c2luZXNzX3ZhbHVlXCIpLCAvLyBIaWdoLCBNZWRpdW0sIExvdyAoUXVhbGl0YXRpdmUpXG4gIGVhc2VTY29yZTogbnVtZXJpYyhcImVhc2Vfc2NvcmVcIiksIC8vIFF1YW50aXRhdGl2ZSBzY29yZSBmb3IgZWFzZSAoZS5nLiwgMS01KVxuICB2YWx1ZVNjb3JlOiBudW1lcmljKFwidmFsdWVfc2NvcmVcIiksIC8vIFF1YW50aXRhdGl2ZSBzY29yZSBmb3IgdmFsdWUgKGUuZy4sIDEtNSlcblxuICAvLyBGaWVsZHMgdG8gbWlncmF0ZSBmcm9tIGFpX3Rvb2xzIChtYWtlIHRoZW0gbnVsbGFibGUgaW5pdGlhbGx5KVxuICBwcmltYXJ5X2NhdGVnb3J5OiB0ZXh0KFwicHJpbWFyeV9jYXRlZ29yeVwiKSwgLy8gS2VlcCBvcmlnaW5hbCB0b29sIGNhdGVnb3J5IGlmIG5lZWRlZD8gT3IgcmVuYW1lPyBEZWNpZGUuXG4gIGxpY2Vuc2VfdHlwZTogdGV4dChcImxpY2Vuc2VfdHlwZVwiKSxcbiAgd2Vic2l0ZV91cmw6IHRleHQoXCJ3ZWJzaXRlX3VybFwiKSxcbiAgdGFnczogdGV4dChcInRhZ3NcIikuYXJyYXkoKSwgLy8gQXNzdW1pbmcgUG9zdGdyZVNRTCBhcnJheSB0eXBlXG5cbiAgLy8gU3RhbmRhcmQgVGltZXN0YW1wc1xuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXG59KTtcblxuZXhwb3J0IGNvbnN0IGluc2VydEFJQ2FwYWJpbGl0eVNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShhaUNhcGFiaWxpdGllcykucGljayh7XG4gIGlkOiB0cnVlLCAvLyBJbmNsdWRlIElEIGZvciBwb3RlbnRpYWwgaW5zZXJ0cyBpZiBuZWVkZWQgbGF0ZXJcbiAgbmFtZTogdHJ1ZSxcbiAgY2F0ZWdvcnk6IHRydWUsXG4gIGRlc2NyaXB0aW9uOiB0cnVlLFxuICBpbXBsZW1lbnRhdGlvbkVmZm9ydDogdHJ1ZSxcbiAgYnVzaW5lc3NWYWx1ZTogdHJ1ZSxcbiAgZWFzZVNjb3JlOiB0cnVlLFxuICB2YWx1ZVNjb3JlOiB0cnVlLFxuICAvLyBBZGQgbWlncmF0ZWQgZmllbGRzXG4gIHByaW1hcnlfY2F0ZWdvcnk6IHRydWUsXG4gIGxpY2Vuc2VfdHlwZTogdHJ1ZSxcbiAgd2Vic2l0ZV91cmw6IHRydWUsXG4gIHRhZ3M6IHRydWUsXG59KS5leHRlbmQoe1xuICBidXNpbmVzc1ZhbHVlOiB6LmVudW0oW1wiTG93XCIsIFwiTWVkaXVtXCIsIFwiSGlnaFwiLCBcIlZlcnkgSGlnaFwiXSkuZGVmYXVsdChcIk1lZGl1bVwiKSxcbiAgaW1wbGVtZW50YXRpb25FZmZvcnQ6IHouZW51bShbXCJMb3dcIiwgXCJNZWRpdW1cIiwgXCJIaWdoXCJdKS5kZWZhdWx0KFwiTWVkaXVtXCIpLFxuICAvLyBFbnN1cmUgdGFncyBhcmUgdHJlYXRlZCBhcyBhbiBhcnJheSwgcG90ZW50aWFsbHkgZW1wdHlcbiAgdGFnczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLmRlZmF1bHQoW10pLFxuICAvLyBNYWtlIG1pZ3JhdGVkIGZpZWxkcyBvcHRpb25hbCBpbiBab2QgaWYgdGhleSBjYW4gYmUgbnVsbCBpbiB0aGUgREJcbiAgcHJpbWFyeV9jYXRlZ29yeTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBsaWNlbnNlX3R5cGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgd2Vic2l0ZV91cmw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuXG4vLyBBc3Nlc3NtZW50IG1vZGVsXG5leHBvcnQgY29uc3QgYXNzZXNzbWVudHMgPSBwZ1RhYmxlKFwiYXNzZXNzbWVudHNcIiwge1xuICBpZDogc2VyaWFsKFwiaWRcIikucHJpbWFyeUtleSgpLFxuICB0aXRsZTogdGV4dChcInRpdGxlXCIpLm5vdE51bGwoKSxcbiAgb3JnYW5pemF0aW9uSWQ6IGludGVnZXIoXCJvcmdhbml6YXRpb25faWRcIikubm90TnVsbCgpLFxuICB1c2VySWQ6IGludGVnZXIoXCJ1c2VyX2lkXCIpLm5vdE51bGwoKSxcbiAgc3RhdHVzOiB0ZXh0KFwic3RhdHVzXCIpLmRlZmF1bHQoXCJkcmFmdFwiKS5ub3ROdWxsKCksIC8vIGRyYWZ0LCBjb21wbGV0ZWRcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXG4gIHN0ZXBEYXRhOiBqc29uYihcInN0ZXBfZGF0YVwiKSwgLy8gU3RvcmUgYWxsIHdpemFyZCBzdGVwIGRhdGEgYXMgYSBKU09OIG9iamVjdFxufSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRBc3Nlc3NtZW50U2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGFzc2Vzc21lbnRzKS5waWNrKHtcbiAgdGl0bGU6IHRydWUsXG4gIG9yZ2FuaXphdGlvbklkOiB0cnVlLFxuICB1c2VySWQ6IHRydWUsXG4gIHN0YXR1czogdHJ1ZSxcbiAgc3RlcERhdGE6IHRydWUsXG59KTtcblxuLy8gUmVwb3J0IG1vZGVsXG5leHBvcnQgY29uc3QgcmVwb3J0cyA9IHBnVGFibGUoXCJyZXBvcnRzXCIsIHtcbiAgaWQ6IHNlcmlhbChcImlkXCIpLnByaW1hcnlLZXkoKSxcbiAgYXNzZXNzbWVudElkOiBpbnRlZ2VyKFwiYXNzZXNzbWVudF9pZFwiKS5ub3ROdWxsKCksXG4gIGdlbmVyYXRlZEF0OiB0aW1lc3RhbXAoXCJnZW5lcmF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcbiAgZXhlY3V0aXZlU3VtbWFyeTogdGV4dChcImV4ZWN1dGl2ZV9zdW1tYXJ5XCIpLFxuICBwcmlvcml0aXphdGlvbkRhdGE6IGpzb25iKFwicHJpb3JpdGl6YXRpb25fZGF0YVwiKSwgLy8gSGVhdG1hcCBhbmQgcHJpb3JpdGl6YXRpb24gbGlzdCBkYXRhXG4gIGFpU3VnZ2VzdGlvbnM6IGpzb25iKFwiYWlfc3VnZ2VzdGlvbnNcIiksIC8vIEFJIGNhcGFiaWxpdHkgc3VnZ2VzdGlvbnNcbiAgcGVyZm9ybWFuY2VJbXBhY3Q6IGpzb25iKFwicGVyZm9ybWFuY2VfaW1wYWN0XCIpLCAvLyBLUEkgZXN0aW1hdGVzXG4gIGNvbnN1bHRhbnRDb21tZW50YXJ5OiB0ZXh0KFwiY29uc3VsdGFudF9jb21tZW50YXJ5XCIpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRSZXBvcnRTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEocmVwb3J0cykucGljayh7XG4gIGFzc2Vzc21lbnRJZDogdHJ1ZSxcbiAgZXhlY3V0aXZlU3VtbWFyeTogdHJ1ZSxcbiAgcHJpb3JpdGl6YXRpb25EYXRhOiB0cnVlLFxuICBhaVN1Z2dlc3Rpb25zOiB0cnVlLFxuICBwZXJmb3JtYW5jZUltcGFjdDogdHJ1ZSxcbiAgY29uc3VsdGFudENvbW1lbnRhcnk6IHRydWUsXG59KTtcblxuLy8gU2NvcmluZyB0eXBlc1xuZXhwb3J0IGNvbnN0IHNjb3JpbmdDcml0ZXJpYSA9IHtcbiAgdmFsdWVQb3RlbnRpYWw6IHtcbiAgICB0aW1lU2F2aW5nczogXCJ0aW1lX3NhdmluZ3NcIixcbiAgICBxdWFsaXR5SW1wYWN0OiBcInF1YWxpdHlfaW1wYWN0XCIsXG4gICAgc3RyYXRlZ2ljQWxpZ25tZW50OiBcInN0cmF0ZWdpY19hbGlnbm1lbnRcIlxuICB9LFxuICBlYXNlT2ZJbXBsZW1lbnRhdGlvbjoge1xuICAgIGRhdGFSZWFkaW5lc3M6IFwiZGF0YV9yZWFkaW5lc3NcIixcbiAgICB0ZWNobmljYWxGZWFzaWJpbGl0eTogXCJ0ZWNobmljYWxfZmVhc2liaWxpdHlcIixcbiAgICBhZG9wdGlvblJpc2s6IFwiYWRvcHRpb25fcmlza1wiXG4gIH1cbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIFNjb3JpbmdDcml0ZXJpb24gPSB0eXBlb2Ygc2NvcmluZ0NyaXRlcmlhLnZhbHVlUG90ZW50aWFsW2tleW9mIHR5cGVvZiBzY29yaW5nQ3JpdGVyaWEudmFsdWVQb3RlbnRpYWxdIHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygc2NvcmluZ0NyaXRlcmlhLmVhc2VPZkltcGxlbWVudGF0aW9uW2tleW9mIHR5cGVvZiBzY29yaW5nQ3JpdGVyaWEuZWFzZU9mSW1wbGVtZW50YXRpb25dO1xuXG5leHBvcnQgdHlwZSBTY29yZVZhbHVlID0gMSB8IDIgfCAzIHwgNCB8IDU7XG5cbmV4cG9ydCB0eXBlIFJvbGVTY29yZSA9IHtcbiAgdmFsdWVQb3RlbnRpYWw6IHtcbiAgICB0aW1lU2F2aW5nczogU2NvcmVWYWx1ZTtcbiAgICBxdWFsaXR5SW1wYWN0OiBTY29yZVZhbHVlO1xuICAgIHN0cmF0ZWdpY0FsaWdubWVudDogU2NvcmVWYWx1ZTtcbiAgICB0b3RhbDogbnVtYmVyO1xuICB9O1xuICBlYXNlT2ZJbXBsZW1lbnRhdGlvbjoge1xuICAgIGRhdGFSZWFkaW5lc3M6IFNjb3JlVmFsdWU7XG4gICAgdGVjaG5pY2FsRmVhc2liaWxpdHk6IFNjb3JlVmFsdWU7XG4gICAgYWRvcHRpb25SaXNrOiBTY29yZVZhbHVlO1xuICAgIHRvdGFsOiBudW1iZXI7XG4gIH07XG4gIHRvdGFsU2NvcmU6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIEFzc2Vzc21lbnRTY29yZXMgPSB7XG4gIHJvbGVTY29yZXM6IFJlY29yZDxudW1iZXIsIFJvbGVTY29yZT47XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xufTtcblxuLy8gVXBkYXRlIHRoZSBXaXphcmQgU3RlcCBEYXRhIHNjaGVtYVxuZXhwb3J0IGNvbnN0IHdpemFyZFN0ZXBEYXRhU2NoZW1hID0gei5vYmplY3Qoe1xuICBiYXNpY3M6IHoub2JqZWN0KHtcbiAgICBjb21wYW55TmFtZTogei5zdHJpbmcoKSxcbiAgICBpbmR1c3RyeTogei5zdHJpbmcoKSxcbiAgICBzaXplOiB6LnN0cmluZygpLFxuICAgIGdvYWxzOiB6LnN0cmluZygpLFxuICAgIHN0YWtlaG9sZGVyczogei5hcnJheSh6LnN0cmluZygpKSxcbiAgfSkub3B0aW9uYWwoKSxcbiAgXG4gIHJvbGVzOiB6Lm9iamVjdCh7XG4gICAgc2VsZWN0ZWREZXBhcnRtZW50czogei5hcnJheSh6LnN0cmluZygpKSxcbiAgICBzZWxlY3RlZFJvbGVzOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICAgIGlkOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICB0aXRsZTogei5zdHJpbmcoKSxcbiAgICAgIGRlcGFydG1lbnQ6IHouc3RyaW5nKCksXG4gICAgICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgcmVzcG9uc2liaWxpdGllczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIH0pKSxcbiAgICBwcmlvcml0aXplZFJvbGVzOiB6LmFycmF5KHoubnVtYmVyKCkpLm9wdGlvbmFsKCksXG4gICAgY3VzdG9tRGVwYXJ0bWVudDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB9KS5vcHRpb25hbCgpLFxuICBcbiAgcGFpblBvaW50czogei5vYmplY3Qoe1xuICAgIHJvbGVTcGVjaWZpY1BhaW5Qb2ludHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHoub2JqZWN0KHtcbiAgICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICBzZXZlcml0eTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgZnJlcXVlbmN5OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICBpbXBhY3Q6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICB9KSksXG4gICAgZ2VuZXJhbFBhaW5Qb2ludHM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgfSkub3B0aW9uYWwoKSxcbiAgXG4gIHdvcmtWb2x1bWU6IHoub2JqZWN0KHtcbiAgICByb2xlV29ya1ZvbHVtZTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5vYmplY3Qoe1xuICAgICAgdm9sdW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICB0aW1lU3BlbnQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgIGNvbXBsZXhpdHk6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgIGVycm9yUmlzazogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgcmVwZXRpdGl2ZW5lc3M6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICAgIGlzRGF0YURyaXZlbjogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgIGRhdGFEZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgaGFzUHJlZGljdGl2ZVRhc2tzOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgcHJlZGljdGl2ZVRhc2tzRGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgIG5lZWRzQ29udGVudEdlbmVyYXRpb246IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICBjb250ZW50R2VuZXJhdGlvbkRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICBkZWNpc2lvbkNvbXBsZXhpdHk6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICB9KSksXG4gIH0pLm9wdGlvbmFsKCksXG4gIFxuICB0ZWNoU3RhY2s6IHoub2JqZWN0KHtcbiAgICBjdXJyZW50U3lzdGVtczogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGRhdGFBdmFpbGFiaWxpdHk6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBleGlzdGluZ0F1dG9tYXRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBkYXRhUXVhbGl0eTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIGRhdGFRdWFsaXR5SXNzdWVzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgYXBwcm92YWxzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIH0pLm9wdGlvbmFsKCksXG4gIFxuICBhZG9wdGlvbjogei5vYmplY3Qoe1xuICAgIHJvbGVBZG9wdGlvbjogei5yZWNvcmQoei5zdHJpbmcoKSwgei5vYmplY3Qoe1xuICAgICAgb3Blbm5lc3M6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgIHNraWxsc1JlYWRpbmVzczogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgYmVuZWZpdHM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgIHN1Y2Nlc3NDcml0ZXJpYTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgcmlza3M6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgIHN1aXRhYmlsaXR5OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgfSkpLFxuICB9KS5vcHRpb25hbCgpLFxuXG4gIHNjb3Jlczogei5vYmplY3Qoe1xuICAgIGFzc2Vzc21lbnRTY29yZXM6IHouY3VzdG9tPEFzc2Vzc21lbnRTY29yZXM+KCksXG4gIH0pLm9wdGlvbmFsKCksXG59KS5zdHJpY3QoKTtcblxuLy8gUHJpb3JpdHkgbWF0cml4IHR5cGVzXG5leHBvcnQgY29uc3QgcHJpb3JpdHlMZXZlbHMgPSBbXCJoaWdoXCIsIFwibWVkaXVtXCIsIFwibG93XCIsIFwibm90X3JlY29tbWVuZGVkXCJdIGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgUHJpb3JpdHlMZXZlbCA9IHR5cGVvZiBwcmlvcml0eUxldmVsc1tudW1iZXJdO1xuXG5leHBvcnQgY29uc3QgZWZmb3J0TGV2ZWxzID0gW1wibG93XCIsIFwibWVkaXVtXCIsIFwiaGlnaFwiXSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIEVmZm9ydExldmVsID0gdHlwZW9mIGVmZm9ydExldmVsc1tudW1iZXJdO1xuXG5leHBvcnQgY29uc3QgdmFsdWVMZXZlbHMgPSBbXCJoaWdoXCIsIFwibWVkaXVtXCIsIFwibG93XCJdIGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgVmFsdWVMZXZlbCA9IHR5cGVvZiB2YWx1ZUxldmVsc1tudW1iZXJdO1xuXG4vLyBUeXBlc1xuZXhwb3J0IHR5cGUgVXNlciA9IHR5cGVvZiB1c2Vycy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRVc2VyID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0VXNlclNjaGVtYT47XG5cbmV4cG9ydCB0eXBlIE9yZ2FuaXphdGlvbiA9IHR5cGVvZiBvcmdhbml6YXRpb25zLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydE9yZ2FuaXphdGlvbiA9IHouaW5mZXI8dHlwZW9mIGluc2VydE9yZ2FuaXphdGlvblNjaGVtYT47XG5cbmV4cG9ydCB0eXBlIERlcGFydG1lbnQgPSB0eXBlb2YgZGVwYXJ0bWVudHMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0RGVwYXJ0bWVudCA9IHouaW5mZXI8dHlwZW9mIGluc2VydERlcGFydG1lbnRTY2hlbWE+O1xuXG5leHBvcnQgdHlwZSBKb2JSb2xlID0gdHlwZW9mIGpvYlJvbGVzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydEpvYlJvbGUgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRKb2JSb2xlU2NoZW1hPjtcblxuZXhwb3J0IHR5cGUgQUlDYXBhYmlsaXR5ID0gdHlwZW9mIGFpQ2FwYWJpbGl0aWVzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydEFJQ2FwYWJpbGl0eSA9IHouaW5mZXI8dHlwZW9mIGluc2VydEFJQ2FwYWJpbGl0eVNjaGVtYT47XG5cbmV4cG9ydCB0eXBlIEFzc2Vzc21lbnQgPSB0eXBlb2YgYXNzZXNzbWVudHMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0QXNzZXNzbWVudCA9IHouaW5mZXI8dHlwZW9mIGluc2VydEFzc2Vzc21lbnRTY2hlbWE+O1xuXG5leHBvcnQgdHlwZSBSZXBvcnQgPSB0eXBlb2YgcmVwb3J0cy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRSZXBvcnQgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRSZXBvcnRTY2hlbWE+O1xuXG5leHBvcnQgdHlwZSBXaXphcmRTdGVwRGF0YSA9IHouaW5mZXI8dHlwZW9mIHdpemFyZFN0ZXBEYXRhU2NoZW1hPjtcblxuZXhwb3J0IHR5cGUgUHJpb3JpdGl6ZWRJdGVtID0ge1xuICBpZDogbnVtYmVyO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXBhcnRtZW50OiBzdHJpbmc7XG4gIHZhbHVlU2NvcmU6IG51bWJlcjtcbiAgZWZmb3J0U2NvcmU6IG51bWJlcjtcbiAgcHJpb3JpdHk6IFByaW9yaXR5TGV2ZWw7XG4gIHZhbHVlTGV2ZWw6IFZhbHVlTGV2ZWw7XG4gIGVmZm9ydExldmVsOiBFZmZvcnRMZXZlbDtcbn07XG5cbmV4cG9ydCB0eXBlIEhlYXRtYXBEYXRhID0ge1xuICBtYXRyaXg6IHtcbiAgICBba2V5IGluIFZhbHVlTGV2ZWxdOiB7XG4gICAgICBba2V5IGluIEVmZm9ydExldmVsXToge1xuICAgICAgICBwcmlvcml0eTogUHJpb3JpdHlMZXZlbDtcbiAgICAgICAgaXRlbXM6IEFycmF5PHtcbiAgICAgICAgICBpZDogbnVtYmVyO1xuICAgICAgICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgICAgICAgZGVwYXJ0bWVudDogc3RyaW5nO1xuICAgICAgICB9PjtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIEFJU3VnZ2VzdGlvbiA9IHtcbiAgcm9sZUlkOiBudW1iZXI7XG4gIHJvbGVUaXRsZTogc3RyaW5nO1xuICBjYXBhYmlsaXRpZXM6IEFycmF5PHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgfT47XG59O1xuXG5leHBvcnQgdHlwZSBQZXJmb3JtYW5jZUltcGFjdCA9IHtcbiAgcm9sZUltcGFjdHM6IEFycmF5PHtcbiAgICByb2xlVGl0bGU6IHN0cmluZztcbiAgICBtZXRyaWNzOiBBcnJheTx7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICBpbXByb3ZlbWVudDogbnVtYmVyO1xuICAgIH0+O1xuICB9PjtcbiAgZXN0aW1hdGVkUm9pOiBudW1iZXI7XG59O1xuXG4vLyBKb2IgRGVzY3JpcHRpb24gbW9kZWxzXG5leHBvcnQgY29uc3Qgam9iRGVzY3JpcHRpb25zID0gcGdUYWJsZShcImpvYl9kZXNjcmlwdGlvbnNcIiwge1xuICBpZDogc2VyaWFsKFwiaWRcIikucHJpbWFyeUtleSgpLFxuICB0aXRsZTogdGV4dChcInRpdGxlXCIpLm5vdE51bGwoKSxcbiAgY29tcGFueTogdGV4dChcImNvbXBhbnlcIiksXG4gIGxvY2F0aW9uOiB0ZXh0KFwibG9jYXRpb25cIiksXG4gIGpvYkJvYXJkOiB0ZXh0KFwiam9iX2JvYXJkXCIpLm5vdE51bGwoKSxcbiAgc291cmNlVXJsOiB0ZXh0KFwic291cmNlX3VybFwiKS5ub3ROdWxsKCksXG4gIHJhd0NvbnRlbnQ6IHRleHQoXCJyYXdfY29udGVudFwiKS5ub3ROdWxsKCksXG4gIHByb2Nlc3NlZENvbnRlbnQ6IGpzb25iKFwicHJvY2Vzc2VkX2NvbnRlbnRcIiksXG4gIGtleXdvcmRzOiB0ZXh0KFwia2V5d29yZHNcIikuYXJyYXkoKSxcbiAgZGF0ZVNjcmFwZWQ6IHRpbWVzdGFtcChcImRhdGVfc2NyYXBlZFwiKS5kZWZhdWx0Tm93KCkubm90TnVsbCgpLFxuICBkYXRlUHJvY2Vzc2VkOiB0aW1lc3RhbXAoXCJkYXRlX3Byb2Nlc3NlZFwiKSxcbiAgc3RhdHVzOiB0ZXh0KFwic3RhdHVzXCIpLmRlZmF1bHQoXCJyYXdcIikubm90TnVsbCgpLCAvLyByYXcsIHByb2Nlc3NlZCwgZXJyb3JcbiAgZXJyb3I6IHRleHQoXCJlcnJvclwiKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0Sm9iRGVzY3JpcHRpb25TY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoam9iRGVzY3JpcHRpb25zKS5waWNrKHtcbiAgdGl0bGU6IHRydWUsXG4gIGNvbXBhbnk6IHRydWUsXG4gIGxvY2F0aW9uOiB0cnVlLFxuICBqb2JCb2FyZDogdHJ1ZSxcbiAgc291cmNlVXJsOiB0cnVlLFxuICByYXdDb250ZW50OiB0cnVlLFxuICBrZXl3b3JkczogdHJ1ZSxcbiAgc3RhdHVzOiB0cnVlLFxufSk7XG5cbmV4cG9ydCBjb25zdCBqb2JTY3JhcGVyQ29uZmlncyA9IHBnVGFibGUoXCJqb2Jfc2NyYXBlcl9jb25maWdzXCIsIHtcbiAgaWQ6IHNlcmlhbChcImlkXCIpLnByaW1hcnlLZXkoKSxcbiAgbmFtZTogdGV4dChcIm5hbWVcIikubm90TnVsbCgpLFxuICB0YXJnZXRXZWJzaXRlOiB0ZXh0KFwidGFyZ2V0X3dlYnNpdGVcIikubm90TnVsbCgpLFxuICBrZXl3b3JkczogdGV4dChcImtleXdvcmRzXCIpLmFycmF5KCksXG4gIGxvY2F0aW9uOiB0ZXh0KFwibG9jYXRpb25cIiksXG4gIGlzQWN0aXZlOiBib29sZWFuKFwiaXNfYWN0aXZlXCIpLmRlZmF1bHQodHJ1ZSkubm90TnVsbCgpLFxuICBjcm9uU2NoZWR1bGU6IHRleHQoXCJjcm9uX3NjaGVkdWxlXCIpLmRlZmF1bHQoXCIwIDAgKiAqICpcIikubm90TnVsbCgpLCAvLyBEYWlseSBhdCBtaWRuaWdodCBieSBkZWZhdWx0XG4gIGxhc3RSdW46IHRpbWVzdGFtcChcImxhc3RfcnVuXCIpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0Sm9iU2NyYXBlckNvbmZpZ1NjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShqb2JTY3JhcGVyQ29uZmlncykucGljayh7XG4gIG5hbWU6IHRydWUsXG4gIHRhcmdldFdlYnNpdGU6IHRydWUsXG4gIGtleXdvcmRzOiB0cnVlLFxuICBsb2NhdGlvbjogdHJ1ZSxcbiAgaXNBY3RpdmU6IHRydWUsXG4gIGNyb25TY2hlZHVsZTogdHJ1ZSxcbn0pO1xuXG4vLyBUeXBlc1xuZXhwb3J0IHR5cGUgSm9iRGVzY3JpcHRpb24gPSB0eXBlb2Ygam9iRGVzY3JpcHRpb25zLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydEpvYkRlc2NyaXB0aW9uID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0Sm9iRGVzY3JpcHRpb25TY2hlbWE+O1xuXG5leHBvcnQgdHlwZSBKb2JTY3JhcGVyQ29uZmlnID0gdHlwZW9mIGpvYlNjcmFwZXJDb25maWdzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydEpvYlNjcmFwZXJDb25maWcgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRKb2JTY3JhcGVyQ29uZmlnU2NoZW1hPjtcblxuZXhwb3J0IHR5cGUgUHJvY2Vzc2VkSm9iQ29udGVudCA9IHtcbiAgc2tpbGxzOiBzdHJpbmdbXTtcbiAgZXhwZXJpZW5jZTogc3RyaW5nW107XG4gIGVkdWNhdGlvbjogc3RyaW5nW107XG4gIHJlc3BvbnNpYmlsaXRpZXM6IHN0cmluZ1tdO1xuICBiZW5lZml0czogc3RyaW5nW107XG4gIHJlcXVpcmVkU2tpbGxzOiBzdHJpbmdbXTtcbiAgcHJlZmVycmVkU2tpbGxzOiBzdHJpbmdbXTtcbiAgc2FsYXJ5UmFuZ2U/OiB7XG4gICAgbWluPzogbnVtYmVyO1xuICAgIG1heD86IG51bWJlcjtcbiAgICBjdXJyZW5jeT86IHN0cmluZztcbiAgfTtcbiAgam9iVHlwZT86IHN0cmluZztcbiAgaW5kdXN0cnk/OiBzdHJpbmc7XG4gIHNlbmlvcml0eUxldmVsPzogc3RyaW5nO1xufTtcblxuLy8gTmV3IFRhYmxlOiBBc3Nlc3NtZW50IFJlc3BvbnNlc1xuZXhwb3J0IGNvbnN0IGFzc2Vzc21lbnRSZXNwb25zZXMgPSBwZ1RhYmxlKFwiYXNzZXNzbWVudF9yZXNwb25zZXNcIiwge1xuICByZXNwb25zZUlkOiBzZXJpYWwoXCJyZXNwb25zZV9pZFwiKS5wcmltYXJ5S2V5KCksXG4gIGFzc2Vzc21lbnRJZDogaW50ZWdlcihcImFzc2Vzc21lbnRfaWRcIikubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gYXNzZXNzbWVudHMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcbiAgdXNlcklkOiBpbnRlZ2VyKFwidXNlcl9pZFwiKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxuICBxdWVzdGlvbklkZW50aWZpZXI6IHRleHQoXCJxdWVzdGlvbl9pZGVudGlmaWVyXCIpLm5vdE51bGwoKSwgLy8gQ291bGQgYmUgYSBwYXRoIGxpa2UgXCJwYWluUG9pbnRzLnJvbGVYLnNldmVyaXR5XCIgb3IgYSBzcGVjaWZpYyBxdWVzdGlvbiBJRFxuICByZXNwb25zZVRleHQ6IHRleHQoXCJyZXNwb25zZV90ZXh0XCIpLFxuICByZXNwb25zZU51bWVyaWM6IG51bWVyaWMoXCJyZXNwb25zZV9udW1lcmljXCIpLFxuICByZXNwb25zZUJvb2xlYW46IGJvb2xlYW4oXCJyZXNwb25zZV9ib29sZWFuXCIpLFxuICByZXNwb25zZUpzb246IGpzb25iKFwicmVzcG9uc2VfanNvblwiKSwgLy8gRm9yIG11bHRpLXNlbGVjdCwgZXRjLlxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcbn0pO1xuXG4vLyBOZXcgVGFibGU6IEFJIFRvb2xzXG5leHBvcnQgY29uc3QgYWlUb29scyA9IHBnVGFibGUoXCJhaV90b29sc1wiLCB7XG4gIHRvb2xfaWQ6IGludGVnZXIoXCJ0b29sX2lkXCIpLnByaW1hcnlLZXkoKSwgLy8gVXNlIGludGVnZXIgUEsgYmFzZWQgb24gZXhpc3Rpbmcgc2NyaXB0XG4gIHRvb2xfbmFtZTogdGV4dChcInRvb2xfbmFtZVwiKS5ub3ROdWxsKCksIC8vLnVuaXF1ZSgpLCAvLyBNYWtpbmcgdW5pcXVlIGxhdGVyIGlmIG5lZWRlZCBhZnRlciBjbGVhbnVwXG4gIHByaW1hcnlfY2F0ZWdvcnk6IHRleHQoXCJwcmltYXJ5X2NhdGVnb3J5XCIpLCAvLyBDYXRlZ29yeSBvZiB0aGUgdG9vbCBpdHNlbGZcbiAgbGljZW5zZV90eXBlOiB0ZXh0KFwibGljZW5zZV90eXBlXCIpLFxuICBkZXNjcmlwdGlvbjogdGV4dChcImRlc2NyaXB0aW9uXCIpLFxuICB3ZWJzaXRlX3VybDogdGV4dChcIndlYnNpdGVfdXJsXCIpLFxuICB0YWdzOiB0ZXh0KFwidGFnc1wiKS5hcnJheSgpLFxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXG4gIHVwZGF0ZWRfYXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLm5vdE51bGwoKSxcbn0sICh0YWJsZSkgPT4gKHtcbiAgICB0b29sTmFtZUlkeDogdW5pcXVlSW5kZXgoXCJpZHhfYWlfdG9vbHNfdG9vbF9uYW1lXCIpLm9uKHRhYmxlLnRvb2xfbmFtZSksIC8vIEtlZXAgdW5pcXVlIGluZGV4IGF0dGVtcHRcbn0pKTtcblxuZXhwb3J0IGNvbnN0IGluc2VydEFpVG9vbFNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShhaVRvb2xzKS5vbWl0KHtcbiAgLy8gdG9vbF9pZCBtdXN0IGJlIHByb3ZpZGVkIGlmIG5vdCBzZXJpYWxcbiAgY3JlYXRlZF9hdDogdHJ1ZSxcbiAgdXBkYXRlZF9hdDogdHJ1ZSxcbn0pLmV4dGVuZCh7XG4gIHRhZ3M6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKS5kZWZhdWx0KFtdKSxcbn0pO1xuXG4vLyBOZXcgVGFibGU6IENhcGFiaWxpdHkgVG9vbCBNYXBwaW5nIChNYW55LXRvLU1hbnkpXG5leHBvcnQgY29uc3QgY2FwYWJpbGl0eVRvb2xNYXBwaW5nID0gcGdUYWJsZShcImNhcGFiaWxpdHlfdG9vbF9tYXBwaW5nXCIsIHtcbiAgY2FwYWJpbGl0eV9pZDogaW50ZWdlcihcImNhcGFiaWxpdHlfaWRcIikubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gYWlDYXBhYmlsaXRpZXMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcbiAgdG9vbF9pZDogaW50ZWdlcihcInRvb2xfaWRcIikubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gYWlUb29scy50b29sX2lkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksIC8vIFJlZmVyZW5jZXMgdG9vbF9pZCBQS1xuICAvLyBBZGQgcHJpbWFyeSBrZXkgY29uc3RyYWludCBmb3IgdGhlIGNvbWJpbmF0aW9uXG59LCAodGFibGUpID0+ICh7XG4gICAgLy8gcGs6IHBnLnByaW1hcnlLZXkoeyBjb2x1bW5zOiBbdGFibGUuY2FwYWJpbGl0eV9pZCwgdGFibGUudG9vbF9pZF0gfSksIC8vIFVzZSBwcmltYXJ5S2V5IGltcG9ydFxuICAgIHBrOiBwcmltYXJ5S2V5KHsgY29sdW1uczogW3RhYmxlLmNhcGFiaWxpdHlfaWQsIHRhYmxlLnRvb2xfaWRdIH0pLCAvLyBDb21wb3NpdGUgcHJpbWFyeSBrZXlcbn0pKTtcblxuLy8gTmV3IFRhYmxlOiBBc3Nlc3NtZW50IFJlc3VsdHNcbmV4cG9ydCBjb25zdCBhc3Nlc3NtZW50UmVzdWx0cyA9IHBnVGFibGUoXCJhc3Nlc3NtZW50X3Jlc3VsdHNcIiwge1xuICByZXN1bHRJZDogc2VyaWFsKFwicmVzdWx0X2lkXCIpLnByaW1hcnlLZXkoKSxcbiAgYXNzZXNzbWVudElkOiBpbnRlZ2VyKFwiYXNzZXNzbWVudF9pZFwiKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBhc3Nlc3NtZW50cy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxuICBpZGVudGlmaWVkVGhlbWVzOiBqc29uYihcImlkZW50aWZpZWRfdGhlbWVzXCIpLCAvLyBlLmcuLCBbeyB0aGVtZTogXCJFZmZpY2llbmN5XCIsIGtleXdvcmRzOiBbXCIuLi5cIiwgXCIuLi5cIl0gfV1cbiAgcmFua2VkUHJpb3JpdGllczoganNvbmIoXCJyYW5rZWRfcHJpb3JpdGllc1wiKSwgLy8gZS5nLiwgW3sgY2FwYWJpbGl0eUlkOiAxLCB2YWx1ZV9zY29yZTogNCwgZWFzZV9zY29yZTogNSwgcmFuazogMSB9LCAuLi5dXG4gIHJlY29tbWVuZGVkQ2FwYWJpbGl0aWVzOiBqc29uYihcInJlY29tbWVuZGVkX2NhcGFiaWxpdGllc1wiKSwgLy8gQXJyYXkgb2YgYWlfY2FwYWJpbGl0aWVzLmlkIG9yIG9iamVjdHMgeyBpZDogWCwgcmF0aW9uYWxlOiBcIi4uLlwiIH1cbiAgY2FwYWJpbGl0eVJhdGlvbmFsZToganNvbmIoXCJjYXBhYmlsaXR5X3JhdGlvbmFsZVwiKSwgLy8geyBjYXBhYmlsaXR5SWQ6IFgsIGV4cGxhbmF0aW9uOiBcIi4uLlwiIH1cbiAgZXhpc3RpbmdUb29sQW5hbHlzaXM6IHRleHQoXCJleGlzdGluZ190b29sX2FuYWx5c2lzXCIpLFxuICByZWNvbW1lbmRlZFRvb2xzOiBqc29uYihcInJlY29tbWVuZGVkX3Rvb2xzXCIpLCAvLyBBcnJheSBvZiBhaV90b29scy5pZCBvciBvYmplY3RzIHsgaWQ6IFksIHJlYXNvbjogXCIuLi5cIiB9XG4gIHJvbGxvdXRDb21tZW50YXJ5OiB0ZXh0KFwicm9sbG91dF9jb21tZW50YXJ5XCIpLFxuICBoZWF0bWFwRGF0YToganNvbmIoXCJoZWF0bWFwX2RhdGFcIiksIC8vIFN0cnVjdHVyZSBmb3IgVmFsdWUgdnMuIEVhc2UgaGVhdG1hcFxuICBwcm9jZXNzaW5nU3RhdHVzOiB0ZXh0KFwicHJvY2Vzc2luZ19zdGF0dXNcIikuZGVmYXVsdCgnUGVuZGluZycpLm5vdE51bGwoKSwgLy8gJ1BlbmRpbmcnLCAnUHJvY2Vzc2luZycsICdTdWNjZXNzJywgJ0ZhaWxlZCdcbiAgZXJyb3JNZXNzYWdlOiB0ZXh0KFwiZXJyb3JfbWVzc2FnZVwiKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXG4gIGNvbXBsZXRlZEF0OiB0aW1lc3RhbXAoXCJjb21wbGV0ZWRfYXRcIiksXG59LCAodGFibGUpID0+IHtcbiAgcmV0dXJuIHtcbiAgICAvLyBFbnN1cmUgb25seSBvbmUgcmVzdWx0IHBlciBhc3Nlc3NtZW50XG4gICAgYXNzZXNzbWVudElkVW5pcXVlOiB1bmlxdWVJbmRleChcImFzc2Vzc21lbnRfaWRfdW5pcXVlX2lkeFwiKS5vbih0YWJsZS5hc3Nlc3NtZW50SWQpLFxuICB9O1xufSk7XG5cbi8vIEFkZCBpbmZlciB0eXBlcyBmb3IgbmV3IHRhYmxlc1xuZXhwb3J0IHR5cGUgQXNzZXNzbWVudFJlc3BvbnNlID0gdHlwZW9mIGFzc2Vzc21lbnRSZXNwb25zZXMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0QXNzZXNzbWVudFJlc3BvbnNlID0gdHlwZW9mIGFzc2Vzc21lbnRSZXNwb25zZXMuJGluZmVySW5zZXJ0O1xuXG5leHBvcnQgdHlwZSBBaVRvb2wgPSB0eXBlb2YgYWlUb29scy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRBaVRvb2wgPSB0eXBlb2YgYWlUb29scy4kaW5mZXJJbnNlcnQ7XG4vLyBEZWZpbmUgdGhlIHR5cGUgZm9yIGZvcm0gZGF0YSwgZXhjbHVkaW5nIGdlbmVyYXRlZCBmaWVsZHNcbmV4cG9ydCB0eXBlIEFpVG9vbEZvcm1EYXRhID0gT21pdDxBaVRvb2wsICd0b29sX2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz47XG5cbmV4cG9ydCB0eXBlIENhcGFiaWxpdHlUb29sTWFwcGluZyA9IHR5cGVvZiBjYXBhYmlsaXR5VG9vbE1hcHBpbmcuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0Q2FwYWJpbGl0eVRvb2xNYXBwaW5nID0gdHlwZW9mIGNhcGFiaWxpdHlUb29sTWFwcGluZy4kaW5mZXJJbnNlcnQ7XG5cbmV4cG9ydCB0eXBlIEFzc2Vzc21lbnRSZXN1bHQgPSB0eXBlb2YgYXNzZXNzbWVudFJlc3VsdHMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0QXNzZXNzbWVudFJlc3VsdCA9IHR5cGVvZiBhc3Nlc3NtZW50UmVzdWx0cy4kaW5mZXJJbnNlcnQ7XG5cbi8vIEFkZCBuZXcgdGFibGUgZm9yIGFzc2Vzc21lbnQgc2NvcmVzXG5leHBvcnQgY29uc3QgYXNzZXNzbWVudFNjb3JlcyA9IHBnVGFibGUoXCJhc3Nlc3NtZW50X3Njb3Jlc1wiLCB7XG4gIGlkOiBzZXJpYWwoXCJpZFwiKS5wcmltYXJ5S2V5KCksXG4gIHdpemFyZFN0ZXBJZDogdGV4dChcIndpemFyZF9zdGVwX2lkXCIpLm5vdE51bGwoKS51bmlxdWUoKSxcbiAgdGltZVNhdmluZ3M6IG51bWVyaWMoXCJ0aW1lX3NhdmluZ3NcIikubm90TnVsbCgpLFxuICBxdWFsaXR5SW1wYWN0OiBudW1lcmljKFwicXVhbGl0eV9pbXBhY3RcIikubm90TnVsbCgpLFxuICBzdHJhdGVnaWNBbGlnbm1lbnQ6IG51bWVyaWMoXCJzdHJhdGVnaWNfYWxpZ25tZW50XCIpLm5vdE51bGwoKSxcbiAgZGF0YVJlYWRpbmVzczogbnVtZXJpYyhcImRhdGFfcmVhZGluZXNzXCIpLm5vdE51bGwoKSxcbiAgdGVjaG5pY2FsRmVhc2liaWxpdHk6IG51bWVyaWMoXCJ0ZWNobmljYWxfZmVhc2liaWxpdHlcIikubm90TnVsbCgpLFxuICBhZG9wdGlvblJpc2s6IG51bWVyaWMoXCJhZG9wdGlvbl9yaXNrXCIpLm5vdE51bGwoKSxcbiAgdmFsdWVQb3RlbnRpYWxUb3RhbDogbnVtZXJpYyhcInZhbHVlX3BvdGVudGlhbF90b3RhbFwiKS5ub3ROdWxsKCksXG4gIGVhc2VPZkltcGxlbWVudGF0aW9uVG90YWw6IG51bWVyaWMoXCJlYXNlX29mX2ltcGxlbWVudGF0aW9uX3RvdGFsXCIpLm5vdE51bGwoKSxcbiAgdG90YWxTY29yZTogbnVtZXJpYyhcInRvdGFsX3Njb3JlXCIpLm5vdE51bGwoKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5kZWZhdWx0Tm93KCkubm90TnVsbCgpLFxufSk7XG5cbmV4cG9ydCB0eXBlIEFzc2Vzc21lbnRTY29yZSA9IHR5cGVvZiBhc3Nlc3NtZW50U2NvcmVzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydEFzc2Vzc21lbnRTY29yZSA9IHR5cGVvZiBhc3Nlc3NtZW50U2NvcmVzLiRpbmZlckluc2VydDtcblxuZXhwb3J0IGludGVyZmFjZSBBc3Nlc3NtZW50U2NvcmVEYXRhIHtcbiAgaWQ6IHN0cmluZztcbiAgd2l6YXJkU3RlcElkOiBzdHJpbmc7XG4gIHRpbWVTYXZpbmdzOiBTY29yZVZhbHVlO1xuICBxdWFsaXR5SW1wYWN0OiBTY29yZVZhbHVlO1xuICBzdHJhdGVnaWNBbGlnbm1lbnQ6IFNjb3JlVmFsdWU7XG4gIGRhdGFSZWFkaW5lc3M6IFNjb3JlVmFsdWU7XG4gIHRlY2huaWNhbEZlYXNpYmlsaXR5OiBTY29yZVZhbHVlO1xuICBhZG9wdGlvblJpc2s6IFNjb3JlVmFsdWU7XG4gIHZhbHVlUG90ZW50aWFsVG90YWw6IG51bWJlcjtcbiAgZWFzZU9mSW1wbGVtZW50YXRpb25Ub3RhbDogbnVtYmVyO1xuICB0b3RhbFNjb3JlOiBudW1iZXI7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFzc2Vzc21lbnRTY29yZVJlc3BvbnNlIHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgbWVzc2FnZT86IHN0cmluZztcbiAgZGF0YT86IEFzc2Vzc21lbnRTY29yZURhdGE7XG59XG5cbi8vIFR5cGUgZm9yIEpvYlJvbGUgaW5jbHVkaW5nIGRlcGFydG1lbnQgbmFtZVxuZXhwb3J0IHR5cGUgSm9iUm9sZVdpdGhEZXBhcnRtZW50ID0gSm9iUm9sZSAmIHtcbiAgZGVwYXJ0bWVudE5hbWU6IHN0cmluZztcbn07XG4iXSwibmFtZXMiOlsicGdUYWJsZSIsInRleHQiLCJzZXJpYWwiLCJpbnRlZ2VyIiwianNvbmIiLCJ0aW1lc3RhbXAiLCJib29sZWFuIiwibnVtZXJpYyIsInVuaXF1ZUluZGV4IiwicHJpbWFyeUtleSIsImNyZWF0ZUluc2VydFNjaGVtYSIsInoiLCJ1c2VycyIsImlkIiwidXNlcm5hbWUiLCJub3ROdWxsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJmdWxsTmFtZSIsImVtYWlsIiwicm9sZSIsImRlZmF1bHQiLCJpbnNlcnRVc2VyU2NoZW1hIiwicGljayIsIm9yZ2FuaXphdGlvbnMiLCJuYW1lIiwiaW5kdXN0cnkiLCJzaXplIiwiZGVzY3JpcHRpb24iLCJpbnNlcnRPcmdhbml6YXRpb25TY2hlbWEiLCJkZXBhcnRtZW50cyIsImluc2VydERlcGFydG1lbnRTY2hlbWEiLCJqb2JSb2xlcyIsInRpdGxlIiwiZGVwYXJ0bWVudElkIiwia2V5UmVzcG9uc2liaWxpdGllcyIsImFycmF5IiwiYWlQb3RlbnRpYWwiLCJpbnNlcnRKb2JSb2xlU2NoZW1hIiwiZXh0ZW5kIiwidW5pb24iLCJzdHJpbmciLCJ0cmFuc2Zvcm0iLCJzdHIiLCJzcGxpdCIsIm1hcCIsInMiLCJ0cmltIiwiZmlsdGVyIiwibGVuZ3RoIiwiYWlDYXBhYmlsaXRpZXMiLCJjYXRlZ29yeSIsImltcGxlbWVudGF0aW9uRWZmb3J0IiwiYnVzaW5lc3NWYWx1ZSIsImVhc2VTY29yZSIsInZhbHVlU2NvcmUiLCJwcmltYXJ5X2NhdGVnb3J5IiwibGljZW5zZV90eXBlIiwid2Vic2l0ZV91cmwiLCJ0YWdzIiwiY3JlYXRlZEF0IiwiZGVmYXVsdE5vdyIsInVwZGF0ZWRBdCIsImluc2VydEFJQ2FwYWJpbGl0eVNjaGVtYSIsImVudW0iLCJvcHRpb25hbCIsImFzc2Vzc21lbnRzIiwib3JnYW5pemF0aW9uSWQiLCJ1c2VySWQiLCJzdGF0dXMiLCJzdGVwRGF0YSIsImluc2VydEFzc2Vzc21lbnRTY2hlbWEiLCJyZXBvcnRzIiwiYXNzZXNzbWVudElkIiwiZ2VuZXJhdGVkQXQiLCJleGVjdXRpdmVTdW1tYXJ5IiwicHJpb3JpdGl6YXRpb25EYXRhIiwiYWlTdWdnZXN0aW9ucyIsInBlcmZvcm1hbmNlSW1wYWN0IiwiY29uc3VsdGFudENvbW1lbnRhcnkiLCJpbnNlcnRSZXBvcnRTY2hlbWEiLCJzY29yaW5nQ3JpdGVyaWEiLCJ2YWx1ZVBvdGVudGlhbCIsInRpbWVTYXZpbmdzIiwicXVhbGl0eUltcGFjdCIsInN0cmF0ZWdpY0FsaWdubWVudCIsImVhc2VPZkltcGxlbWVudGF0aW9uIiwiZGF0YVJlYWRpbmVzcyIsInRlY2huaWNhbEZlYXNpYmlsaXR5IiwiYWRvcHRpb25SaXNrIiwid2l6YXJkU3RlcERhdGFTY2hlbWEiLCJvYmplY3QiLCJiYXNpY3MiLCJjb21wYW55TmFtZSIsImdvYWxzIiwic3Rha2Vob2xkZXJzIiwicm9sZXMiLCJzZWxlY3RlZERlcGFydG1lbnRzIiwic2VsZWN0ZWRSb2xlcyIsIm51bWJlciIsImRlcGFydG1lbnQiLCJyZXNwb25zaWJpbGl0aWVzIiwicHJpb3JpdGl6ZWRSb2xlcyIsImN1c3RvbURlcGFydG1lbnQiLCJwYWluUG9pbnRzIiwicm9sZVNwZWNpZmljUGFpblBvaW50cyIsInJlY29yZCIsInNldmVyaXR5IiwiZnJlcXVlbmN5IiwiaW1wYWN0IiwiZ2VuZXJhbFBhaW5Qb2ludHMiLCJ3b3JrVm9sdW1lIiwicm9sZVdvcmtWb2x1bWUiLCJ2b2x1bWUiLCJ0aW1lU3BlbnQiLCJjb21wbGV4aXR5IiwiZXJyb3JSaXNrIiwicmVwZXRpdGl2ZW5lc3MiLCJpc0RhdGFEcml2ZW4iLCJkYXRhRGVzY3JpcHRpb24iLCJoYXNQcmVkaWN0aXZlVGFza3MiLCJwcmVkaWN0aXZlVGFza3NEZXNjcmlwdGlvbiIsIm5lZWRzQ29udGVudEdlbmVyYXRpb24iLCJjb250ZW50R2VuZXJhdGlvbkRlc2NyaXB0aW9uIiwiZGVjaXNpb25Db21wbGV4aXR5IiwidGVjaFN0YWNrIiwiY3VycmVudFN5c3RlbXMiLCJkYXRhQXZhaWxhYmlsaXR5IiwiZXhpc3RpbmdBdXRvbWF0aW9uIiwiZGF0YVF1YWxpdHkiLCJkYXRhUXVhbGl0eUlzc3VlcyIsImFwcHJvdmFscyIsImFkb3B0aW9uIiwicm9sZUFkb3B0aW9uIiwib3Blbm5lc3MiLCJza2lsbHNSZWFkaW5lc3MiLCJiZW5lZml0cyIsInN1Y2Nlc3NDcml0ZXJpYSIsInJpc2tzIiwic3VpdGFiaWxpdHkiLCJzY29yZXMiLCJhc3Nlc3NtZW50U2NvcmVzIiwiY3VzdG9tIiwic3RyaWN0IiwicHJpb3JpdHlMZXZlbHMiLCJlZmZvcnRMZXZlbHMiLCJ2YWx1ZUxldmVscyIsImpvYkRlc2NyaXB0aW9ucyIsImNvbXBhbnkiLCJsb2NhdGlvbiIsImpvYkJvYXJkIiwic291cmNlVXJsIiwicmF3Q29udGVudCIsInByb2Nlc3NlZENvbnRlbnQiLCJrZXl3b3JkcyIsImRhdGVTY3JhcGVkIiwiZGF0ZVByb2Nlc3NlZCIsImVycm9yIiwiaW5zZXJ0Sm9iRGVzY3JpcHRpb25TY2hlbWEiLCJqb2JTY3JhcGVyQ29uZmlncyIsInRhcmdldFdlYnNpdGUiLCJpc0FjdGl2ZSIsImNyb25TY2hlZHVsZSIsImxhc3RSdW4iLCJpbnNlcnRKb2JTY3JhcGVyQ29uZmlnU2NoZW1hIiwiYXNzZXNzbWVudFJlc3BvbnNlcyIsInJlc3BvbnNlSWQiLCJyZWZlcmVuY2VzIiwib25EZWxldGUiLCJxdWVzdGlvbklkZW50aWZpZXIiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZU51bWVyaWMiLCJyZXNwb25zZUJvb2xlYW4iLCJyZXNwb25zZUpzb24iLCJhaVRvb2xzIiwidG9vbF9pZCIsInRvb2xfbmFtZSIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwidGFibGUiLCJ0b29sTmFtZUlkeCIsIm9uIiwiaW5zZXJ0QWlUb29sU2NoZW1hIiwib21pdCIsImNhcGFiaWxpdHlUb29sTWFwcGluZyIsImNhcGFiaWxpdHlfaWQiLCJwayIsImNvbHVtbnMiLCJhc3Nlc3NtZW50UmVzdWx0cyIsInJlc3VsdElkIiwiaWRlbnRpZmllZFRoZW1lcyIsInJhbmtlZFByaW9yaXRpZXMiLCJyZWNvbW1lbmRlZENhcGFiaWxpdGllcyIsImNhcGFiaWxpdHlSYXRpb25hbGUiLCJleGlzdGluZ1Rvb2xBbmFseXNpcyIsInJlY29tbWVuZGVkVG9vbHMiLCJyb2xsb3V0Q29tbWVudGFyeSIsImhlYXRtYXBEYXRhIiwicHJvY2Vzc2luZ1N0YXR1cyIsImVycm9yTWVzc2FnZSIsImNvbXBsZXRlZEF0IiwiYXNzZXNzbWVudElkVW5pcXVlIiwid2l6YXJkU3RlcElkIiwidmFsdWVQb3RlbnRpYWxUb3RhbCIsImVhc2VPZkltcGxlbWVudGF0aW9uVG90YWwiLCJ0b3RhbFNjb3JlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./shared/schema.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod","vendor-chunks/drizzle-orm","vendor-chunks/@neondatabase","vendor-chunks/drizzle-zod","vendor-chunks/dotenv"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdepartments%2Froute&page=%2Fapi%2Fdepartments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdepartments%2Froute.ts&appDir=%2FUsers%2Fsamsena%2FDocuments%2FRepos%2Fairoadmap%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamsena%2FDocuments%2FRepos%2Fairoadmap&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();